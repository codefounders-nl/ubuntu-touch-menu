
/* /web/static/src/js/services/session.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web.session',function(require){"use strict";var Session=require('web.Session');var modules=odoo._modules;var session=new Session(undefined,undefined,{modules:modules,use_cors:false});session.is_bound=session.session_bind();return session;});;

/* /web/static/src/js/public/public_crash_manager.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web.PublicCrashManager',function(require){"use strict";const core=require('web.core');const CrashManager=require('web.CrashManager').CrashManager;const PublicCrashManager=CrashManager.extend({_displayWarning(message,title,options){this.displayNotification(Object.assign({},options,{title,message,sticky:true,}));},});core.serviceRegistry.add('crash_manager',PublicCrashManager);return{CrashManager:PublicCrashManager,};});;

/* /web/static/src/js/public/public_notification.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web.public.Notification',function(require){'use strict';var Notification=require('web.Notification');Notification.include({xmlDependencies:['/web/static/src/xml/notification.xml'],});});;

/* /web/static/src/js/public/public_root.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web.public.root',function(require){'use strict';var ajax=require('web.ajax');var dom=require('web.dom');var ServiceProviderMixin=require('web.ServiceProviderMixin');var session=require('web.session');var utils=require('web.utils');var publicWidget=require('web.public.widget');var publicRootRegistry=new publicWidget.RootWidgetRegistry();function getLang(){var html=document.documentElement;return(html.getAttribute('lang')||'en_US').replace('-','_');}
var lang=utils.get_cookie('frontend_lang')||getLang();var localeDef=ajax.loadJS('/web/webclient/locale/'+lang.replace('-','_'));window.addEventListener('unhandledrejection',function(ev){if(!ev.reason||!(ev.reason instanceof Error)){ev.stopPropagation();ev.stopImmediatePropagation();ev.preventDefault();}});var PublicRoot=publicWidget.RootWidget.extend(ServiceProviderMixin,{events:_.extend({},publicWidget.RootWidget.prototype.events||{},{'submit .js_website_submit_form':'_onWebsiteFormSubmit','click .js_disable_on_click':'_onDisableOnClick',}),custom_events:_.extend({},publicWidget.RootWidget.prototype.custom_events||{},{'context_get':'_onContextGet','main_object_request':'_onMainObjectRequest','widgets_start_request':'_onWidgetsStartRequest','widgets_stop_request':'_onWidgetsStopRequest',}),init:function(){this._super.apply(this,arguments);ServiceProviderMixin.init.call(this);this.publicWidgets=[];},willStart:function(){return Promise.all([this._super.apply(this,arguments),session.is_bound,localeDef]);},start:function(){var defs=[this._super.apply(this,arguments),this._startWidgets()];this.$(".o_image[data-mimetype^='image']").each(function(){var $img=$(this);if(/gif|jpe|jpg|png/.test($img.data('mimetype'))&&$img.data('src')){$img.css('background-image',"url('"+$img.data('src')+"')");}});if(window.location.hash.indexOf("scrollTop=")>-1){this.el.scrollTop=+window.location.hash.match(/scrollTop=([0-9]+)/)[1];}
if($.fn.placeholder){$('input, textarea').placeholder();}
return Promise.all(defs);},_call_service:function(ev){if(ev.data.service==='ajax'&&ev.data.method==='rpc'){var route=ev.data.args[0];if(_.str.startsWith(route,'/web/dataset/call_kw/')){var params=ev.data.args[1];var options=ev.data.args[2];params.kwargs.context=_.extend({},this._getContext(),params.kwargs.context||{});if(options){params.kwargs.context=_.omit(params.kwargs.context,options.noContextKeys);ev.data.args[2]=_.omit(options,'noContextKeys');}
params.kwargs.context=JSON.parse(JSON.stringify(params.kwargs.context));}}
return ServiceProviderMixin._call_service.apply(this,arguments);},_getContext:function(context){return _.extend({'lang':getLang(),},context||{});},_getExtraContext:function(context){return this._getContext(context);},_getPublicWidgetsRegistry:function(options){return publicWidget.registry;},_getRegistry:function(){return publicRootRegistry;},_startWidgets:function($from,options){var self=this;if($from===undefined){$from=this.$('#wrapwrap');if(!$from.length){$from=this.$el;}}
if(options===undefined){options={};}
this._stopWidgets($from);var defs=_.map(this._getPublicWidgetsRegistry(options),function(PublicWidget){var selector=PublicWidget.prototype.selector||'';var $target=dom.cssFind($from,selector,true);var defs=_.map($target,function(el){var widget=new PublicWidget(self,options);self.publicWidgets.push(widget);return widget.attachTo($(el));});return Promise.all(defs);});return Promise.all(defs);},_stopWidgets:function($from){var removedWidgets=_.map(this.publicWidgets,function(widget){if(!$from||$from.filter(widget.el).length||$from.find(widget.el).length){widget.destroy();return widget;}
return null;});this.publicWidgets=_.difference(this.publicWidgets,removedWidgets);},_onContextGet:function(ev){if(ev.data.extra){ev.data.callback(this._getExtraContext(ev.data.context));}else{ev.data.callback(this._getContext(ev.data.context));}},_onMainObjectRequest:function(ev){var repr=$('html').data('main-object');var m=repr.match(/(.+)\((\d+),(.*)\)/);ev.data.callback({model:m[1],id:m[2]|0,});},_onWidgetsStartRequest:function(ev){this._startWidgets(ev.data.$target,ev.data.options).then(ev.data.onSuccess).guardedCatch(ev.data.onFailure);},_onWidgetsStopRequest:function(ev){this._stopWidgets(ev.data.$target);},_onWebsiteFormSubmit:function(ev){var $buttons=$(ev.currentTarget).find('button[type="submit"], a.a-submit');_.each($buttons,function(btn){var $btn=$(btn);$btn.html('<i class="fa fa-spinner fa-spin"></i> '+$btn.text());$btn.prop('disabled',true);});},_onDisableOnClick:function(ev){$(ev.currentTarget).addClass('disabled');},});return{PublicRoot:PublicRoot,publicRootRegistry:publicRootRegistry,};});;

/* /website/static/src/js/content/website_root_instance.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('root.widget',function(require){'use strict';var lazyloader=require('web.public.lazyloader');var websiteRootData=require('website.root');var websiteRoot=new websiteRootData.WebsiteRoot(null);return lazyloader.allScriptsLoaded.then(function(){return websiteRoot.attachTo(document.body).then(function(){return websiteRoot;});});});;

/* /web/static/src/js/public/public_widget.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web.public.widget',function(require){'use strict';var Class=require('web.Class');var dom=require('web.dom');var mixins=require('web.mixins');var session=require('web.session');var Widget=require('web.Widget');var RootWidget=Widget.extend({custom_events:_.extend({},Widget.prototype.custom_events||{},{'registry_update':'_onRegistryUpdate','get_session':'_onGetSession',}),init:function(){this._super.apply(this,arguments);this._widgets=[];this._listenToUpdates=false;this._getRegistry().setParent(this);},start:function(){var defs=[this._super.apply(this,arguments)];defs.push(this._attachComponents());this._listenToUpdates=true;return Promise.all(defs);},_attachComponent:function(childInfo,$from){var self=this;var $elements=dom.cssFind($from||this.$el,childInfo.selector);var defs=_.map($elements,function(element){var w=new childInfo.Widget(self);self._widgets.push(w);return w.attachTo(element);});return Promise.all(defs);},_attachComponents:function($from){var self=this;var childInfos=this._getRegistry().get();var defs=_.map(childInfos,function(childInfo){return self._attachComponent(childInfo,$from);});return Promise.all(defs);},_getRegistry:function(){},_onGetSession:function(event){if(event.data.callback){event.data.callback(session);}},_onRegistryUpdate:function(ev){ev.stopPropagation();if(this._listenToUpdates){this._attachComponent(ev.data);}},});var RootWidgetRegistry=Class.extend(mixins.EventDispatcherMixin,{init:function(){mixins.EventDispatcherMixin.init.call(this);this._registry=[];},add:function(Widget,selector){var registryInfo={Widget:Widget,selector:selector,};this._registry.push(registryInfo);this.trigger_up('registry_update',registryInfo);},get:function(){return this._registry;},});var PublicWidget=Widget.extend({selector:false,events:{},init:function(parent,options){this._super.apply(this,arguments);this.options=options||{};},destroy:function(){if(this.selector){var $oldel=this.$el;this.setElement(null);}
this._super.apply(this,arguments);if(this.selector){this.$el=$oldel;this.el=$oldel[0];this.$target=this.$el;this.target=this.el;}},setElement:function(){this._super.apply(this,arguments);if(this.selector){this.$target=this.$el;this.target=this.el;}},_delegateEvents:function(){var self=this;var originalEvents=this.events;var events={};_.each(this.events,function(method,event){if(typeof method!=='string'){events[event]=method;return;}
var methodOptions=method.split(' ');if(methodOptions.length<=1){events[event]=method;return;}
var isAsync=_.contains(methodOptions,'async');if(!isAsync){events[event]=method;return;}
method=self.proxy(methodOptions[methodOptions.length-1]);if(_.str.startsWith(event,'click')){method=dom.makeButtonHandler(method);}else{method=dom.makeAsyncHandler(method);}
events[event]=method;});this.events=events;this._super.apply(this,arguments);this.events=originalEvents;},_getContext:function(extra,extraContext){var context;this.trigger_up('context_get',{extra:extra||false,context:extraContext,callback:function(ctx){context=ctx;},});return context;},});var registry={};registry._fixAppleCollapse=PublicWidget.extend({selector:'div[data-toggle="collapse"]',events:{'click':function(){},},});return{RootWidget:RootWidget,RootWidgetRegistry:RootWidgetRegistry,Widget:PublicWidget,registry:registry,};});;

/* /web_editor/static/src/js/frontend/loader.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web_editor.loader',function(require){'use strict';var Wysiwyg=require('web_editor.wysiwyg.root');function load(parent,textarea,options){var loading=textarea.nextElementSibling;if(loading&&!loading.classList.contains('o_wysiwyg_loading')){loading=null;}
if(!textarea.value.match(/\S/)){textarea.value='<p><br/></p>';}
var wysiwyg=new Wysiwyg(parent,options);return wysiwyg.attachTo(textarea).then(()=>{if(loading){loading.parentNode.removeChild(loading);}
return wysiwyg;});}
return{load:load,};});;

/* /portal/static/src/js/portal.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.portal',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.portalDetails=publicWidget.Widget.extend({selector:'.o_portal_details',events:{'change select[name="country_id"]':'_onCountryChange',},start:function(){var def=this._super.apply(this,arguments);this.$state=this.$('select[name="state_id"]');this.$stateOptions=this.$state.filter(':enabled').find('option:not(:first)');this._adaptAddressForm();return def;},_adaptAddressForm:function(){var $country=this.$('select[name="country_id"]');var countryID=($country.val()||0);this.$stateOptions.detach();var $displayedState=this.$stateOptions.filter('[data-country_id='+countryID+']');var nb=$displayedState.appendTo(this.$state).show().length;this.$state.parent().toggle(nb>=1);},_onCountryChange:function(){this._adaptAddressForm();},});publicWidget.registry.portalSearchPanel=publicWidget.Widget.extend({selector:'.o_portal_search_panel',events:{'click .search-submit':'_onSearchSubmitClick','click .dropdown-item':'_onDropdownItemClick','keyup input[name="search"]':'_onSearchInputKeyup',},start:function(){var def=this._super.apply(this,arguments);this._adaptSearchLabel(this.$('.dropdown-item.active'));return def;},_adaptSearchLabel:function(elem){var $label=$(elem).clone();$label.find('span.nolabel').remove();this.$('input[name="search"]').attr('placeholder',$label.text().trim());},_search:function(){var search=$.deparam(window.location.search.substring(1));search['search_in']=this.$('.dropdown-item.active').attr('href').replace('#','');search['search']=this.$('input[name="search"]').val();window.location.search=$.param(search);},_onSearchSubmitClick:function(){this._search();},_onDropdownItemClick:function(ev){ev.preventDefault();var $item=$(ev.currentTarget);$item.closest('.dropdown-menu').find('.dropdown-item').removeClass('active');$item.addClass('active');this._adaptSearchLabel(ev.currentTarget);},_onSearchInputKeyup:function(ev){if(ev.keyCode===$.ui.keyCode.ENTER){this._search();}},});});;

/* /portal/static/src/js/portal_chatter.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.chatter',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var time=require('web.time');var portalComposer=require('portal.composer');var qweb=core.qweb;var _t=core._t;var PortalChatter=publicWidget.Widget.extend({template:'portal.Chatter',xmlDependencies:['/portal/static/src/xml/portal_chatter.xml'],events:{"click .o_portal_chatter_pager_btn":'_onClickPager',},init:function(parent,options){var self=this;this.options={};this._super.apply(this,arguments);_.each(options,function(val,key){self.options[_.str.underscored(key)]=val;});this.options=_.defaults(this.options,{'allow_composer':true,'display_composer':false,'csrf_token':odoo.csrf_token,'message_count':0,'pager_step':10,'pager_scope':5,'pager_start':1,'is_user_public':true,'is_user_publisher':false,'hash':false,'pid':false,'domain':[],});this.set('messages',[]);this.set('message_count',this.options['message_count']);this.set('pager',{});this.set('domain',this.options['domain']);this._currentPage=this.options['pager_start'];},willStart:function(){return Promise.all([this._super.apply(this,arguments),this._chatterInit()]);},start:function(){this.on("change:messages",this,this._renderMessages);this.on("change:message_count",this,function(){this._renderMessageCount();this.set('pager',this._pager(this._currentPage));});this.on("change:pager",this,this._renderPager);this.on("change:domain",this,this._onChangeDomain);this.set('message_count',this.options['message_count']);this.set('messages',this.preprocessMessages(this.result['messages']));var defs=[];defs.push(this._super.apply(this,arguments));if(this.options['display_composer']){this._composer=new portalComposer.PortalComposer(this,this.options);defs.push(this._composer.replace(this.$('.o_portal_chatter_composer')));}
return Promise.all(defs);},messageFetch:function(domain){var self=this;return this._rpc({route:'/mail/chatter_fetch',params:self._messageFetchPrepareParams(),}).then(function(result){self.set('messages',self.preprocessMessages(result['messages']));self.set('message_count',result['message_count']);});},preprocessMessages:function(messages){_.each(messages,function(m){m['author_avatar_url']=_.str.sprintf('/web/image/%s/%s/author_avatar/50x50','mail.message',m.id);m['published_date_str']=_.str.sprintf(_t('Published on %s'),moment(time.str_to_datetime(m.date)).format('MMMM Do YYYY, h:mm:ss a'));});return messages;},_chatterInit:function(){var self=this;return this._rpc({route:'/mail/chatter_init',params:this._messageFetchPrepareParams()}).then(function(result){self.result=result;self.options=_.extend(self.options,self.result['options']||{});return result;});},_changeCurrentPage:function(page,domain){this._currentPage=page;var d=domain?domain:_.clone(this.get('domain'));this.set('domain',d);},_messageFetchPrepareParams:function(){var self=this;var data={'res_model':this.options['res_model'],'res_id':this.options['res_id'],'limit':this.options['pager_step'],'offset':(this._currentPage-1)*this.options['pager_step'],'allow_composer':this.options['allow_composer'],};if(self.options['token']){data['token']=self.options['token'];}
if(this.get('domain')){data['domain']=this.get('domain');}
return data;},_pager:function(page){page=page||1;var total=this.get('message_count');var scope=this.options['pager_scope'];var step=this.options['pager_step'];var pageCount=Math.ceil(parseFloat(total)/step);page=Math.max(1,Math.min(parseInt(page),pageCount));scope-=1;var pmin=Math.max(page-parseInt(Math.floor(scope/2)),1);var pmax=Math.min(pmin+scope,pageCount);if(pmax-scope>0){pmin=pmax-scope;}else{pmin=1;}
var pages=[];_.each(_.range(pmin,pmax+1),function(index){pages.push(index);});return{"page_count":pageCount,"offset":(page-1)*step,"page":page,"page_start":pmin,"page_previous":Math.max(pmin,page-1),"page_next":Math.min(pmax,page+1),"page_end":pmax,"pages":pages};},_renderMessages:function(){this.$('.o_portal_chatter_messages').html(qweb.render("portal.chatter_messages",{widget:this}));},_renderMessageCount:function(){this.$('.o_message_counter').replaceWith(qweb.render("portal.chatter_message_count",{widget:this}));},_renderPager:function(){this.$('.o_portal_chatter_pager').replaceWith(qweb.render("portal.pager",{widget:this}));},_onChangeDomain:function(){var self=this;this.messageFetch().then(function(){var p=self._currentPage;self.set('pager',self._pager(p));});},_onClickPager:function(ev){ev.preventDefault();var page=$(ev.currentTarget).data('page');this._changeCurrentPage(page);},});publicWidget.registry.portalChatter=publicWidget.Widget.extend({selector:'.o_portal_chatter',start:function(){var self=this;var defs=[this._super.apply(this,arguments)];var chatter=new PortalChatter(this,this.$el.data());defs.push(chatter.appendTo(this.$el));return Promise.all(defs).then(function(){if(window.location.hash==='#'+self.$el.attr('id')){$('html, body').scrollTop(self.$el.offset().top);}});},});return{PortalChatter:PortalChatter,};});;

/* /portal/static/src/js/portal_composer.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.composer',function(require){'use strict';var ajax=require('web.ajax');var core=require('web.core');var publicWidget=require('web.public.widget');var qweb=core.qweb;var _t=core._t;var PortalComposer=publicWidget.Widget.extend({template:'portal.Composer',xmlDependencies:['/portal/static/src/xml/portal_chatter.xml'],events:{'change .o_portal_chatter_file_input':'_onFileInputChange','click .o_portal_chatter_attachment_btn':'_onAttachmentButtonClick','click .o_portal_chatter_attachment_delete':'async _onAttachmentDeleteClick','click .o_portal_chatter_composer_btn':'async _onSubmitButtonClick',},init:function(parent,options){this._super.apply(this,arguments);this.options=_.defaults(options||{},{'allow_composer':true,'display_composer':false,'csrf_token':odoo.csrf_token,'token':false,'res_model':false,'res_id':false,});this.attachments=[];},start:function(){var self=this;this.$attachmentButton=this.$('.o_portal_chatter_attachment_btn');this.$fileInput=this.$('.o_portal_chatter_file_input');this.$sendButton=this.$('.o_portal_chatter_composer_btn');this.$attachments=this.$('.o_portal_chatter_composer_form .o_portal_chatter_attachments');this.$attachmentIds=this.$('.o_portal_chatter_attachment_ids');this.$attachmentTokens=this.$('.o_portal_chatter_attachment_tokens');return this._super.apply(this,arguments).then(function(){if(self.options.default_attachment_ids){self.attachments=self.options.default_attachment_ids||[];_.each(self.attachments,function(attachment){attachment.state='done';});self._updateAttachments();}
return Promise.resolve();});},_onAttachmentButtonClick:function(){this.$fileInput.click();},_onAttachmentDeleteClick:function(ev){var self=this;var attachmentId=$(ev.currentTarget).closest('.o_portal_chatter_attachment').data('id');var accessToken=_.find(this.attachments,{'id':attachmentId}).access_token;ev.preventDefault();ev.stopPropagation();this.$sendButton.prop('disabled',true);return this._rpc({route:'/portal/attachment/remove',params:{'attachment_id':attachmentId,'access_token':accessToken,},}).then(function(){self.attachments=_.reject(self.attachments,{'id':attachmentId});self._updateAttachments();self.$sendButton.prop('disabled',false);});},_onFileInputChange:function(){var self=this;this.$sendButton.prop('disabled',true);return Promise.all(_.map(this.$fileInput[0].files,function(file){return new Promise(function(resolve,reject){var data={'name':file.name,'file':file,'res_id':self.options.res_id,'res_model':self.options.res_model,'access_token':self.options.token,};ajax.post('/portal/attachment/add',data).then(function(attachment){attachment.state='pending';self.attachments.push(attachment);self._updateAttachments();resolve();}).guardedCatch(function(error){self.displayNotification({title:_t("Something went wrong."),message:_.str.sprintf(_t("The file <strong>%s</strong> could not be saved."),_.escape(file.name)),type:'warning',sticky:true,});resolve();});});})).then(function(){self.$sendButton.prop('disabled',false);});},_onSubmitButtonClick:function(){return new Promise(function(resolve,reject){});},_updateAttachments:function(){this.$attachmentIds.val(_.pluck(this.attachments,'id'));this.$attachmentTokens.val(_.pluck(this.attachments,'access_token'));this.$attachments.html(qweb.render('portal.Chatter.Attachments',{attachments:this.attachments,showDelete:true,}));},});return{PortalComposer:PortalComposer,};});;

/* /portal/static/src/js/portal_signature.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.signature_form',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var NameAndSignature=require('web.name_and_signature').NameAndSignature;var qweb=core.qweb;var _t=core._t;var SignatureForm=publicWidget.Widget.extend({template:'portal.portal_signature',xmlDependencies:['/portal/static/src/xml/portal_signature.xml'],events:{'click .o_portal_sign_submit':'async _onClickSignSubmit',},custom_events:{'signature_changed':'_onChangeSignature',},init:function(parent,options){this._super.apply(this,arguments);this.csrf_token=odoo.csrf_token;this.callUrl=options.callUrl||'';this.rpcParams=options.rpcParams||{};this.sendLabel=options.sendLabel||_t("Accept & Sign");this.nameAndSignature=new NameAndSignature(this,options.nameAndSignatureOptions||{});},start:function(){var self=this;this.$confirm_btn=this.$('.o_portal_sign_submit');this.$controls=this.$('.o_portal_sign_controls');var subWidgetStart=this.nameAndSignature.replace(this.$('.o_web_sign_name_and_signature'));return Promise.all([subWidgetStart,this._super.apply(this,arguments)]).then(function(){self.nameAndSignature.resetSignature();});},focusName:function(){this.nameAndSignature.focusName();},resetSignature:function(){return this.nameAndSignature.resetSignature();},_onClickSignSubmit:function(ev){var self=this;ev.preventDefault();if(!this.nameAndSignature.validateSignature()){return;}
var name=this.nameAndSignature.getName();var signature=this.nameAndSignature.getSignatureImage()[1];return this._rpc({route:this.callUrl,params:_.extend(this.rpcParams,{'name':name,'signature':signature,}),}).then(function(data){if(data.error){self.$('.o_portal_sign_error_msg').remove();self.$controls.prepend(qweb.render('portal.portal_signature_error',{widget:data}));}else if(data.success){var $success=qweb.render('portal.portal_signature_success',{widget:data});self.$el.empty().append($success);}
if(data.force_refresh){if(data.redirect_url){window.location=data.redirect_url;}else{window.location.reload();}
return new Promise(function(){});}});},_onChangeSignature:function(){var isEmpty=this.nameAndSignature.isSignatureEmpty();this.$confirm_btn.prop('disabled',isEmpty);},});publicWidget.registry.SignatureForm=publicWidget.Widget.extend({selector:'.o_portal_signature_form',start:function(){var hasBeenReset=false;var callUrl=this.$el.data('call-url');var nameAndSignatureOptions={defaultName:this.$el.data('default-name'),mode:this.$el.data('mode'),displaySignatureRatio:this.$el.data('signature-ratio'),signatureType:this.$el.data('signature-type'),};var sendLabel=this.$el.data('send-label');var form=new SignatureForm(this,{callUrl:callUrl,nameAndSignatureOptions:nameAndSignatureOptions,sendLabel:sendLabel,});this.$el.closest('.modal').on('shown.bs.modal',function(ev){if(!hasBeenReset){hasBeenReset=true;form.resetSignature();}else{form.focusName();}});return Promise.all([this._super.apply(this,arguments),form.appendTo(this.$el)]);},});return{SignatureForm:SignatureForm,};});;

/* /portal/static/src/js/portal_sidebar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.PortalSidebar',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var time=require('web.time');var _t=core._t;var PortalSidebar=publicWidget.Widget.extend({start:function(){this._setDelayLabel();return this._super.apply(this,arguments);},_setDelayLabel:function(){var $sidebarTimeago=this.$el.find('.o_portal_sidebar_timeago');_.each($sidebarTimeago,function(el){var dateTime=moment(time.auto_str_to_date($(el).attr('datetime'))),today=moment().startOf('day'),diff=dateTime.diff(today,'days',true),displayStr;if(diff===0){displayStr=_t('Due today');}else if(diff>0){displayStr=_.str.sprintf(_t('Due in %d days'),Math.abs(diff));}else{displayStr=_.str.sprintf(_t('%d days overdue'),Math.abs(diff));}
$(el).text(displayStr);});},_printIframeContent:function(href){if($.browser.mozilla){window.open(href,'_blank');return;}
if(!this.printContent){this.printContent=$('<iframe id="print_iframe_content" src="'+href+'" style="display:none"></iframe>');this.$el.append(this.printContent);this.printContent.on('load',function(){$(this).get(0).contentWindow.print();});}else{this.printContent.get(0).contentWindow.print();}},});return PortalSidebar;});;

/* /website/static/src/js/set_view_track.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.set_view_track',function(require){"use strict";var CustomizeMenu=require('website.customizeMenu');var Widget=require('web.Widget');var TrackPage=Widget.extend({template:'website.track_page',xmlDependencies:['/website/static/src/xml/track_page.xml'],events:{'change #switch-track-page':'_onTrackChange',},start:function(){this.$input=this.$('#switch-track-page');this._isTracked().then((data)=>{if(data[0]['track']){this.track=true;this.$input.attr('checked','checked');}else{this.track=false;}});},_isTracked:function(val){var viewid=$('html').data('viewid');if(!viewid){return Promise.reject();}else{return this._rpc({model:'ir.ui.view',method:'read',args:[[viewid],['track']],});}},_onTrackChange:function(ev){var checkboxValue=this.$input.is(':checked');if(checkboxValue!==this.track){this.track=checkboxValue;this._trackPage(checkboxValue);}},_trackPage:function(val){var viewid=$('html').data('viewid');if(!viewid){return Promise.reject();}else{return this._rpc({model:'ir.ui.view',method:'write',args:[[viewid],{track:val}],});}},});CustomizeMenu.include({_loadCustomizeOptions:function(){var self=this;var def=this._super.apply(this,arguments);return def.then(function(){if(!self.__trackpageLoaded){self.__trackpageLoaded=true;self.trackPage=new TrackPage(self);self.trackPage.appendTo(self.$el.children('.dropdown-menu'));}});},});});;

/* /website/static/lib/jstz.min.js defined in bundle 'web.assets_frontend_lazy' */
!function(e){var a=function(){"use strict";var e="s",s={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},i=function(e){var a=-e.getTimezoneOffset();return null!==a?a:0},r=function(){var a=i(new Date(s.BASELINE_YEAR,0,2)),r=i(new Date(s.BASELINE_YEAR,5,2)),n=a-r;return 0>n?a+",1":n>0?r+",1,"+e:a+",0"},n=function(){var e,a;if("undefined"!=typeof Intl&&"undefined"!=typeof Intl.DateTimeFormat&&(e=Intl.DateTimeFormat(),"undefined"!=typeof e&&"undefined"!=typeof e.resolvedOptions))return a=e.resolvedOptions().timeZone,a&&(a.indexOf("/")>-1||"UTC"===a)?a:void 0},o=function(e){for(var a=new Date(e,0,1,0,0,1,0).getTime(),s=new Date(e,12,31,23,59,59).getTime(),i=a,r=new Date(i).getTimezoneOffset(),n=null,o=null;s-864e5>i;){var t=new Date(i),A=t.getTimezoneOffset();A!==r&&(r>A&&(n=t),A>r&&(o=t),r=A),i+=864e5}return n&&o?{s:u(n).getTime(),e:u(o).getTime()}:!1},u=function l(e,a,i){"undefined"==typeof a&&(a=s.DAY,i=s.HOUR);for(var r=new Date(e.getTime()-a).getTime(),n=e.getTime()+a,o=new Date(r).getTimezoneOffset(),u=r,t=null;n-i>u;){var A=new Date(u),c=A.getTimezoneOffset();if(c!==o){t=A;break}u+=i}return a===s.DAY?l(t,s.HOUR,s.MINUTE):a===s.HOUR?l(t,s.MINUTE,s.SECOND):t},t=function(e,a,s,i){if("N/A"!==s)return s;if("Asia/Beirut"===a){if("Africa/Cairo"===i.name&&13983768e5===e[6].s&&14116788e5===e[6].e)return 0;if("Asia/Jerusalem"===i.name&&13959648e5===e[6].s&&14118588e5===e[6].e)return 0}else if("America/Santiago"===a){if("America/Asuncion"===i.name&&14124816e5===e[6].s&&1397358e6===e[6].e)return 0;if("America/Campo_Grande"===i.name&&14136912e5===e[6].s&&13925196e5===e[6].e)return 0}else if("America/Montevideo"===a){if("America/Sao_Paulo"===i.name&&14136876e5===e[6].s&&1392516e6===e[6].e)return 0}else if("Pacific/Auckland"===a&&"Pacific/Fiji"===i.name&&14142456e5===e[6].s&&13961016e5===e[6].e)return 0;return s},A=function(e,i){for(var r=function(a){for(var r=0,n=0;n<e.length;n++)if(a.rules[n]&&e[n]){if(!(e[n].s>=a.rules[n].s&&e[n].e<=a.rules[n].e)){r="N/A";break}if(r=0,r+=Math.abs(e[n].s-a.rules[n].s),r+=Math.abs(a.rules[n].e-e[n].e),r>s.MAX_SCORE){r="N/A";break}}return r=t(e,i,r,a)},n={},o=a.olson.dst_rules.zones,u=o.length,A=s.AMBIGUITIES[i],c=0;u>c;c++){var m=o[c],l=r(o[c]);"N/A"!==l&&(n[m.name]=l)}for(var f in n)if(n.hasOwnProperty(f))for(var d=0;d<A.length;d++)if(A[d]===f)return f;return i},c=function(e){var s=function(){for(var e=[],s=0;s<a.olson.dst_rules.years.length;s++){var i=o(a.olson.dst_rules.years[s]);e.push(i)}return e},i=function(e){for(var a=0;a<e.length;a++)if(e[a]!==!1)return!0;return!1},r=s(),n=i(r);return n?A(r,e):e},m=function(){var e=n();return e||(e=a.olson.timezones[r()],"undefined"!=typeof s.AMBIGUITIES[e]&&(e=c(e))),{name:function(){return e}}};return{determine:m}}();a.olson=a.olson||{},a.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},a.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a:"undefined"!=typeof define&&null!==define&&null!=define.amd?define([],function(){return a}):"undefined"==typeof e?window.jstz=a:e.jstz=a}();;

/* /website/static/src/js/utils.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.utils',function(require){'use strict';var ajax=require('web.ajax');var core=require('web.core');var qweb=core.qweb;function loadAnchors(url){return new Promise(function(resolve,reject){if(url!==window.location.pathname&&url[0]!=='#'){$.get(window.location.origin+url).then(resolve,reject);}else{resolve(document.body.outerHTML);}}).then(function(response){return _.map($(response).find('[id][data-anchor=true]'),function(el){return'#'+el.id;});});}
function autocompleteWithPages(self,$input){$input.autocomplete({source:function(request,response){if(request.term[0]==='#'){loadAnchors(request.term).then(function(anchors){response(anchors);});}else{return self._rpc({model:'website',method:'search_pages',args:[null,request.term],kwargs:{limit:15,},}).then(function(exists){var rs=_.map(exists,function(r){return r.loc;});response(rs.sort());});}},close:function(){self.trigger_up('website_url_chosen');},});}
function onceAllImagesLoaded($element){var defs=_.map($element.find('img').addBack('img'),function(img){if(img.complete){return;}
var def=new Promise(function(resolve,reject){$(img).one('load',function(){resolve();});});return def;});return Promise.all(defs);}
function prompt(options,_qweb){if(typeof options==='string'){options={text:options};}
var xmlDef;if(_.isUndefined(_qweb)){_qweb='website.prompt';xmlDef=ajax.loadXML('/website/static/src/xml/website.xml',core.qweb);}
options=_.extend({window_title:'',field_name:'','default':'',init:function(){},},options||{});var type=_.intersection(Object.keys(options),['input','textarea','select']);type=type.length?type[0]:'input';options.field_type=type;options.field_name=options.field_name||options[type];var def=new Promise(function(resolve,reject){Promise.resolve(xmlDef).then(function(){var dialog=$(qweb.render(_qweb,options)).appendTo('body');options.$dialog=dialog;var field=dialog.find(options.field_type).first();field.val(options['default']);field.fillWith=function(data){if(field.is('select')){var select=field[0];data.forEach(function(item){select.options[select.options.length]=new window.Option(item[1],item[0]);});}else{field.val(data);}};var init=options.init(field,dialog);Promise.resolve(init).then(function(fill){if(fill){field.fillWith(fill);}
dialog.modal('show');field.focus();dialog.on('click','.btn-primary',function(){var backdrop=$('.modal-backdrop');resolve({val:field.val(),field:field,dialog:dialog});dialog.modal('hide').remove();backdrop.remove();});});dialog.on('hidden.bs.modal',function(){var backdrop=$('.modal-backdrop');reject();dialog.remove();backdrop.remove();});if(field.is('input[type="text"], select')){field.keypress(function(e){if(e.which===13){e.preventDefault();dialog.find('.btn-primary').trigger('click');}});}});});return def;}
function websiteDomain(self){var websiteID;self.trigger_up('context_get',{callback:function(ctx){websiteID=ctx['website_id'];},});return['|',['website_id','=',false],['website_id','=',websiteID]];}
return{loadAnchors:loadAnchors,autocompleteWithPages:autocompleteWithPages,onceAllImagesLoaded:onceAllImagesLoaded,prompt:prompt,websiteDomain:websiteDomain,};});;

/* /website/static/src/js/content/website_root.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.root',function(require){'use strict';var core=require('web.core');var Dialog=require('web.Dialog');var publicRootData=require('web.public.root');require("web.zoomodoo");var _t=core._t;var websiteRootRegistry=publicRootData.publicRootRegistry;var WebsiteRoot=publicRootData.PublicRoot.extend({events:_.extend({},publicRootData.PublicRoot.prototype.events||{},{'click .js_change_lang':'_onLangChangeClick','click .js_publish_management .js_publish_btn':'_onPublishBtnClick','click .js_multi_website_switch':'_onWebsiteSwitch','shown.bs.modal':'_onModalShown',}),custom_events:_.extend({},publicRootData.PublicRoot.prototype.custom_events||{},{'ready_to_clean_for_save':'_onWidgetsStopRequest',seo_object_request:'_onSeoObjectRequest',}),start:function(){if(!this.$('.js_change_lang').length){var $links=this.$('ul.js_language_selector li a:not([data-oe-id])');var m=$(_.min($links,function(l){return $(l).attr('href').length;})).attr('href');$links.each(function(){var $link=$(this);var t=$link.attr('href');var l=(t===m)?"default":t.split('/')[1];$link.data('lang',l).addClass('js_change_lang');});}
this.$('.zoomable img[data-zoom]').zoomOdoo();return this._super.apply(this,arguments);},_getContext:function(context){var html=document.documentElement;return _.extend({'website_id':html.getAttribute('data-website-id')|0,},this._super.apply(this,arguments));},_getExtraContext:function(context){var html=document.documentElement;return _.extend({'editable':!!(html.dataset.editable||$('[data-oe-model]').length),'translatable':!!html.dataset.translatable,'edit_translations':!!html.dataset.edit_translations,},this._super.apply(this,arguments));},_getPublicWidgetsRegistry:function(options){var registry=this._super.apply(this,arguments);if(options.editableMode){return _.pick(registry,function(PublicWidget){return!PublicWidget.prototype.disabledInEditableMode;});}
return registry;},_onWidgetsStartRequest:function(ev){ev.data.options=_.clone(ev.data.options||{});ev.data.options.editableMode=ev.data.editableMode;this._super.apply(this,arguments);},_onLangChangeClick:function(ev){ev.preventDefault();var $target=$(ev.target);var redirect={lang:$target.data('url_code'),url:encodeURIComponent($target.attr('href').replace(/[&?]edit_translations[^&?]+/,'')),hash:encodeURIComponent(window.location.hash)};window.location.href=_.str.sprintf("/website/lang/%(lang)s?r=%(url)s%(hash)s",redirect);},_onSeoObjectRequest:function(ev){var res=this._unslugHtmlDataObject('seo-object');ev.data.callback(res);},_unslugHtmlDataObject:function(dataAttr){var repr=$('html').data(dataAttr);var match=repr&&repr.match(/(.+)\((\d+),(.*)\)/);if(!match){return null;}
return{model:match[1],id:match[2]|0,};},_onPublishBtnClick:function(ev){ev.preventDefault();var self=this;var $data=$(ev.currentTarget).parents(".js_publish_management:first");this._rpc({route:$data.data('controller')||'/website/publish',params:{id:+$data.data('id'),object:$data.data('object'),},}).then(function(result){$data.toggleClass("css_unpublished css_published");$data.find('input').prop("checked",result);$data.parents("[data-publish]").attr("data-publish",+result?'on':'off');}).guardedCatch(function(err,data){data=data||{statusText:err.message.message};return new Dialog(self,{title:data.data?data.data.arguments[0]:"",$content:$('<div/>',{html:(data.data?data.data.arguments[1]:data.statusText)
+'<br/>'
+_.str.sprintf(_t('It might be possible to edit the relevant items or fix the issue in <a href="%s">the classic Odoo interface</a>'),'/web#model='+$data.data('object')+'&id='+$data.data('id')),}),}).open();});},_onWebsiteSwitch:function(ev){var websiteId=ev.currentTarget.getAttribute('website-id');var websiteDomain=ev.currentTarget.getAttribute('domain');var url=window.location.href;if(websiteDomain&&window.location.hostname!==websiteDomain){var path=window.location.pathname+window.location.search+window.location.hash;url=websiteDomain+path;}
window.location.href=$.param.querystring(url,{'fw':websiteId});},_onModalShown:function(ev){$(ev.target).addClass('modal_shown');},});return{WebsiteRoot:WebsiteRoot,websiteRootRegistry:websiteRootRegistry,};});;

/* /website/static/src/js/content/compatibility.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.content.compatibility',function(require){'use strict';require('web.dom_ready');var browser=_.findKey($.browser,function(v){return v===true;});if($.browser.mozilla&&+$.browser.version.replace(/^([0-9]+\.[0-9]+).*/,'\$1')<20){browser='msie';}
browser+=(','+$.browser.version);var mobileRegex=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i;if(mobileRegex.test(window.navigator.userAgent.toLowerCase())){browser+=',mobile';}
document.documentElement.setAttribute('data-browser',browser);var htmlStyle=document.documentElement.style;var isFlexSupported=(('flexWrap'in htmlStyle)||('WebkitFlexWrap'in htmlStyle)||('msFlexWrap'in htmlStyle));if(!isFlexSupported){document.documentElement.setAttribute('data-no-flex','');}
return{browser:browser,isFlexSupported:isFlexSupported,};});;

/* /website/static/src/js/content/lazy_template_call.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.content.lazy_template_call',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.LazyTemplateRenderer=publicWidget.Widget.extend({selector:'#wrapwrap:has([data-oe-call])',start:function(){var def=this._super.apply(this,arguments);var $oeCalls=this.$('[data-oe-call]');var oeCalls=_.uniq($oeCalls.map(function(){return $(this).data('oe-call');}).get());if(!oeCalls.length){return def;}
var renderDef=this._rpc({route:'/website/multi_render',params:{'ids_or_xml_ids':oeCalls,},}).then(function(data){_.each(data,function(d,k){var $data=$(d).addClass('o_block_'+k);$oeCalls.filter('[data-oe-call="'+k+'"]').each(function(){$(this).replaceWith($data.clone());});});});return Promise.all([def,renderDef]);},});});;

/* /website/static/src/js/content/menu.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.content.menu',function(require){'use strict';var dom=require('web.dom');var publicWidget=require('web.public.widget');var wUtils=require('website.utils');publicWidget.registry.affixMenu=publicWidget.Widget.extend({selector:'header.o_affix_enabled',start:function(){var def=this._super.apply(this,arguments);var self=this;this.$headerClone=this.$target.clone().addClass('o_header_affix affix').removeClass('o_affix_enabled').removeAttr('id');this.$headerClone.insertAfter(this.$target);this.$headers=this.$target.add(this.$headerClone);this.$dropdowns=this.$headers.find('.dropdown');this.$dropdownMenus=this.$headers.find('.dropdown-menu');this.$navbarCollapses=this.$headers.find('.navbar-collapse');this._adaptDefaultOffset();wUtils.onceAllImagesLoaded(this.$headerClone).then(function(){self._adaptDefaultOffset();});_.each(this.$headerClone.find('[data-toggle="collapse"]'),function(el){var $source=$(el);var targetIDSelector=$source.attr('data-target');var $target=self.$headerClone.find(targetIDSelector);$source.attr('data-target',targetIDSelector+'_clone');$target.attr('id',targetIDSelector.substr(1)+'_clone');});this.$headerClone.find('div.navbar-collapse').on('show.bs.collapse',function(){$(document.body).addClass('overflow-hidden');}).on('hide.bs.collapse',function(){$(document.body).removeClass('overflow-hidden');});$(window).on('resize.affixMenu scroll.affixMenu',_.throttle(this._onWindowUpdate.bind(this),200));setTimeout(this._onWindowUpdate.bind(this),0);return def.then(function(){self.trigger_up('widgets_start_request',{$target:self.$headerClone,});});},destroy:function(){if(this.$headerClone){this.$headerClone.remove();$(window).off('.affixMenu');}
this._super.apply(this,arguments);},_adaptDefaultOffset:function(){var bottom=this.$target.offset().top+this._getHeaderHeight();this.$headerClone.css('margin-top',Math.min(-200,-bottom)+'px');},_getHeaderHeight:function(){return this.$headerClone.outerHeight();},_onWindowUpdate:function(){if(this.$navbarCollapses.hasClass('show')){return;}
var wOffset=$(window).scrollTop();var hOffset=this.$target.scrollTop();this.$headerClone.toggleClass('affixed',wOffset>(hOffset+300));this.$dropdowns.add(this.$dropdownMenus).removeClass('show');this.$navbarCollapses.removeClass('show').attr('aria-expanded',false);},});publicWidget.registry.autohideMenu=publicWidget.Widget.extend({selector:'header #top_menu',start:function(){var self=this;var defs=[this._super.apply(this,arguments)];this.noAutohide=this.$el.closest('.o_no_autohide_menu').length;if(!this.noAutohide){var $navbar=this.$el.closest('.navbar');defs.push(wUtils.onceAllImagesLoaded($navbar));var $window=$(window);$window.on('load.autohideMenu',function(){$window.trigger('resize');});}
return Promise.all(defs).then(function(){if(!self.noAutohide){dom.initAutoMoreMenu(self.$el,{unfoldable:'.divider, .divider ~ li'});}
self.$el.removeClass('o_menu_loading');});},destroy:function(){this._super.apply(this,arguments);if(!this.noAutohide){$(window).off('.autohideMenu');dom.destroyAutoMoreMenu(this.$el);}},});publicWidget.registry.menuDirection=publicWidget.Widget.extend({selector:'header .navbar .nav',events:{'show.bs.dropdown':'_onDropdownShow',},start:function(){this.defaultAlignment=this.$el.is('.ml-auto, .ml-auto ~ *')?'right':'left';return this._super.apply(this,arguments);},_checkOpening:function(alignment,liOffset,liWidth,menuWidth,windowWidth){if(alignment==='left'){return(liOffset+menuWidth<=windowWidth);}else{return(liOffset+liWidth-menuWidth>=0);}},_onDropdownShow:function(ev){var $li=$(ev.target);var $menu=$li.children('.dropdown-menu');var liOffset=$li.offset().left;var liWidth=$li.outerWidth();var menuWidth=$menu.outerWidth();var windowWidth=$(window).outerWidth();$menu.removeClass('dropdown-menu-left dropdown-menu-right');var alignment=this.defaultAlignment;if($li.nextAll(':visible').length===0){alignment='right';}
for(var i=0;i<2;i++){if(!this._checkOpening(alignment,liOffset,liWidth,menuWidth,windowWidth)){alignment=(alignment==='left'?'right':'left');}}
$menu.addClass('dropdown-menu-'+alignment);},});});;

/* /website/static/src/js/content/snippets.animation.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.content.snippets.animation',function(require){'use strict';var Class=require('web.Class');var config=require('web.config');var core=require('web.core');var mixins=require('web.mixins');var publicWidget=require('web.public.widget');var utils=require('web.utils');var qweb=core.qweb;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;if(!window.performance||!window.performance.now){window.performance={now:function(){return Date.now();}};}
publicWidget.Widget.include({disabledInEditableMode:true,edit_events:null,read_events:null,init:function(parent,options){this._super.apply(this,arguments);this.editableMode=this.options.editableMode||false;var extraEvents=this.editableMode?this.edit_events:this.read_events;if(extraEvents){this.events=_.extend({},this.events||{},extraEvents);}},});var AnimationEffect=Class.extend(mixins.ParentedMixin,{init:function(parent,updateCallback,startEvents,$startTarget,options){mixins.ParentedMixin.init.call(this);this.setParent(parent);options=options||{};this._minFrameTime=1000/(options.maxFPS||100);this._updateCallback=updateCallback;this.startEvents=startEvents||'scroll';this.$startTarget=$($startTarget||window);if(options.getStateCallback){this._getStateCallback=options.getStateCallback;}else if(this.startEvents==='scroll'&&this.$startTarget[0]===window){this._getStateCallback=function(){return window.pageYOffset;};}else if(this.startEvents==='resize'&&this.$startTarget[0]===window){this._getStateCallback=function(){return{width:window.innerWidth,height:window.innerHeight,};};}else{this._getStateCallback=function(){return undefined;};}
this.endEvents=options.endEvents||false;this.$endTarget=options.$endTarget?$(options.$endTarget):this.$startTarget;this._updateCallback=this._updateCallback.bind(parent);this._getStateCallback=this._getStateCallback.bind(parent);this._uid='_animationEffect'+_.uniqueId();this.startEvents=_processEvents(this.startEvents,this._uid);if(this.endEvents){this.endEvents=_processEvents(this.endEvents,this._uid);}
function _processEvents(events,namespace){events=events.split(' ');return _.each(events,function(e,index){events[index]+=('.'+namespace);}).join(' ');}},destroy:function(){mixins.ParentedMixin.destroy.call(this);this.stop();},start:function(){this._paused=false;this._rafID=window.requestAnimationFrame((function(t){this._update(t);this._paused=true;}).bind(this));if(this.endEvents){this.$startTarget.on(this.startEvents,(function(e){if(this._paused){_.defer(this.play.bind(this,e));}}).bind(this));this.$endTarget.on(this.endEvents,(function(){if(!this._paused){_.defer(this.pause.bind(this));}}).bind(this));}else{var pauseTimer=null;this.$startTarget.on(this.startEvents,_.throttle((function(e){this.play(e);clearTimeout(pauseTimer);pauseTimer=_.delay((function(){this.pause();pauseTimer=null;}).bind(this),2000);}).bind(this),250,{trailing:false}));}},stop:function(){this.$startTarget.off(this.startEvents);if(this.endEvents){this.$endTarget.off(this.endEvents);}
this.pause();},play:function(e){this._newEvent=e;if(!this._paused){return;}
this._paused=false;this._rafID=window.requestAnimationFrame(this._update.bind(this));this._lastUpdateTimestamp=undefined;},pause:function(){if(this._paused){return;}
this._paused=true;window.cancelAnimationFrame(this._rafID);this._lastUpdateTimestamp=undefined;},_update:function(timestamp){if(this._paused){return;}
this._rafID=window.requestAnimationFrame(this._update.bind(this));var elapsedTime=0;if(this._lastUpdateTimestamp){elapsedTime=timestamp-this._lastUpdateTimestamp;if(elapsedTime<this._minFrameTime){return;}}
var animationState=this._getStateCallback(elapsedTime,this._newEvent);if(!this._newEvent&&animationState!==undefined&&_.isEqual(animationState,this._animationLastState)){return;}
this._animationLastState=animationState;this._updateCallback(this._animationLastState,elapsedTime,this._newEvent);this._lastUpdateTimestamp=timestamp;this._newEvent=undefined;},});var Animation=publicWidget.Widget.extend({maxFPS:100,effects:[],start:function(){this._prepareEffects();_.each(this._animationEffects,function(effect){effect.start();});return this._super.apply(this,arguments);},_prepareEffects:function(){this._animationEffects=[];var self=this;_.each(this.effects,function(desc){self._addEffect(self[desc.update],desc.startEvents,_findTarget(desc.startTarget),{getStateCallback:desc.getState&&self[desc.getState],endEvents:desc.endEvents||undefined,$endTarget:_findTarget(desc.endTarget),maxFPS:self.maxFPS,});function _findTarget(selector){if(selector){if(selector==='selector'){return self.$target;}
return self.$(selector);}
return undefined;}});},_addEffect:function(updateCallback,startEvents,$startTarget,options){this._animationEffects.push(new AnimationEffect(this,updateCallback,startEvents,$startTarget,options));},});var registry=publicWidget.registry;registry.slider=publicWidget.Widget.extend({selector:'.carousel',disabledInEditableMode:false,edit_events:{'slid.bs.carousel':'_onEditionSlide',},start:function(){if(!this.editableMode){this.$('img').on('load.slider',this._onImageLoaded.bind(this));this._computeHeights();}
this.$target.carousel();return this._super.apply(this,arguments);},destroy:function(){this._super.apply(this,arguments);this.$('img').off('.slider');this.$target.carousel('pause');this.$target.removeData('bs.carousel');_.each(this.$('.carousel-item'),function(el){$(el).css('min-height','');});},_computeHeights:function(){var maxHeight=0;var $items=this.$('.carousel-item');_.each($items,function(el){var $item=$(el);var isActive=$item.hasClass('active');$item.addClass('active');var height=$item.outerHeight();if(height>maxHeight){maxHeight=height;}
$item.toggleClass('active',isActive);});_.each($items,function(el){$(el).css('min-height',maxHeight);});},_onEditionSlide:function(){this._computeHeights();},_onImageLoaded:function(){this._computeHeights();},});registry.parallax=Animation.extend({selector:'.parallax',disabledInEditableMode:false,effects:[{startEvents:'scroll',update:'_onWindowScroll',}],start:function(){this._rebuild();$(window).on('resize.animation_parallax',_.debounce(this._rebuild.bind(this),500));return this._super.apply(this,arguments);},destroy:function(){this._super.apply(this,arguments);$(window).off('.animation_parallax');},_rebuild:function(){if(!this.$bg||!this.$bg.length){this.$bg=this.$('> .s_parallax_bg');if(!this.$bg.length){this.$bg=$('<span/>',{class:'s_parallax_bg'+(this.$target.hasClass('oe_custom_bg')?' oe_custom_bg':''),}).prependTo(this.$target);}}
var urlTarget=this.$target.css('background-image');if(urlTarget!=='none'){this.$bg.css('background-image',urlTarget);}
this.$target.css('background-image','none');this.speed=parseFloat(this.$target.attr('data-scroll-background-ratio')||0);this.$target.toggleClass('s_parallax_is_fixed',this.speed===1);var noParallaxSpeed=(this.speed===0||this.speed===1);this.$target.toggleClass('s_parallax_no_overflow_hidden',noParallaxSpeed);if(noParallaxSpeed){this.$bg.css({transform:'',top:'',bottom:'',});return;}
this.viewport=document.body.clientHeight-$('#wrapwrap').position().top;this.visibleArea=[this.$target.offset().top];this.visibleArea.push(this.visibleArea[0]+this.$target.innerHeight()+this.viewport);this.ratio=this.speed*(this.viewport/10);this.$bg.css({top:-this.ratio,bottom:-this.ratio,});},_onWindowScroll:function(scrollOffset){if(this.speed===0||this.speed===1){return;}
var vpEndOffset=scrollOffset+this.viewport;if(vpEndOffset>=this.visibleArea[0]&&vpEndOffset<=this.visibleArea[1]){this.$bg.css('transform','translateY('+_getNormalizedPosition.call(this,vpEndOffset)+'px)');}
function _getNormalizedPosition(pos){var r=(pos-this.visibleArea[1])/(this.visibleArea[0]-this.visibleArea[1]);return Math.round(this.ratio*(2*r-1));}},});registry.share=publicWidget.Widget.extend({selector:'.s_share, .oe_share',start:function(){var urlRegex=/(\?(?:|.*&)(?:u|url|body)=)(.*?)(&|#|$)/;var titleRegex=/(\?(?:|.*&)(?:title|text|subject)=)(.*?)(&|#|$)/;var url=encodeURIComponent(window.location.href);var title=encodeURIComponent($('title').text());this.$('a').each(function(){var $a=$(this);$a.attr('href',function(i,href){return href.replace(urlRegex,function(match,a,b,c){return a+url+c;}).replace(titleRegex,function(match,a,b,c){return a+title+c;});});if($a.attr('target')&&$a.attr('target').match(/_blank/i)&&!$a.closest('.o_editable').length){$a.on('click',function(){window.open(this.href,'','menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=550,width=600');return false;});}});return this._super.apply(this,arguments);},});registry.mediaVideo=publicWidget.Widget.extend({selector:'.media_iframe_video',start:function(){var def=this._super.apply(this,arguments);if(this.$target.children('iframe').length){return def;}
this.$target.empty();this.$target.append('<div class="css_editable_mode_display">&nbsp;</div>'+'<div class="media_iframe_video_size">&nbsp;</div>');this.$target.append($('<iframe/>',{src:_.escape(this.$target.data('oe-expression')||this.$target.data('src')),frameborder:'0',allowfullscreen:'allowfullscreen',sandbox:'allow-scripts allow-same-origin',}));return def;},});registry.backgroundVideo=publicWidget.Widget.extend({selector:'.o_background_video',xmlDependencies:['/website/static/src/xml/website.background.video.xml'],disabledInEditableMode:false,start:function(){var proms=[this._super(...arguments)];this.videoSrc=this.el.dataset.bgVideoSrc;this.iframeID=_.uniqueId('o_bg_video_iframe_');this.isYoutubeVideo=this.videoSrc.indexOf('youtube')>=0;this.isMobileEnv=config.device.size_class<=config.device.SIZES.LG&&config.device.touch;if(this.isYoutubeVideo&&this.isMobileEnv){this.videoSrc=this.videoSrc+"&enablejsapi=1";if(!window.YT){var oldOnYoutubeIframeAPIReady=window.onYouTubeIframeAPIReady;proms.push(new Promise(resolve=>{window.onYouTubeIframeAPIReady=()=>{if(oldOnYoutubeIframeAPIReady){oldOnYoutubeIframeAPIReady();}
return resolve();};}));$('<script/>',{src:'https://www.youtube.com/iframe_api',}).appendTo('head');}}
var throttledUpdate=_.throttle(()=>this._adjustIframe(),50);var $dropdownMenu=this.$el.closest('.dropdown-menu');if($dropdownMenu.length){this.$dropdownParent=$dropdownMenu.parent();this.$dropdownParent.on('shown.bs.dropdown.backgroundVideo',throttledUpdate);}
$(window).on('resize.'+this.iframeID,throttledUpdate);return Promise.all(proms).then(()=>this._appendBgVideo());},destroy:function(){this._super.apply(this,arguments);if(this.$dropdownParent){this.$dropdownParent.off('.backgroundVideo');}
$(window).off('resize.'+this.iframeID);if(this.$bgVideoContainer){this.$bgVideoContainer.remove();}},_adjustIframe:function(){if(!this.$iframe){return;}
this.$iframe.removeClass('show');var wrapperWidth=this.$target.innerWidth();var wrapperHeight=this.$target.innerHeight();var relativeRatio=(wrapperWidth/wrapperHeight)/(16/9);var style={};if(relativeRatio>=1.0){style['width']='100%';style['height']=(relativeRatio*100)+'%';style['left']='0';style['top']=(-(relativeRatio-1.0)/2*100)+'%';}else{style['width']=((1/relativeRatio)*100)+'%';style['height']='100%';style['left']=(-((1/relativeRatio)-1.0)/2*100)+'%';style['top']='0';}
this.$iframe.css(style);void this.$iframe[0].offsetWidth;this.$iframe.addClass('show');},_appendBgVideo:function(){var $oldContainer=this.$bgVideoContainer||this.$('> .o_bg_video_container');this.$bgVideoContainer=$(qweb.render('website.background.video',{videoSrc:this.videoSrc,iframeID:this.iframeID,}));this.$iframe=this.$bgVideoContainer.find('.o_bg_video_iframe');this.$iframe.one('load',()=>{this.$bgVideoContainer.find('.o_bg_video_loading').remove();});this.$bgVideoContainer.prependTo(this.$target);$oldContainer.remove();this._adjustIframe();if(this.isMobileEnv&&this.isYoutubeVideo){new window.YT.Player(this.iframeID,{events:{onReady:ev=>ev.target.playVideo(),}});}},});registry.ul=publicWidget.Widget.extend({selector:'ul.o_ul_folded, ol.o_ul_folded',events:{'click .o_ul_toggle_next':'_onToggleNextClick','click .o_ul_toggle_self':'_onToggleSelfClick',},_onToggleNextClick:function(ev){ev.preventDefault();var $target=$(ev.currentTarget);$target.toggleClass('o_open');$target.closest('li').next().toggleClass('o_close');},_onToggleSelfClick:function(ev){ev.preventDefault();var $target=$(ev.currentTarget);$target.toggleClass('o_open');$target.closest('li').find('ul,ol').toggleClass('o_close');},});registry.gallery=publicWidget.Widget.extend({selector:'.o_gallery:not(.o_slideshow)',xmlDependencies:['/website/static/src/xml/website.gallery.xml'],events:{'click img':'_onClickImg',},_onClickImg:function(ev){var self=this;var $cur=$(ev.currentTarget);var urls=[];var idx=undefined;var milliseconds=undefined;var params=undefined;var $images=$cur.closest('.o_gallery').find('img');var size=0.8;var dimensions={min_width:Math.round(window.innerWidth*size*0.9),min_height:Math.round(window.innerHeight*size),max_width:Math.round(window.innerWidth*size*0.9),max_height:Math.round(window.innerHeight*size),width:Math.round(window.innerWidth*size*0.9),height:Math.round(window.innerHeight*size)};$images.each(function(){urls.push($(this).attr('src'));});var $img=($cur.is('img')===true)?$cur:$cur.closest('img');idx=urls.indexOf($img.attr('src'));milliseconds=$cur.closest('.o_gallery').data('interval')||false;var $modal=$(qweb.render('website.gallery.slideshow.lightbox',{srcs:urls,index:idx,dim:dimensions,interval:milliseconds,id:_.uniqueId('slideshow_'),}));$modal.modal({keyboard:true,backdrop:true,});$modal.on('hidden.bs.modal',function(){$(this).hide();$(this).siblings().filter('.modal-backdrop').remove();$(this).remove();});$modal.find('.modal-content, .modal-body.o_slideshow').css('height','100%');$modal.appendTo(document.body);$modal.one('shown.bs.modal',function(){self.trigger_up('widgets_start_request',{editableMode:false,$target:$modal.find('.modal-body.o_slideshow'),});});},});registry.gallerySlider=publicWidget.Widget.extend({selector:'.o_slideshow',xmlDependencies:['/website/static/src/xml/website.gallery.xml'],disabledInEditableMode:false,start:function(){var self=this;this.$carousel=this.$target.is('.carousel')?this.$target:this.$target.find('.carousel');this.$indicator=this.$carousel.find('.carousel-indicators');this.$prev=this.$indicator.find('li.o_indicators_left').css('visibility','');this.$next=this.$indicator.find('li.o_indicators_right').css('visibility','');var $lis=this.$indicator.find('li[data-slide-to]');var nbPerPage=Math.floor(this.$indicator.width()/$lis.first().outerWidth(true))-3;var realNbPerPage=nbPerPage||1;var nbPages=Math.ceil($lis.length/realNbPerPage);var index;var page;update();function hide(){$lis.each(function(i){$(this).toggleClass('d-none',i<page*nbPerPage||i>=(page+1)*nbPerPage);});if(self.editableMode){return;}
if(page<=0){self.$prev.detach();}else{self.$prev.prependTo(self.$indicator);}
if(page>=nbPages-1){self.$next.detach();}else{self.$next.appendTo(self.$indicator);}}
function update(){index=$lis.index($lis.filter('.active'))||0;page=Math.floor(index/realNbPerPage);hide();}
this.$carousel.on('slide.bs.carousel.gallery_slider',function(){setTimeout(function(){var $item=self.$carousel.find('.carousel-inner .carousel-item-prev, .carousel-inner .carousel-item-next');var index=$item.index();$lis.removeClass('active').filter('[data-slide-to="'+index+'"]').addClass('active');},0);});this.$indicator.on('click.gallery_slider','> li:not([data-slide-to])',function(){page+=($(this).hasClass('o_indicators_left')?-1:1);page=Math.max(0,Math.min(nbPages-1,page));self.$carousel.carousel(page*realNbPerPage);hide();});this.$carousel.on('slid.bs.carousel.gallery_slider',update);return this._super.apply(this,arguments);},destroy:function(){this._super.apply(this,arguments);if(!this.$indicator){return;}
this.$prev.prependTo(this.$indicator);this.$next.appendTo(this.$indicator);this.$carousel.off('.gallery_slider');this.$indicator.off('.gallery_slider');},});registry.socialShare=publicWidget.Widget.extend({selector:'.oe_social_share',xmlDependencies:['/website/static/src/xml/website.share.xml'],events:{'mouseenter':'_onMouseEnter',},_bindSocialEvent:function(){this.$('.oe_social_facebook').click($.proxy(this._renderSocial,this,'facebook'));this.$('.oe_social_twitter').click($.proxy(this._renderSocial,this,'twitter'));this.$('.oe_social_linkedin').click($.proxy(this._renderSocial,this,'linkedin'));},_render:function(){this.$el.popover({content:qweb.render('website.social_hover',{medias:this.socialList}),placement:'bottom',container:this.$el,html:true,trigger:'manual',animation:false,}).popover("show");this.$el.off('mouseleave.socialShare').on('mouseleave.socialShare',function(){var self=this;setTimeout(function(){if(!$(".popover:hover").length){$(self).popover('dispose');}},200);});},_renderSocial:function(social){var url=this.$el.data('urlshare')||document.URL.split(/[?#]/)[0];url=encodeURIComponent(url);var title=document.title.split(" | ")[0];var hashtags=' #'+document.title.split(" | ")[1].replace(' ','')+' '+this.hashtags;var socialNetworks={'facebook':'https://www.facebook.com/sharer/sharer.php?u='+url,'twitter':'https://twitter.com/intent/tweet?original_referer='+url+'&text='+encodeURIComponent(title+hashtags+' - ')+url,'linkedin':'https://www.linkedin.com/shareArticle?mini=true&url='+url+'&title='+encodeURIComponent(title),};if(!_.contains(_.keys(socialNetworks),social)){return;}
var wHeight=500;var wWidth=500;window.open(socialNetworks[social],'','menubar=no, toolbar=no, resizable=yes, scrollbar=yes, height='+wHeight+',width='+wWidth);},_onMouseEnter:function(){var social=this.$el.data('social');this.socialList=social?social.split(','):['facebook','twitter','linkedin'];this.hashtags=this.$el.data('hashtags')||'';this._render();this._bindSocialEvent();},});registry.facebookPage=publicWidget.Widget.extend({selector:'.o_facebook_page',disabledInEditableMode:false,start:function(){var def=this._super.apply(this,arguments);var params=_.pick(this.$el.data(),'href','height','tabs','small_header','hide_cover','show_facepile');if(!params.href){return def;}
params.width=utils.confine(Math.floor(this.$el.width()),180,500);var src=$.param.querystring('https://www.facebook.com/plugins/page.php',params);this.$iframe=$('<iframe/>',{src:src,class:'o_temp_auto_element',width:params.width,height:params.height,css:{border:'none',overflow:'hidden',},scrolling:'no',frameborder:'0',allowTransparency:'true',});this.$el.append(this.$iframe);return def;},destroy:function(){this._super.apply(this,arguments);if(this.$iframe){this.$iframe.remove();}},});registry.anchorSlide=publicWidget.Widget.extend({selector:'a[href^="/"][href*="#"], a[href^="#"]',events:{'click':'_onAnimateClick',},_onAnimateClick:function(ev){if(this.$target[0].pathname!==window.location.pathname){return;}
var hash=this.$target[0].hash;if(!utils.isValidAnchor(hash)){return;}
var $anchor=$(hash);if(!$anchor.length||!$anchor.attr('data-anchor')){return;}
ev.preventDefault();$('html, body').animate({scrollTop:$anchor.offset().top,},500);},});return{Widget:publicWidget.Widget,Animation:Animation,registry:registry,Class:Animation,};});;

/* /website/static/src/js/menu/navbar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.navbar',function(require){'use strict';var dom=require('web.dom');var publicWidget=require('web.public.widget');var concurrency=require('web.concurrency');var Widget=require('web.Widget');var websiteRootData=require('website.root');var websiteNavbarRegistry=new publicWidget.RootWidgetRegistry();var WebsiteNavbar=publicWidget.RootWidget.extend({events:_.extend({},publicWidget.RootWidget.prototype.events||{},{'click [data-action]':'_onActionMenuClick','mouseover > ul > li.dropdown:not(.show)':'_onMenuHovered','click .o_mobile_menu_toggle':'_onMobileMenuToggleClick',}),custom_events:_.extend({},publicWidget.RootWidget.prototype.custom_events||{},{'action_demand':'_onActionDemand','edit_mode':'_onEditMode','readonly_mode':'_onReadonlyMode','ready_to_save':'_onSave',}),init:function(){this._super.apply(this,arguments);var self=this;var initPromise=new Promise(function(resolve){self.resolveInit=resolve;});this._widgetDefs=[initPromise];},start:function(){var self=this;dom.initAutoMoreMenu(this.$('ul.o_menu_sections'),{maxWidth:function(){return self.$el.width()
-(self.$('.o_menu_systray').outerWidth(true)||0)
-(self.$('ul#oe_applications').outerWidth(true)||0)
-(self.$('.o_menu_toggle').outerWidth(true)||0)
-(self.$('.o_menu_brand').outerWidth(true)||0);},});return this._super.apply(this,arguments).then(function(){self.resolveInit();});},_attachComponent:function(){var def=this._super.apply(this,arguments);this._widgetDefs.push(def);return def;},_getRegistry:function(){return websiteNavbarRegistry;},_handleAction:function(actionName,params,_i){var self=this;return this._whenReadyForActions().then(function(){var defs=[];_.each(self._widgets,function(w){if(!w.handleAction){return;}
var def=w.handleAction(actionName,params);if(def!==null){defs.push(def);}});if(!defs.length){if(_i>50){console.warn(_.str.sprintf("Action '%s' was not able to be handled.",actionName));return Promise.reject();}
return concurrency.delay(100).then(function(){return self._handleAction(actionName,params,(_i||0)+1);});}
return Promise.all(defs).then(function(values){if(values.length===1){return values[0];}
return values;});});},_whenReadyForActions:function(){return Promise.all(this._widgetDefs);},_onActionMenuClick:function(ev){var $button=$(ev.currentTarget);$button.prop('disabled',true);var always=function(){$button.prop('disabled',false);};this._handleAction($button.data('action')).then(always).guardedCatch(always);},_onActionDemand:function(ev){var def=this._handleAction(ev.data.actionName,ev.data.params);if(ev.data.onSuccess){def.then(ev.data.onSuccess);}
if(ev.data.onFailure){def.guardedCatch(ev.data.onFailure);}},_onEditMode:function(){this.$el.addClass('editing_mode');this.do_hide();},_onMenuHovered:function(ev){var $opened=this.$('> ul > li.dropdown.show');if($opened.length){$opened.find('.dropdown-toggle').dropdown('toggle');$(ev.currentTarget).find('.dropdown-toggle').dropdown('toggle');}},_onMobileMenuToggleClick:function(){this.$el.parent().toggleClass('o_mobile_menu_opened');},_onReadonlyMode:function(){this.$el.removeClass('editing_mode');this.do_show();},_onSave:function(ev){ev.data.defs.push(this._handleAction('on_save'));},});var WebsiteNavbarActionWidget=Widget.extend({actions:{},handleAction:function(actionName,params){var action=this[this.actions[actionName]];if(action){return Promise.resolve(action.apply(this,params||[]));}
return null;},});websiteRootData.websiteRootRegistry.add(WebsiteNavbar,'#oe_main_menu_navbar');return{WebsiteNavbar:WebsiteNavbar,websiteNavbarRegistry:websiteNavbarRegistry,WebsiteNavbarActionWidget:WebsiteNavbarActionWidget,};});;

/* /website/static/src/js/visitor_timezone.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.visitor_timezone',function(require){'use strict';var ajax=require('web.ajax');var utils=require('web.utils');var publicWidget=require('web.public.widget');publicWidget.registry.visitorTimezone=publicWidget.Widget.extend({selector:'#wrapwrap',start:function(){if(!localStorage.getItem('website.found_visitor_timezone')){var timezone=jstz.determine().name();this._rpc({route:'/website/update_visitor_timezone',params:{'timezone':timezone,},}).then(function(result){if(result){localStorage.setItem('website.found_visitor_timezone',true);}});}
return this._super.apply(this,arguments);},});return publicWidget.registry.visitorTimezone;});;

/* /website/static/src/js/user_custom_javascript.js defined in bundle 'web.assets_frontend_lazy' */
;

/* /theme_common/static/src/js/s_google_map_frontend.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('theme_common.s_google_map_frontend',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var googleScriptLoaded=$.Deferred();var _t=core._t;publicWidget.registry.s_google_map=publicWidget.Widget.extend({selector:'.s_google_map',disabledInEditableMode:false,start:function(){var self=this;var defs=[this._super.apply(this,arguments)];if(typeof google!=='object'||typeof google.maps!=='object'){if(!publicWidget.registry.s_google_map.isScriptLoading){publicWidget.registry.s_google_map.isScriptLoading=true;window.odoo_s_google_map_redraw_all=function odoo_s_google_map_redraw_all(){_.each($('section.s_google_map'),function(map){self.trigger_up('widgets_start_request',{editableMode:self.editableMode,$target:$(map),});});publicWidget.registry.s_google_map.isScriptLoading=false;googleScriptLoaded.resolve();};defs.push(this._rpc({route:'/theme_common/google_maps_api_key',}).then(function(data){var key_param='';var data_json=JSON.parse(data);if(data_json.google_maps_api_key!==''){key_param='&key='+data_json.google_maps_api_key;}
$('head').append($('<script/>',{type:"text/javascript",src:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&callback=odoo_s_google_map_redraw_all"+key_param,}));},function(){publicWidget.registry.s_google_map.isScriptLoading=false;if(self.editableMode){self.$loadingWarning=$('<div/>',{class:'alert alert-warning',text:_t("Cannot load google map, check your configuration !"),});self.$('.map_container').append(self.$loadingWarning);}}));}
return $.when.apply($,defs);}
var std=[];new google.maps.StyledMapType(std,{name:"Std Map"});var myOptions={zoom:12,center:new google.maps.LatLng(50.854975,4.3753899),mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:false,zoomControl:false,mapTypeControl:false,streetViewControl:false,scrollwheel:false,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,'map_style']}};var mapC=this.$target.find('.map_container');var map=new google.maps.Map(mapC.get(0),myOptions);var p=this.$target.attr('data-map-gps').substring(1).slice(0,-1).split(',');var gps=new google.maps.LatLng(p[0],p[1]);map.setCenter(gps);google.maps.event.addDomListener(window,'resize',function(){map.setCenter(gps);});if(this.$target.attr('data-pin-style')==="flat"){new google.maps.Marker({map:map,animation:google.maps.Animation.DROP,position:new google.maps.LatLng(p[0],p[1]),icon:"/theme_common/static/src/img/snippets/s_google_map_marker.png",});}else{new google.maps.Marker({map:map,animation:google.maps.Animation.DROP,position:new google.maps.LatLng(p[0],p[1])});}
map.setMapTypeId(google.maps.MapTypeId[this.$target.attr('data-map-type')]);map.setZoom(parseInt(this.$target.attr('data-map-zoom')));if(this.$target.attr('data-map-color')!==""){var mapColor=eval("this."+this.$target.attr('data-map-color'));var thisMap=new google.maps.StyledMapType(mapColor,{name:"Styled Map"});map.mapTypes.set('map_style',thisMap);map.setMapTypeId('map_style');}
return $.when.apply($,defs);},destroy:function(){this._super.apply(this,arguments);if(this.$loadingWarning){this.$loadingWarning.remove();}},});publicWidget.registry.s_google_map.prototype.isScriptLoading=false;return{googleScriptLoaded:googleScriptLoaded,};});;

/* /theme_common/static/src/js/s_animated_boxes_frontend.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('theme_common.s_animated_boxes_frontend',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry._fixAnimatedBoxesAppleClick=publicWidget.registry._fixAppleCollapse.extend({selector:'.s_animated_boxes .item',});});;

/* /theme_common/static/src/js/s_showcase_slider_frontend.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define("theme_common.s_showcase_slider_frontend",function(require){"use strict";var publicWidget=require('web.public.widget');publicWidget.registry.s_showcase_slider=publicWidget.Widget.extend({selector:".s_showcase_slider",start:function(){_.defer(this.bindEvents.bind(this));this.createPagination();return this._super.apply(this,arguments);},destroy:function(){this._super.apply(this,arguments);_.defer(this.unbindEvents.bind(this));this.destroyPagination();this.$target.removeClass("active");},bindEvents:function(){this.$target.on("click.s_showcase_slider",".s_ss_slider",(function(e){if(this.$target.hasClass("active"))return;this.$target.addClass("active").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",(function(){$("body, html").animate({scrollTop:this.$target.offset().top-70},200);this.$target.trigger("transitionIsFinished");}).bind(this));}).bind(this));this.$target.on("click.s_showcase_slider",".s_ss_close",(function(e){this.$target.removeClass("active");}).bind(this));this.$target.on("click.s_showcase_slider",".s_ss_prev",this.prevSlide.bind(this));this.$target.on("click.s_showcase_slider",".s_ss_next",this.nextSlide.bind(this));this.$target.on("click.s_showcase_slider",".s_ss_slider_pagination > li > a",(function(e){e.preventDefault();var $selectedDot=$(e.currentTarget).parent();if($selectedDot.hasClass("selected"))return;this.changeSlide($selectedDot.index());}).bind(this));$(document).on("keyup.s_showcase_slider",(function(e){if(!this.$target.hasClass("active"))return;switch(e.which){case $.ui.keyCode.LEFT:this.prevSlide();break;case $.ui.keyCode.RIGHT:this.nextSlide();break;case $.ui.keyCode.ESCAPE:this.$target.removeClass("active");break;}}).bind(this));},unbindEvents:function(){this.$target.off(".s_showcase_slider");$(document).off(".s_showcase_slider");},createPagination:function(){this.$target.find(".s_ss_slider_pagination").remove();this.$pagination=$("<ul/>",{class:"s_ss_slider_pagination"});this.$pagination.insertAfter(this.$target.find(".s_ss_slider_navigation"));var nbSlides=this.$target.find(".s_ss_slider").children().length;for(var i=0;i<nbSlides;i++){this.$pagination.append("<li><a href=\"#\"></a></li>");}
this.$pagination.children().eq(this.getCurrentIndex()).addClass("selected");},destroyPagination:function(){if(this.$pagination){this.$pagination.remove();this.$pagination=null;}},prevSlide:function(){var nbSlides=this.$target.find(".s_ss_slider").children().length;var currentIndex=this.getCurrentIndex();this.changeSlide(currentIndex>0?(currentIndex-1):(nbSlides-1));},nextSlide:function(){var nbSlides=this.$target.find(".s_ss_slider").children().length;var currentIndex=this.getCurrentIndex();this.changeSlide((currentIndex+1)%nbSlides);},getCurrentIndex:function(){return this.$target.find(".s_ss_slider > .selected").index();},changeSlide:function(n){var $slides=this.$target.find(".s_ss_slider > li").removeClass("selected");this.$target.find(".s_ss_slider_pagination > li").removeClass("selected");var $slide=$slides.eq(n).addClass("selected");$slides.removeClass("move-left");$slide.prevAll().addClass("move-left");this.$pagination.children().eq(n).addClass("selected");this.updateNavigation();},updateNavigation:function(){var $active=this.$target.find(".s_ss_slider > .selected");this.$target.find(".s_ss_prev").toggleClass("inactive",$active.is(":first-child"));this.$target.find(".s_ss_next").toggleClass("inactive",$active.is(":last-child"));},});});;

/* /theme_common/static/lib/YTPlayer/jquery.mb.YTPlayer.js defined in bundle 'web.assets_frontend_lazy' */
var ytp=ytp||{};function onYouTubeIframeAPIReady(){if(ytp.YTAPIReady)return;ytp.YTAPIReady=true;jQuery(document).trigger("YTAPIReady");}
var getYTPVideoID=function(url){var videoID,playlistID;if(url.indexOf("youtu.be")>0){videoID=url.substr(url.lastIndexOf("/")+1,url.length);playlistID=videoID.indexOf("?list=")>0?videoID.substr(videoID.lastIndexOf("="),videoID.length):null;videoID=playlistID?videoID.substr(0,videoID.lastIndexOf("?")):videoID;}else if(url.indexOf("http")>-1){videoID=url.match(/[\\?&]v=([^&#]*)/)[1];playlistID=url.indexOf("list=")>0?url.match(/[\\?&]list=([^&#]*)/)[1]:null;}else{videoID=url.length>15?null:url;playlistID=videoID?null:url;}
return{videoID:videoID,playlistID:playlistID};};(function(jQuery,ytp){jQuery.mbYTPlayer={name:"jquery.mb.YTPlayer",version:"2.9.4",build:"{{ build }}",author:"Matteo Bicocchi",apiKey:"",defaults:{containment:"body",ratio:"auto",videoURL:null,playlistURL:null,startAt:0,stopAt:0,autoPlay:true,vol:50,addRaster:false,opacity:1,quality:"default",mute:false,loop:true,showControls:true,showAnnotations:false,showYTLogo:true,stopMovieOnBlur:true,realfullscreen:true,gaTrack:true,optimizeDisplay:true,onReady:function(player){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",onlyYT:"O",showSite:"R",ytLogo:"Y"},locationProtocol:"https:",buildPlayer:function(options){return this.each(function(){var YTPlayer=this;var $YTPlayer=jQuery(YTPlayer);YTPlayer.loop=0;YTPlayer.opt={};YTPlayer.state={};YTPlayer.filtersEnabled=true;YTPlayer.filters={grayscale:{value:0,unit:"%"},hue_rotate:{value:0,unit:"deg"},invert:{value:0,unit:"%"},opacity:{value:0,unit:"%"},saturate:{value:0,unit:"%"},sepia:{value:0,unit:"%"},brightness:{value:0,unit:"%"},contrast:{value:0,unit:"%"},blur:{value:0,unit:"px"}};$YTPlayer.addClass("mb_YTPlayer");var property=$YTPlayer.data("property")&&typeof $YTPlayer.data("property")=="string"?eval('('+$YTPlayer.data("property")+')'):$YTPlayer.data("property");if(typeof property!="undefined"&&typeof property.vol!="undefined")property.vol=property.vol===0?property.vol=1:property.vol;jQuery.extend(YTPlayer.opt,jQuery.mbYTPlayer.defaults,options,property);if(!YTPlayer.hasChanged){YTPlayer.defaultOpt={};jQuery.extend(YTPlayer.defaultOpt,jQuery.mbYTPlayer.defaults,options,property);}
YTPlayer.isRetina=(window.retina||window.devicePixelRatio>1);var isIframe=function(){var isIfr=false;try{if(self.location.href!=top.location.href)isIfr=true;}catch(e){isIfr=true;}
return isIfr;};YTPlayer.canGoFullScreen=!(jQuery.browser.msie||jQuery.browser.opera||isIframe());if(!YTPlayer.canGoFullScreen)YTPlayer.opt.realfullscreen=false;if(!$YTPlayer.attr("id"))$YTPlayer.attr("id","video_"+new Date().getTime());var playerID="mbYTP_"+YTPlayer.id;YTPlayer.isAlone=false;YTPlayer.hasFocus=true;var videoID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).videoID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).videoID:false;var playlistID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).playlistID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).playlistID:false;YTPlayer.videoID=videoID;YTPlayer.playlistID=playlistID;YTPlayer.opt.showAnnotations=(YTPlayer.opt.showAnnotations)?'0':'3';var playerVars={'autoplay':0,'modestbranding':1,'controls':0,'showinfo':0,'rel':0,'enablejsapi':1,'version':3,'playerapiid':playerID,'origin':'*','allowfullscreen':true,'wmode':'transparent','iv_load_policy':YTPlayer.opt.showAnnotations};if(document.createElement('video').canPlayType)jQuery.extend(playerVars,{'html5':1});if(jQuery.browser.msie&&jQuery.browser.version<9)this.opt.opacity=1;var playerBox=jQuery("<div/>").attr("id",playerID).addClass("playerBox");var overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("YTPOverlay");YTPlayer.isSelf=YTPlayer.opt.containment=="self";YTPlayer.defaultOpt.containment=YTPlayer.opt.containment=YTPlayer.opt.containment=="self"?jQuery(this):jQuery(YTPlayer.opt.containment);YTPlayer.isBackground=YTPlayer.opt.containment.get(0).tagName.toLowerCase()=="body";if(YTPlayer.isBackground&&ytp.backgroundIsInited)return;var isPlayer=YTPlayer.opt.containment.is(jQuery(this));YTPlayer.canPlayOnMobile=isPlayer&&jQuery(this).children().length===0;if(!isPlayer){$YTPlayer.hide();}else{YTPlayer.isPlayer=true;}
if(jQuery.browser.mobile&&!YTPlayer.canPlayOnMobile){$YTPlayer.remove();return;}
var wrapper=jQuery("<div/>").addClass("mbYTP_wrapper").attr("id","wrapper_"+playerID);wrapper.css({position:"absolute",zIndex:0,minWidth:"100%",minHeight:"100%",left:0,top:0,overflow:"hidden",opacity:0});playerBox.css({position:"absolute",zIndex:0,width:"100%",height:"100%",top:0,left:0,overflow:"hidden"});wrapper.append(playerBox);YTPlayer.opt.containment.children().not("script, style").each(function(){if(jQuery(this).css("position")=="static")jQuery(this).css("position","relative");});if(YTPlayer.isBackground){jQuery("body").css({boxSizing:"border-box"});wrapper.css({position:"fixed",top:0,left:0,zIndex:0});$YTPlayer.hide();}else if(YTPlayer.opt.containment.css("position")=="static")YTPlayer.opt.containment.css({position:"relative"});YTPlayer.opt.containment.prepend(wrapper);YTPlayer.wrapper=wrapper;playerBox.css({opacity:1});if(!jQuery.browser.mobile){playerBox.after(overlay);YTPlayer.overlay=overlay;}
if(!YTPlayer.isBackground){overlay.on("mouseenter",function(){if(YTPlayer.controlBar)YTPlayer.controlBar.addClass("visible");}).on("mouseleave",function(){if(YTPlayer.controlBar)YTPlayer.controlBar.removeClass("visible");})}
if(!ytp.YTAPIReady){jQuery("#YTAPI").remove();var tag=jQuery("<script></script>").attr({"src":jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/iframe_api?v="+jQuery.mbYTPlayer.version,"id":"YTAPI"});jQuery("head").prepend(tag);}else{setTimeout(function(){jQuery(document).trigger("YTAPIReady");},100)}
jQuery(document).on("YTAPIReady",function(){if((YTPlayer.isBackground&&ytp.backgroundIsInited)||YTPlayer.isInit)return;if(YTPlayer.isBackground){ytp.backgroundIsInited=true;}
YTPlayer.opt.autoPlay=typeof YTPlayer.opt.autoPlay=="undefined"?(YTPlayer.isBackground?true:false):YTPlayer.opt.autoPlay;YTPlayer.opt.vol=YTPlayer.opt.vol?YTPlayer.opt.vol:100;jQuery.mbYTPlayer.getDataFromAPI(YTPlayer);jQuery(YTPlayer).on("YTPChanged",function(){if(YTPlayer.isInit)return;YTPlayer.isInit=true;if(jQuery.browser.mobile&&YTPlayer.canPlayOnMobile){if(YTPlayer.opt.containment.outerWidth()>jQuery(window).width()){YTPlayer.opt.containment.css({maxWidth:"100%"});var h=YTPlayer.opt.containment.outerWidth()*.6;YTPlayer.opt.containment.css({maxHeight:h});}
new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),height:'100%',width:'100%',events:{'onReady':function(event){YTPlayer.player=event.target;playerBox.css({opacity:1});YTPlayer.wrapper.css({opacity:1});}}});return;}
new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),playerVars:playerVars,events:{'onReady':function(event){YTPlayer.player=event.target;if(YTPlayer.isReady)return;YTPlayer.isReady=YTPlayer.isPlayer&&!YTPlayer.opt.autoPlay?false:true;YTPlayer.playerEl=YTPlayer.player.getIframe();$YTPlayer.optimizeDisplay();YTPlayer.videoID=videoID;jQuery(window).on("resize.YTP",function(){$YTPlayer.optimizeDisplay();});jQuery.mbYTPlayer.checkForState(YTPlayer);var YTPEvent=jQuery.Event("YTPUnstarted");YTPEvent.time=YTPlayer.player.time;if(YTPlayer.canTrigger)jQuery(YTPlayer).trigger(YTPEvent);},'onStateChange':function(event){if(typeof event.target.getPlayerState!="function")return;var state=event.target.getPlayerState();if(YTPlayer.state==state)return;YTPlayer.state=state;var eventType;switch(state){case-1:eventType="YTPUnstarted";break;case 0:eventType="YTPEnd";break;case 1:eventType="YTPStart";if(YTPlayer.controlBar)YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause);if(typeof _gaq!="undefined"&&eval(YTPlayer.opt.gaTrack))_gaq.push(['_trackEvent','YTPlayer','Play',(YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString())]);if(typeof ga!="undefined"&&eval(YTPlayer.opt.gaTrack))ga('send','event','YTPlayer','play',(YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString()));break;case 2:eventType="YTPPause";if(YTPlayer.controlBar)YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 3:YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality);eventType="YTPBuffering";if(YTPlayer.controlBar)YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 5:eventType="YTPCued";break;default:break;}
var YTPEvent=jQuery.Event(eventType);YTPEvent.time=YTPlayer.player.time;if(YTPlayer.canTrigger)jQuery(YTPlayer).trigger(YTPEvent);},'onPlaybackQualityChange':function(e){var quality=e.target.getPlaybackQuality();var YTPQualityChange=jQuery.Event("YTPQualityChange");YTPQualityChange.quality=quality;jQuery(YTPlayer).trigger(YTPQualityChange);},'onError':function(err){if(err.data==150){console.log("Embedding this video is restricted by Youtube.");if(YTPlayer.isPlayList)jQuery(YTPlayer).playNext();}
if(err.data==2&&YTPlayer.isPlayList)jQuery(YTPlayer).playNext();if(typeof YTPlayer.opt.onError=="function")YTPlayer.opt.onError($YTPlayer,err);}}});});})});},getDataFromAPI:function(YTPlayer){YTPlayer.videoData=jQuery.mbStorage.get("YYTPlayer_data_"+YTPlayer.videoID);jQuery(YTPlayer).off("YTPData.YTPlayer").on("YTPData.YTPlayer",function(){if(YTPlayer.hasData){if(YTPlayer.isPlayer&&!YTPlayer.opt.autoPlay){var bgndURL=YTPlayer.videoData.thumb_max||YTPlayer.videoData.thumb_high||YTPlayer.videoData.thumb_medium;YTPlayer.opt.containment.css({background:"rgba(0,0,0,0.5) url("+bgndURL+") center center",backgroundSize:"cover"});YTPlayer.opt.backgroundUrl=bgndURL;}}});if(YTPlayer.videoData){setTimeout(function(){YTPlayer.opt.ratio=YTPlayer.opt.ratio=="auto"?"16/9":YTPlayer.opt.ratio;YTPlayer.dataReceived=true;jQuery(YTPlayer).trigger("YTPChanged");var YTPData=jQuery.Event("YTPData");YTPData.prop={};for(var x in YTPlayer.videoData)YTPData.prop[x]=YTPlayer.videoData[x];jQuery(YTPlayer).trigger(YTPData);},500);YTPlayer.hasData=true;}else if(jQuery.mbYTPlayer.apiKey){jQuery.getJSON(jQuery.mbYTPlayer.locationProtocol+"//www.googleapis.com/youtube/v3/videos?id="+YTPlayer.videoID+"&key="+jQuery.mbYTPlayer.apiKey+"&part=snippet",function(data){YTPlayer.dataReceived=true;jQuery(YTPlayer).trigger("YTPChanged");function parseYTPlayer_data(data){YTPlayer.videoData={};YTPlayer.videoData.id=YTPlayer.videoID;YTPlayer.videoData.channelTitle=data.channelTitle;YTPlayer.videoData.title=data.title;YTPlayer.videoData.description=data.description.length<400?data.description:data.description.substring(0,400)+" ...";YTPlayer.videoData.aspectratio=YTPlayer.opt.ratio=="auto"?"16/9":YTPlayer.opt.ratio;YTPlayer.opt.ratio=YTPlayer.videoData.aspectratio;YTPlayer.videoData.thumb_max=data.thumbnails.maxres?data.thumbnails.maxres.url:null;YTPlayer.videoData.thumb_high=data.thumbnails.high?data.thumbnails.high.url:null;YTPlayer.videoData.thumb_medium=data.thumbnails.medium?data.thumbnails.medium.url:null;jQuery.mbStorage.set("YYTPlayer_data_"+YTPlayer.videoID,YTPlayer.videoData);}
parseYTPlayer_data(data.items[0].snippet);YTPlayer.hasData=true;var YTPData=jQuery.Event("YTPData");YTPData.prop={};for(var x in YTPlayer.videoData)YTPData.prop[x]=YTPlayer.videoData[x];jQuery(YTPlayer).trigger(YTPData);});}else{setTimeout(function(){jQuery(YTPlayer).trigger("YTPChanged");},50);if(YTPlayer.isPlayer&&!YTPlayer.opt.autoPlay){var bgndURL=jQuery.mbYTPlayer.locationProtocol+"//i.ytimg.com/vi/"+YTPlayer.videoID+"/hqdefault.jpg";YTPlayer.opt.containment.css({background:"rgba(0,0,0,0.5) url("+bgndURL+") center center",backgroundSize:"cover"});YTPlayer.opt.backgroundUrl=bgndURL;}
YTPlayer.videoData=null;YTPlayer.opt.ratio=YTPlayer.opt.ratio=="auto"?"16/9":YTPlayer.opt.ratio;}
if(YTPlayer.isPlayer&&!YTPlayer.opt.autoPlay){YTPlayer.loading=jQuery("<div/>").addClass("loading").html("Loading").hide();jQuery(YTPlayer).append(YTPlayer.loading);YTPlayer.loading.fadeIn();}},removeStoredData:function(){jQuery.mbStorage.remove();},getVideoData:function(){var YTPlayer=this.get(0);return YTPlayer.videoData;},getVideoID:function(){var YTPlayer=this.get(0);return YTPlayer.videoID||false;},setVideoQuality:function(quality){var YTPlayer=this.get(0);if(!jQuery.browser.chrome)YTPlayer.player.setPlaybackQuality(quality);},playlist:function(videos,shuffle,callback){var $YTPlayer=this;var YTPlayer=$YTPlayer.get(0);YTPlayer.isPlayList=true;if(shuffle)videos=jQuery.shuffle(videos);if(!YTPlayer.videoID){YTPlayer.videos=videos;YTPlayer.videoCounter=0;YTPlayer.videoLength=videos.length;jQuery(YTPlayer).data("property",videos[0]);jQuery(YTPlayer).mb_YTPlayer();}
if(typeof callback=="function")jQuery(YTPlayer).on("YTPChanged",function(){callback(YTPlayer);});jQuery(YTPlayer).on("YTPEnd",function(){jQuery(YTPlayer).playNext();});return $YTPlayer;},playNext:function(){var YTPlayer=this.get(0);YTPlayer.videoCounter++;if(YTPlayer.videoCounter>=YTPlayer.videoLength)YTPlayer.videoCounter=0;jQuery(YTPlayer).changeMovie(YTPlayer.videos[YTPlayer.videoCounter]);return this;},playPrev:function(){var YTPlayer=this.get(0);YTPlayer.videoCounter--;if(YTPlayer.videoCounter<0)YTPlayer.videoCounter=YTPlayer.videoLength-1;jQuery(YTPlayer).changeMovie(YTPlayer.videos[YTPlayer.videoCounter]);return this;},changeMovie:function(opt){var YTPlayer=this.get(0);YTPlayer.opt.startAt=0;YTPlayer.opt.stopAt=0;YTPlayer.opt.mute=true;YTPlayer.hasData=false;YTPlayer.hasChanged=true;if(opt)jQuery.extend(YTPlayer.opt,YTPlayer.defaultOpt,opt);YTPlayer.videoID=getYTPVideoID(YTPlayer.opt.videoURL).videoID;jQuery(YTPlayer.playerEl).CSSAnimate({opacity:0},200,function(){jQuery(YTPlayer).YTPGetPlayer().cueVideoByUrl(encodeURI(jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/v/"+YTPlayer.videoID),1,YTPlayer.opt.quality);jQuery.mbYTPlayer.checkForState(YTPlayer);jQuery(YTPlayer).optimizeDisplay();jQuery.mbYTPlayer.getDataFromAPI(YTPlayer);return this;});},getPlayer:function(){return jQuery(this).get(0).player;},playerDestroy:function(){var YTPlayer=this.get(0);ytp.YTAPIReady=false;ytp.backgroundIsInited=false;YTPlayer.isInit=false;YTPlayer.videoID=null;var playerBox=YTPlayer.wrapper;playerBox.remove();jQuery("#controlBar_"+YTPlayer.id).remove();clearInterval(YTPlayer.checkForStartAt);clearInterval(YTPlayer.getState);return this;},fullscreen:function(real){var YTPlayer=this.get(0);if(typeof real=="undefined")real=YTPlayer.opt.realfullscreen;real=eval(real);var controls=jQuery("#controlBar_"+YTPlayer.id);var fullScreenBtn=controls.find(".mb_OnlyYT");var videoWrapper=YTPlayer.isSelf?YTPlayer.opt.containment:YTPlayer.wrapper;if(real){var fullscreenchange=jQuery.browser.mozilla?"mozfullscreenchange":jQuery.browser.webkit?"webkitfullscreenchange":"fullscreenchange";jQuery(document).off(fullscreenchange).on(fullscreenchange,function(){var isFullScreen=RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen");if(!isFullScreen){YTPlayer.isAlone=false;fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT);jQuery(YTPlayer).YTPSetVideoQuality(YTPlayer.opt.quality);videoWrapper.removeClass("fullscreen");videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500);videoWrapper.css({zIndex:0});if(YTPlayer.isBackground){jQuery("body").after(controls);}else{YTPlayer.wrapper.before(controls);}
jQuery(window).resize();jQuery(YTPlayer).trigger("YTPFullScreenEnd");}else{jQuery(YTPlayer).YTPSetVideoQuality("default");jQuery(YTPlayer).trigger("YTPFullScreenStart");}});}
if(!YTPlayer.isAlone){function hideMouse(){YTPlayer.overlay.css({cursor:"none"});}
jQuery(document).on("mousemove.YTPlayer",function(e){YTPlayer.overlay.css({cursor:"auto"});clearTimeout(YTPlayer.hideCursor);if(!jQuery(e.target).parents().is(".mb_YTPBar"))YTPlayer.hideCursor=setTimeout(hideMouse,3000);});hideMouse();if(real){videoWrapper.css({opacity:0});videoWrapper.addClass("fullscreen");launchFullscreen(videoWrapper.get(0));setTimeout(function(){videoWrapper.CSSAnimate({opacity:1},1000);YTPlayer.wrapper.append(controls);jQuery(YTPlayer).optimizeDisplay();YTPlayer.player.seekTo(YTPlayer.player.getCurrentTime()+.1,true);},500)}else videoWrapper.css({zIndex:10000}).CSSAnimate({opacity:1},1000);fullScreenBtn.html(jQuery.mbYTPlayer.controls.showSite);YTPlayer.isAlone=true;}else{jQuery(document).off("mousemove.YTPlayer");YTPlayer.overlay.css({cursor:"auto"});if(real){cancelFullscreen();}else{videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500);videoWrapper.css({zIndex:0});}
fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT);YTPlayer.isAlone=false;}
function RunPrefixMethod(obj,method){var pfx=["webkit","moz","ms","o",""];var p=0,m,t;while(p<pfx.length&&!obj[m]){m=method;if(pfx[p]==""){m=m.substr(0,1).toLowerCase()+m.substr(1);}
m=pfx[p]+m;t=typeof obj[m];if(t!="undefined"){pfx=[pfx[p]];return(t=="function"?obj[m]():obj[m]);}
p++;}}
function launchFullscreen(element){RunPrefixMethod(element,"RequestFullScreen");}
function cancelFullscreen(){if(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen")){RunPrefixMethod(document,"CancelFullScreen");}}
return this;},toggleLoops:function(){var YTPlayer=this.get(0);var data=YTPlayer.opt;if(data.loop==1){data.loop=0;}else{if(data.startAt){YTPlayer.player.seekTo(data.startAt);}else{YTPlayer.player.playVideo();}
data.loop=1;}
return this;},play:function(){var YTPlayer=this.get(0);if(!YTPlayer.isReady)return;var controls=jQuery("#controlBar_"+YTPlayer.id);var playBtn=controls.find(".mb_YTPPlaypause");playBtn.html(jQuery.mbYTPlayer.controls.pause);YTPlayer.player.playVideo();YTPlayer.wrapper.CSSAnimate({opacity:YTPlayer.isAlone?1:YTPlayer.opt.opacity},2000);jQuery(YTPlayer.playerEl).CSSAnimate({opacity:1},1000);jQuery(YTPlayer).css("background-image","none");return this;},togglePlay:function(callback){var YTPlayer=this.get(0);if(YTPlayer.state==1)this.YTPPause();else this.YTPPlay();if(typeof callback=="function"){callback(YTPlayer.state);}
return this;},stop:function(){var YTPlayer=this.get(0);var controls=jQuery("#controlBar_"+YTPlayer.id);var playBtn=controls.find(".mb_YTPPlaypause");playBtn.html(jQuery.mbYTPlayer.controls.play);YTPlayer.player.stopVideo();return this;},pause:function(){var YTPlayer=this.get(0);var controls=jQuery("#controlBar_"+YTPlayer.id);var playBtn=controls.find(".mb_YTPPlaypause");playBtn.html(jQuery.mbYTPlayer.controls.play);YTPlayer.player.pauseVideo();return this;},seekTo:function(val){var YTPlayer=this.get(0);YTPlayer.player.seekTo(val,true);return this;},setVolume:function(val){var YTPlayer=this.get(0);if(!val&&!YTPlayer.opt.vol&&YTPlayer.player.getVolume()==0)jQuery(YTPlayer).YTPUnmute();else if((!val&&YTPlayer.player.getVolume()>0)||(val&&YTPlayer.opt.vol==val)){if(!YTPlayer.isMute)jQuery(YTPlayer).YTPMute();else jQuery(YTPlayer).YTPUnmute();}else{YTPlayer.opt.vol=val;YTPlayer.player.setVolume(YTPlayer.opt.vol);if(YTPlayer.volumeBar&&YTPlayer.volumeBar.length)YTPlayer.volumeBar.updateSliderVal(val)}
return this;},mute:function(){var YTPlayer=this.get(0);if(YTPlayer.isMute)return;YTPlayer.player.mute();YTPlayer.isMute=true;YTPlayer.player.setVolume(0);if(YTPlayer.volumeBar&&YTPlayer.volumeBar.length&&YTPlayer.volumeBar.width()>10){YTPlayer.volumeBar.updateSliderVal(0);}
var controls=jQuery("#controlBar_"+YTPlayer.id);var muteBtn=controls.find(".mb_YTPMuteUnmute");muteBtn.html(jQuery.mbYTPlayer.controls.unmute);jQuery(YTPlayer).addClass("isMuted");if(YTPlayer.volumeBar&&YTPlayer.volumeBar.length)YTPlayer.volumeBar.addClass("muted");var YTPEvent=jQuery.Event("YTPMuted");YTPEvent.time=YTPlayer.player.time;if(YTPlayer.canTrigger)jQuery(YTPlayer).trigger(YTPEvent);return this;},unmute:function(){var YTPlayer=this.get(0);if(!YTPlayer.isMute)return;YTPlayer.player.unMute();YTPlayer.isMute=false;YTPlayer.player.setVolume(YTPlayer.opt.vol);if(YTPlayer.volumeBar&&YTPlayer.volumeBar.length)YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol>10?YTPlayer.opt.vol:10);var controls=jQuery("#controlBar_"+YTPlayer.id);var muteBtn=controls.find(".mb_YTPMuteUnmute");muteBtn.html(jQuery.mbYTPlayer.controls.mute);jQuery(YTPlayer).removeClass("isMuted");if(YTPlayer.volumeBar&&YTPlayer.volumeBar.length)YTPlayer.volumeBar.removeClass("muted");var YTPEvent=jQuery.Event("YTPUnmuted");YTPEvent.time=YTPlayer.player.time;if(YTPlayer.canTrigger)jQuery(YTPlayer).trigger(YTPEvent);return this;},applyFilter:function(filter,value){var YTPlayer=this.get(0);YTPlayer.filters[filter].value=value;if(YTPlayer.filtersEnabled)this.YTPEnableFilters();return this;},applyFilters:function(filters){var YTPlayer=this.get(0);this.on("YTPReady",function(){for(var key in filters){YTPlayer.filters[key].value=filters[key];jQuery(YTPlayer).YTPApplyFilter(key,filters[key]);}
jQuery(YTPlayer).trigger("YTPFiltersApplied");});return this;},toggleFilter:function(filter,value){return this.each(function(){var YTPlayer=this;if(!YTPlayer.filters[filter].value)YTPlayer.filters[filter].value=value;else YTPlayer.filters[filter].value=0;if(YTPlayer.filtersEnabled)jQuery(this).YTPEnableFilters();})
return this;},toggleFilters:function(callback){return this.each(function(){var YTPlayer=this;if(YTPlayer.filtersEnabled){jQuery(YTPlayer).trigger("YTPDisableFilters");jQuery(YTPlayer).YTPDisableFilters();}else{jQuery(YTPlayer).YTPEnableFilters();jQuery(YTPlayer).trigger("YTPEnableFilters");}
if(typeof callback=="function")callback(YTPlayer.filtersEnabled);})},disableFilters:function(){return this.each(function(){var YTPlayer=this;var iframe=jQuery(YTPlayer.playerEl);iframe.css("-webkit-filter","");iframe.css("filter","");YTPlayer.filtersEnabled=false;})},enableFilters:function(){return this.each(function(){var YTPlayer=this;var iframe=jQuery(YTPlayer.playerEl);var filterStyle="";for(var key in YTPlayer.filters){if(YTPlayer.filters[key].value)filterStyle+=key.replace("_","-")+"("+YTPlayer.filters[key].value+YTPlayer.filters[key].unit+") ";}
iframe.css("-webkit-filter",filterStyle);iframe.css("filter",filterStyle);YTPlayer.filtersEnabled=true;})
return this;},removeFilter:function(filter,callback){return this.each(function(){if(typeof filter=="function"){callback=filter;filter=null;}
var YTPlayer=this;if(!filter)
for(var key in YTPlayer.filters){jQuery(this).YTPApplyFilter(key,0);if(typeof callback=="function")callback(key);}else{jQuery(this).YTPApplyFilter(filter,0);if(typeof callback=="function")callback(filter);}});return this;},manageProgress:function(){var YTPlayer=this.get(0);var controls=jQuery("#controlBar_"+YTPlayer.id);var progressBar=controls.find(".mb_YTPProgress");var loadedBar=controls.find(".mb_YTPLoaded");var timeBar=controls.find(".mb_YTPseekbar");var totW=progressBar.outerWidth();var currentTime=Math.floor(YTPlayer.player.getCurrentTime());var totalTime=Math.floor(YTPlayer.player.getDuration());var timeW=(currentTime*totW)/totalTime;var startLeft=0;var loadedW=YTPlayer.player.getVideoLoadedFraction()*100;loadedBar.css({left:startLeft,width:loadedW+"%"});timeBar.css({left:0,width:timeW});return{totalTime:totalTime,currentTime:currentTime};},buildControls:function(YTPlayer){var data=YTPlayer.opt;data.showYTLogo=data.showYTLogo||data.printUrl;if(jQuery("#controlBar_"+YTPlayer.id).length)return;YTPlayer.controlBar=jQuery("<span/>").attr("id","controlBar_"+YTPlayer.id).addClass("mb_YTPBar").css({whiteSpace:"noWrap",position:YTPlayer.isBackground?"fixed":"absolute",zIndex:YTPlayer.isBackground?10000:1000}).hide();var buttonBar=jQuery("<div/>").addClass("buttonBar");var playpause=jQuery("<span>"+jQuery.mbYTPlayer.controls.play+"</span>").addClass("mb_YTPPlaypause ytpicon").click(function(){if(YTPlayer.player.getPlayerState()==1)jQuery(YTPlayer).YTPPause();else jQuery(YTPlayer).YTPPlay();});var MuteUnmute=jQuery("<span>"+jQuery.mbYTPlayer.controls.mute+"</span>").addClass("mb_YTPMuteUnmute ytpicon").click(function(){if(YTPlayer.player.getVolume()==0){jQuery(YTPlayer).YTPUnmute();}else{jQuery(YTPlayer).YTPMute();}});var volumeBar=jQuery("<div/>").addClass("mb_YTPVolumeBar").css({display:"inline-block"});YTPlayer.volumeBar=volumeBar;var idx=jQuery("<span/>").addClass("mb_YTPTime");var vURL=data.videoURL?data.videoURL:"";if(vURL.indexOf("http")<0)vURL=jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/watch?v="+data.videoURL;var movieUrl=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.ytLogo).addClass("mb_YTPUrl ytpicon").attr("title","view on YouTube").on("click",function(){window.open(vURL,"viewOnYT")});var onlyVideo=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.onlyYT).addClass("mb_OnlyYT ytpicon").on("click",function(){jQuery(YTPlayer).YTPFullscreen(data.realfullscreen);});var progressBar=jQuery("<div/>").addClass("mb_YTPProgress").css("position","absolute").click(function(e){timeBar.css({width:(e.clientX-timeBar.offset().left)});YTPlayer.timeW=e.clientX-timeBar.offset().left;YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0});var totalTime=Math.floor(YTPlayer.player.getDuration());YTPlayer.goto=(timeBar.outerWidth()*totalTime)/progressBar.outerWidth();YTPlayer.player.seekTo(parseFloat(YTPlayer.goto),true);YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0});});var loadedBar=jQuery("<div/>").addClass("mb_YTPLoaded").css("position","absolute");var timeBar=jQuery("<div/>").addClass("mb_YTPseekbar").css("position","absolute");progressBar.append(loadedBar).append(timeBar);buttonBar.append(playpause).append(MuteUnmute).append(volumeBar).append(idx);if(data.showYTLogo){buttonBar.append(movieUrl);}
if(YTPlayer.isBackground||(eval(YTPlayer.opt.realfullscreen)&&!YTPlayer.isBackground))buttonBar.append(onlyVideo);YTPlayer.controlBar.append(buttonBar).append(progressBar);if(!YTPlayer.isBackground){YTPlayer.controlBar.addClass("inlinePlayer");YTPlayer.wrapper.before(YTPlayer.controlBar);}else{jQuery("body").after(YTPlayer.controlBar);}
volumeBar.simpleSlider({initialval:YTPlayer.opt.vol,scale:100,orientation:"h",callback:function(el){if(el.value==0){jQuery(YTPlayer).YTPMute();}else{jQuery(YTPlayer).YTPUnmute();}
YTPlayer.player.setVolume(el.value);if(!YTPlayer.isMute)YTPlayer.opt.vol=el.value;}});},checkForState:function(YTPlayer){var interval=YTPlayer.opt.showControls?100:700;clearInterval(YTPlayer.getState);if(!jQuery.contains(document,YTPlayer)){jQuery(YTPlayer).YTPPlayerDestroy();clearInterval(YTPlayer.getState);clearInterval(YTPlayer.checkForStartAt);return;}
jQuery.mbYTPlayer.checkForStart(YTPlayer);YTPlayer.getState=setInterval(function(){var prog=jQuery(YTPlayer).YTPManageProgress();var $YTPlayer=jQuery(YTPlayer);var data=YTPlayer.opt;var startAt=YTPlayer.opt.startAt?YTPlayer.opt.startAt:0;var stopAt=YTPlayer.opt.stopAt>YTPlayer.opt.startAt?YTPlayer.opt.stopAt:0;stopAt=stopAt<YTPlayer.player.getDuration()?stopAt:0;if(YTPlayer.player.time!=prog.currentTime){var YTPEvent=jQuery.Event("YTPTime");YTPEvent.time=YTPlayer.player.time;jQuery(YTPlayer).trigger(YTPEvent);}
YTPlayer.player.time=prog.currentTime;if(YTPlayer.player.getVolume()==0)$YTPlayer.addClass("isMuted");else $YTPlayer.removeClass("isMuted");if(YTPlayer.opt.showControls)
if(prog.totalTime){YTPlayer.controlBar.find(".mb_YTPTime").html(jQuery.mbYTPlayer.formatTime(prog.currentTime)+" / "+jQuery.mbYTPlayer.formatTime(prog.totalTime));}else{YTPlayer.controlBar.find(".mb_YTPTime").html("-- : -- / -- : --");}
if(eval(YTPlayer.opt.stopMovieOnBlur))
if(!document.hasFocus()){if(YTPlayer.state==1){YTPlayer.hasFocus=false;$YTPlayer.YTPPause();}}else if(document.hasFocus()&&!YTPlayer.hasFocus&&!(YTPlayer.state==-1||YTPlayer.state==0)){YTPlayer.hasFocus=true;$YTPlayer.YTPPlay();}
if(YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()<=400&&!YTPlayer.isCompact){YTPlayer.controlBar.addClass("compact");YTPlayer.isCompact=true;if(!YTPlayer.isMute&&YTPlayer.volumeBar)YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol);}else if(YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()>400&&YTPlayer.isCompact){YTPlayer.controlBar.removeClass("compact");YTPlayer.isCompact=false;if(!YTPlayer.isMute&&YTPlayer.volumeBar)YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol);}
if(YTPlayer.player.getPlayerState()==1&&(parseFloat(YTPlayer.player.getDuration()-1.5)<YTPlayer.player.getCurrentTime()||(stopAt>0&&parseFloat(YTPlayer.player.getCurrentTime())>stopAt))){if(YTPlayer.isEnded)return;YTPlayer.isEnded=true;setTimeout(function(){YTPlayer.isEnded=false},1000);if(YTPlayer.isPlayList){clearInterval(YTPlayer.getState);var YTPEnd=jQuery.Event("YTPEnd");YTPEnd.time=YTPlayer.player.time;jQuery(YTPlayer).trigger(YTPEnd);return;}else if(!data.loop){YTPlayer.player.pauseVideo();YTPlayer.wrapper.CSSAnimate({opacity:0},1000,function(){var YTPEnd=jQuery.Event("YTPEnd");YTPEnd.time=YTPlayer.player.time;jQuery(YTPlayer).trigger(YTPEnd);YTPlayer.player.seekTo(startAt,true);if(!YTPlayer.isBackground){YTPlayer.opt.containment.css({background:"rgba(0,0,0,0.5) url("+YTPlayer.opt.backgroundUrl+") center center",backgroundSize:"cover"});}});}else{startAt=startAt||1;YTPlayer.player.pauseVideo();YTPlayer.player.seekTo(startAt,true);$YTPlayer.YTPPlay();}}},interval);},checkForStart:function(YTPlayer){var $YTPlayer=jQuery(YTPlayer);if(!jQuery.contains(document,YTPlayer)){jQuery(YTPlayer).YTPPlayerDestroy();return}
if(jQuery.browser.chrome)YTPlayer.opt.quality="default";YTPlayer.player.pauseVideo();jQuery(YTPlayer).muteYTPVolume();jQuery("#controlBar_"+YTPlayer.id).remove();if(YTPlayer.opt.showControls)jQuery.mbYTPlayer.buildControls(YTPlayer);if(YTPlayer.opt.addRaster){var classN=YTPlayer.opt.addRaster=="dot"?"raster-dot":"raster";YTPlayer.overlay.addClass(YTPlayer.isRetina?classN+" retina":classN);}else{YTPlayer.overlay.removeClass(function(index,classNames){var current_classes=classNames.split(" "),classes_to_remove=[];jQuery.each(current_classes,function(index,class_name){if(/raster.*/.test(class_name)){classes_to_remove.push(class_name);}});classes_to_remove.push("retina");return classes_to_remove.join(" ");})}
YTPlayer.checkForStartAt=setInterval(function(){jQuery(YTPlayer).YTPMute();var startAt=YTPlayer.opt.startAt?YTPlayer.opt.startAt:1;var canPlayVideo=(YTPlayer.player.getVideoLoadedFraction()>startAt/YTPlayer.player.getDuration());if(YTPlayer.player.getDuration()>0&&YTPlayer.player.getCurrentTime()>=startAt&&canPlayVideo){clearInterval(YTPlayer.checkForStartAt);YTPlayer.isReady=true;if(typeof YTPlayer.opt.onReady=="function")YTPlayer.opt.onReady(YTPlayer);var YTPready=jQuery.Event("YTPReady");jQuery(YTPlayer).trigger(YTPready);YTPlayer.player.pauseVideo();if(!YTPlayer.opt.mute)jQuery(YTPlayer).YTPUnmute();YTPlayer.canTrigger=true;if(YTPlayer.opt.autoPlay){$YTPlayer.YTPPlay();$YTPlayer.css("background-image","none");jQuery(YTPlayer.playerEl).CSSAnimate({opacity:1},1000);YTPlayer.wrapper.CSSAnimate({opacity:YTPlayer.isAlone?1:YTPlayer.opt.opacity},1000);}else{YTPlayer.player.pauseVideo();if(!YTPlayer.isPlayer){jQuery(YTPlayer.playerEl).CSSAnimate({opacity:1},1000);YTPlayer.wrapper.CSSAnimate({opacity:YTPlayer.isAlone?1:YTPlayer.opt.opacity},1000);}}
if(YTPlayer.isPlayer&&!YTPlayer.opt.autoPlay){YTPlayer.loading.html("Ready");setTimeout(function(){YTPlayer.loading.fadeOut();},100)}
if(YTPlayer.controlBar)YTPlayer.controlBar.slideDown(1000);}else{if(startAt>=0)YTPlayer.player.seekTo(startAt,true);}},1000);},formatTime:function(s){var min=Math.floor(s/60);var sec=Math.floor(s-(60*min));return(min<=9?"0"+min:min)+" : "+(sec<=9?"0"+sec:sec);}};jQuery.fn.toggleVolume=function(){var YTPlayer=this.get(0);if(!YTPlayer)return;if(YTPlayer.player.isMuted()){jQuery(YTPlayer).YTPUnmute();return true;}else{jQuery(YTPlayer).YTPMute();return false;}};jQuery.fn.optimizeDisplay=function(){var YTPlayer=this.get(0);var data=YTPlayer.opt;var playerBox=jQuery(YTPlayer.playerEl);var win={};var el=YTPlayer.wrapper;win.width=el.outerWidth();win.height=el.outerHeight();var margin=24;var overprint=100;var vid={};if(data.optimizeDisplay){vid.width=win.width+((win.width*margin)/100);vid.height=data.ratio=="16/9"?Math.ceil((9*win.width)/16):Math.ceil((3*win.width)/4);vid.marginTop=-((vid.height-win.height)/2);vid.marginLeft=-((win.width*(margin/2))/100);if(vid.height<win.height){vid.height=win.height+((win.height*margin)/100);vid.width=data.ratio=="16/9"?Math.floor((16*win.height)/9):Math.floor((4*win.height)/3);vid.marginTop=-((win.height*(margin/2))/100);vid.marginLeft=-((vid.width-win.width)/2);}
vid.width+=overprint;vid.height+=overprint;vid.marginTop-=overprint/2;vid.marginLeft-=overprint/2;}else{vid.width="100%";vid.height="100%";vid.marginTop=0;vid.marginLeft=0;}
playerBox.css({width:vid.width,height:vid.height,marginTop:vid.marginTop,marginLeft:vid.marginLeft});};jQuery.shuffle=function(arr){var newArray=arr.slice();var len=newArray.length;var i=len;while(i--){var p=parseInt(Math.random()*len);var t=newArray[i];newArray[i]=newArray[p];newArray[p]=t;}
return newArray;};jQuery.fn.YTPlayer=jQuery.mbYTPlayer.buildPlayer;jQuery.fn.YTPGetPlayer=jQuery.mbYTPlayer.getPlayer;jQuery.fn.YTPGetVideoID=jQuery.mbYTPlayer.getVideoID;jQuery.fn.YTPChangeMovie=jQuery.mbYTPlayer.changeMovie;jQuery.fn.YTPPlayerDestroy=jQuery.mbYTPlayer.playerDestroy;jQuery.fn.YTPPlay=jQuery.mbYTPlayer.play;jQuery.fn.YTPTogglePlay=jQuery.mbYTPlayer.togglePlay;jQuery.fn.YTPStop=jQuery.mbYTPlayer.stop;jQuery.fn.YTPPause=jQuery.mbYTPlayer.pause;jQuery.fn.YTPSeekTo=jQuery.mbYTPlayer.seekTo;jQuery.fn.YTPlaylist=jQuery.mbYTPlayer.playlist;jQuery.fn.YTPPlayNext=jQuery.mbYTPlayer.playNext;jQuery.fn.YTPPlayPrev=jQuery.mbYTPlayer.playPrev;jQuery.fn.YTPMute=jQuery.mbYTPlayer.mute;jQuery.fn.YTPUnmute=jQuery.mbYTPlayer.unmute;jQuery.fn.YTPToggleVolume=jQuery.mbYTPlayer.toggleVolume;jQuery.fn.YTPSetVolume=jQuery.mbYTPlayer.setVolume;jQuery.fn.YTPGetVideoData=jQuery.mbYTPlayer.getVideoData;jQuery.fn.YTPFullscreen=jQuery.mbYTPlayer.fullscreen;jQuery.fn.YTPToggleLoops=jQuery.mbYTPlayer.toggleLoops;jQuery.fn.YTPSetVideoQuality=jQuery.mbYTPlayer.setVideoQuality;jQuery.fn.YTPManageProgress=jQuery.mbYTPlayer.manageProgress;jQuery.fn.YTPApplyFilter=jQuery.mbYTPlayer.applyFilter;jQuery.fn.YTPApplyFilters=jQuery.mbYTPlayer.applyFilters;jQuery.fn.YTPToggleFilter=jQuery.mbYTPlayer.toggleFilter;jQuery.fn.YTPToggleFilters=jQuery.mbYTPlayer.toggleFilters;jQuery.fn.YTPRemoveFilter=jQuery.mbYTPlayer.removeFilter;jQuery.fn.YTPDisableFilters=jQuery.mbYTPlayer.disableFilters;jQuery.fn.YTPEnableFilters=jQuery.mbYTPlayer.enableFilters;jQuery.fn.mb_YTPlayer=jQuery.mbYTPlayer.buildPlayer;jQuery.fn.playNext=jQuery.mbYTPlayer.playNext;jQuery.fn.playPrev=jQuery.mbYTPlayer.playPrev;jQuery.fn.changeMovie=jQuery.mbYTPlayer.changeMovie;jQuery.fn.getVideoID=jQuery.mbYTPlayer.getVideoID;jQuery.fn.getPlayer=jQuery.mbYTPlayer.getPlayer;jQuery.fn.playerDestroy=jQuery.mbYTPlayer.playerDestroy;jQuery.fn.fullscreen=jQuery.mbYTPlayer.fullscreen;jQuery.fn.buildYTPControls=jQuery.mbYTPlayer.buildControls;jQuery.fn.playYTP=jQuery.mbYTPlayer.play;jQuery.fn.toggleLoops=jQuery.mbYTPlayer.toggleLoops;jQuery.fn.stopYTP=jQuery.mbYTPlayer.stop;jQuery.fn.pauseYTP=jQuery.mbYTPlayer.pause;jQuery.fn.seekToYTP=jQuery.mbYTPlayer.seekTo;jQuery.fn.muteYTPVolume=jQuery.mbYTPlayer.mute;jQuery.fn.unmuteYTPVolume=jQuery.mbYTPlayer.unmute;jQuery.fn.setYTPVolume=jQuery.mbYTPlayer.setVolume;jQuery.fn.setVideoQuality=jQuery.mbYTPlayer.setVideoQuality;jQuery.fn.manageYTPProgress=jQuery.mbYTPlayer.manageProgress;jQuery.fn.YTPGetDataFromFeed=jQuery.mbYTPlayer.getVideoData;})(jQuery,ytp);;function uncamel(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function setUnit(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+jQuery/)?""+a+b:a}function setFilter(a,b,c){var d=uncamel(b),e=jQuery.browser.mozilla?"":jQuery.CSS.sfx;a[e+"filter"]=a[e+"filter"]||"",c=setUnit(c>jQuery.CSS.filters[b].max?jQuery.CSS.filters[b].max:c,jQuery.CSS.filters[b].unit),a[e+"filter"]+=d+"("+c+") ",delete a[b]}jQuery.support.CSStransition=function(){var a=document.body||document.documentElement,b=a.style;return void 0!==b.transition||void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.MsTransition||void 0!==b.OTransition}(),jQuery.CSS={name:"mb.CSSAnimate",author:"Matteo Bicocchi",version:"2.0.0",transitionEnd:"transitionEnd",sfx:"",filters:{blur:{min:0,max:100,unit:"px"},brightness:{min:0,max:400,unit:"%"},contrast:{min:0,max:400,unit:"%"},grayscale:{min:0,max:100,unit:"%"},hueRotate:{min:0,max:360,unit:"deg"},invert:{min:0,max:100,unit:"%"},saturate:{min:0,max:400,unit:"%"},sepia:{min:0,max:100,unit:"%"}},normalizeCss:function(a){var b=jQuery.extend(!0,{},a);jQuery.browser.webkit||jQuery.browser.opera?jQuery.CSS.sfx="-webkit-":jQuery.browser.mozilla?jQuery.CSS.sfx="-moz-":jQuery.browser.msie&&(jQuery.CSS.sfx="-ms-");for(var c in b){"transform"===c&&(b[jQuery.CSS.sfx+"transform"]=b[c],delete b[c]),"transform-origin"===c&&(b[jQuery.CSS.sfx+"transform-origin"]=a[c],delete b[c]),"filter"!==c||jQuery.browser.mozilla||(b[jQuery.CSS.sfx+"filter"]=a[c],delete b[c]),"blur"===c&&setFilter(b,"blur",a[c]),"brightness"===c&&setFilter(b,"brightness",a[c]),"contrast"===c&&setFilter(b,"contrast",a[c]),"grayscale"===c&&setFilter(b,"grayscale",a[c]),"hueRotate"===c&&setFilter(b,"hueRotate",a[c]),"invert"===c&&setFilter(b,"invert",a[c]),"saturate"===c&&setFilter(b,"saturate",a[c]),"sepia"===c&&setFilter(b,"sepia",a[c]);var d="";"x"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateX("+setUnit(a[c],"px")+")",delete b[c]),"y"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateY("+setUnit(a[c],"px")+")",delete b[c]),"z"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateZ("+setUnit(a[c],"px")+")",delete b[c]),"rotate"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotate("+setUnit(a[c],"deg")+")",delete b[c]),"rotateX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateX("+setUnit(a[c],"deg")+")",delete b[c]),"rotateY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateY("+setUnit(a[c],"deg")+")",delete b[c]),"rotateZ"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateZ("+setUnit(a[c],"deg")+")",delete b[c]),"scale"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scale("+setUnit(a[c],"")+")",delete b[c]),"scaleX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleX("+setUnit(a[c],"")+")",delete b[c]),"scaleY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleY("+setUnit(a[c],"")+")",delete b[c]),"scaleZ"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleZ("+setUnit(a[c],"")+")",delete b[c]),"skew"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skew("+setUnit(a[c],"deg")+")",delete b[c]),"skewX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skewX("+setUnit(a[c],"deg")+")",delete b[c]),"skewY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skewY("+setUnit(a[c],"deg")+")",delete b[c]),"perspective"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" perspective("+setUnit(a[c],"px")+")",delete b[c])}return b},getProp:function(a){var b=[];for(var c in a)b.indexOf(c)<0&&b.push(uncamel(c));return b.join(",")},animate:function(a,b,c,d,e){return this.each(function(){function o(){f.called=!0,f.CSSAIsRunning=!1,g.off(jQuery.CSS.transitionEnd+"."+f.id),clearTimeout(f.timeout),g.css(jQuery.CSS.sfx+"transition",""),"function"==typeof e&&e.apply(f),"function"==typeof f.CSSqueue&&(f.CSSqueue(),f.CSSqueue=null)}var f=this,g=jQuery(this);f.id=f.id||"CSSA_"+(new Date).getTime();var h=h||{type:"noEvent"};if(f.CSSAIsRunning&&f.eventType==h.type&&!jQuery.browser.msie&&jQuery.browser.version<=9)return f.CSSqueue=function(){g.CSSAnimate(a,b,c,d,e)},void 0;if(f.CSSqueue=null,f.eventType=h.type,0!==g.length&&a){if(a=jQuery.normalizeCss(a),f.CSSAIsRunning=!0,"function"==typeof b&&(e=b,b=jQuery.fx.speeds._default),"function"==typeof c&&(d=c,c=0),"string"==typeof c&&(e=c,c=0),"function"==typeof d&&(e=d,d="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof b)for(var i in jQuery.fx.speeds){if(b==i){b=jQuery.fx.speeds[i];break}b=jQuery.fx.speeds._default}if(b||(b=jQuery.fx.speeds._default),"string"==typeof e&&(d=e,e=null),!jQuery.support.CSStransition){for(var j in a){if("transform"===j&&delete a[j],"filter"===j&&delete a[j],"transform-origin"===j&&delete a[j],"auto"===a[j]&&delete a[j],"x"===j){var k=a[j],l="left";a[l]=k,delete a[j]}if("y"===j){var k=a[j],l="top";a[l]=k,delete a[j]}("-ms-transform"===j||"-ms-filter"===j)&&delete a[j]}return g.delay(c).animate(a,b,e),void 0}var m={"default":"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};m[d]&&(d=m[d]),g.off(jQuery.CSS.transitionEnd+"."+f.id);var n=jQuery.CSS.getProp(a),p={};jQuery.extend(p,a),p[jQuery.CSS.sfx+"transition-property"]=n,p[jQuery.CSS.sfx+"transition-duration"]=b+"ms",p[jQuery.CSS.sfx+"transition-delay"]=c+"ms",p[jQuery.CSS.sfx+"transition-timing-function"]=d,setTimeout(function(){g.one(jQuery.CSS.transitionEnd+"."+f.id,o),g.css(p)},1),f.timeout=setTimeout(function(){return f.called||!e?(f.called=!1,f.CSSAIsRunning=!1,void 0):(g.css(jQuery.CSS.sfx+"transition",""),e.apply(f),f.CSSAIsRunning=!1,"function"==typeof f.CSSqueue&&(f.CSSqueue(),f.CSSqueue=null),void 0)},b+c+10)}})}},jQuery.fn.CSSAnimate=jQuery.CSS.animate,jQuery.normalizeCss=jQuery.CSS.normalizeCss,jQuery.fn.css3=function(a){return this.each(function(){var b=jQuery(this),c=jQuery.normalizeCss(a);b.css(c)})};;var nAgt=navigator.userAgent;if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("OPR")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4);else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.isMobile=jQuery.browser.mobile,jQuery.isTablet=jQuery.browser.mobile&&jQuery(window).width()>765,jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt);;!function(a){/iphone|ipod|ipad|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());var c="ontouchstart"in window||window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch||!1;a.simpleSlider={defaults:{initialval:0,scale:100,orientation:"h",readonly:!1,callback:!1},events:{start:c?"touchstart":"mousedown",end:c?"touchend":"mouseup",move:c?"touchmove":"mousemove"},init:function(b){return this.each(function(){var d=this,e=a(d);e.addClass("simpleSlider"),d.opt={},a.extend(d.opt,a.simpleSlider.defaults,b),a.extend(d.opt,e.data());var f="h"==d.opt.orientation?"horizontal":"vertical",g=a("<div/>").addClass("level").addClass(f);e.prepend(g),d.level=g,e.css({cursor:"default"}),"auto"==d.opt.scale&&(d.opt.scale=a(d).outerWidth()),e.updateSliderVal(),d.opt.readonly||(e.on(a.simpleSlider.events.start,function(a){c&&(a=a.changedTouches[0]),d.canSlide=!0,e.updateSliderVal(a),e.css({cursor:"col-resize"}),a.preventDefault(),a.stopPropagation()}),a(document).on(a.simpleSlider.events.move,function(b){c&&(b=b.changedTouches[0]),d.canSlide&&(a(document).css({cursor:"default"}),e.updateSliderVal(b),b.preventDefault(),b.stopPropagation())}).on(a.simpleSlider.events.end,function(){a(document).css({cursor:"auto"}),d.canSlide=!1,e.css({cursor:"auto"})}))})},updateSliderVal:function(b){function g(a,b){return Math.floor(100*a/b)}var c=this,d=c.get(0);d.opt.initialval="number"==typeof d.opt.initialval?d.opt.initialval:d.opt.initialval(d);var e=a(d).outerWidth(),f=a(d).outerHeight();d.x="object"==typeof b?b.clientX+document.body.scrollLeft-c.offset().left:"number"==typeof b?b*e/d.opt.scale:d.opt.initialval*e/d.opt.scale,d.y="object"==typeof b?b.clientY+document.body.scrollTop-c.offset().top:"number"==typeof b?(d.opt.scale-d.opt.initialval-b)*f/d.opt.scale:d.opt.initialval*f/d.opt.scale,d.y=c.outerHeight()-d.y,d.scaleX=d.x*d.opt.scale/e,d.scaleY=d.y*d.opt.scale/f,d.outOfRangeX=d.scaleX>d.opt.scale?d.scaleX-d.opt.scale:d.scaleX<0?d.scaleX:0,d.outOfRangeY=d.scaleY>d.opt.scale?d.scaleY-d.opt.scale:d.scaleY<0?d.scaleY:0,d.outOfRange="h"==d.opt.orientation?d.outOfRangeX:d.outOfRangeY,d.value="undefined"!=typeof b?"h"==d.opt.orientation?d.x>=c.outerWidth()?d.opt.scale:d.x<=0?0:d.scaleX:d.y>=c.outerHeight()?d.opt.scale:d.y<=0?0:d.scaleY:"h"==d.opt.orientation?d.scaleX:d.scaleY,"h"==d.opt.orientation?d.level.width(g(d.x,e)+"%"):d.level.height(g(d.y,f)),"function"==typeof d.opt.callback&&d.opt.callback(d)}},a.fn.simpleSlider=a.simpleSlider.init,a.fn.updateSliderVal=a.simpleSlider.updateSliderVal}(jQuery);;!function(a){a.mbCookie={set:function(a,b,c,d){b=JSON.stringify(b),c||(c=7),d=d?"; domain="+d:"";var f,e=new Date;e.setTime(e.getTime()+1e3*60*60*24*c),f="; expires="+e.toGMTString(),document.cookie=a+"="+b+f+"; path=/"+d},get:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return JSON.parse(e.substring(b.length,e.length))}return null},remove:function(b){a.mbCookie.set(b,"",-1)}},a.mbStorage={set:function(a,b){b=JSON.stringify(b),localStorage.setItem(a,b)},get:function(a){return localStorage[a]?JSON.parse(localStorage[a]):null},remove:function(a){a?localStorage.removeItem(a):localStorage.clear()}}}(jQuery);;

/* /theme_graphene/static/src/js/graphene.frontend.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('theme_graphene.frontend',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.GrapheneUtils=publicWidget.Widget.extend({selector:'#wrapwrap',disabledInEditableMode:false,start:function(){this.$('.o_header_affix').removeAttr('id');this.$(".v-align").filter(function(){return $(this).parent().is(":not(.slide)");}).addClass("preserve3d");return this._super.apply(this,arguments);},});publicWidget.registry.move_to_top=publicWidget.Widget.extend({selector:'.move_to_top, #title.blog_header > .cover.cover_full',start:function(){var self=this;var def=this._super.apply(this,arguments);$('#wrapwrap').addClass('o_header_overlay');$(window).on('resize.move_to_top',_.debounce(function(){if(self.isDestroyed()){return;}
self._adaptWrap();},250));setTimeout(function(){self._adaptWrap();},250);return def;},destroy:function(){this._super.apply(this,arguments);$('#wrapwrap').removeClass('o_header_overlay');$(window).off('.move_to_top');$('#wrap').css('margin-top','');},_adaptWrap:function(){$('#wrap').css('margin-top',(this.$target.outerHeight()*0.8));},});publicWidget.registry.graph_links=publicWidget.Widget.extend({selector:".btn, .dropdown-item",start:function(){var btn=this.$target;btn.css({position:'relative',overflow:'hidden'}).bind('mousedown',function(e){var ripple;if(btn.find('.graph-ripple').length===0){ripple=$('<span class="graph-ripple"/>');btn.prepend(ripple);}else{ripple=btn.find('.graph-ripple');}
ripple.removeClass('graph-ripple-animated');if(!ripple.height()&&!ripple.width()){var diameter=Math.max(btn.outerWidth(),btn.outerHeight());ripple.css({height:diameter,width:diameter});}
var x=e.pageX-btn.offset().left-ripple.width()/2;var y=e.pageY-btn.offset().top-ripple.height()/2;ripple.css({top:y+'px',left:x+'px'}).addClass('graph-ripple-animated');setTimeout(function(){ripple.removeClass('graph-ripple-animated');},351);});return this._super.apply(this,arguments);},});});;

/* /theme_graphene/static/src/js/graphene.ext.frontend.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('theme_graphene.ext.frontend',function(require){'use strict';var publicWidget=require('web.public.widget');require('theme_common.s_google_map_frontend');publicWidget.registry.s_google_map.include({lightMonoMap:[{"featureType":"administrative.locality","elementType":"all","stylers":[{"hue":"#2c2e33"},{"saturation":7},{"lightness":19},{"visibility":"on"}]},{"featureType":"landscape","elementType":"all","stylers":[{"hue":"#ffffff"},{"saturation":-100},{"lightness":100},{"visibility":"simplified"}]},{"featureType":"poi","elementType":"all","stylers":[{"hue":"#ffffff"},{"saturation":-100},{"lightness":100},{"visibility":"off"}]},{"featureType":"road","elementType":"geometry","stylers":[{"hue":"#bbc0c4"},{"saturation":-93},{"lightness":31},{"visibility":"simplified"}]},{"featureType":"road","elementType":"labels","stylers":[{"hue":"#bbc0c4"},{"saturation":-93},{"lightness":31},{"visibility":"on"}]},{"featureType":"road.arterial","elementType":"labels","stylers":[{"hue":"#bbc0c4"},{"saturation":-93},{"lightness":-2},{"visibility":"simplified"}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"hue":"#e9ebed"},{"saturation":-90},{"lightness":-8},{"visibility":"simplified"}]},{"featureType":"transit","elementType":"all","stylers":[{"hue":"#e9ebed"},{"saturation":10},{"lightness":69},{"visibility":"on"}]},{"featureType":"water","elementType":"all","stylers":[{"hue":"#e9ebed"},{"saturation":-78},{"lightness":67},{"visibility":"simplified"}]}],lillaMap:[{elementType:"labels",stylers:[{saturation:-20}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:'road.highway',elementType:'labels',stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi.government",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi.sport_complex",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi.attraction",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi.business",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"transit.station",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"landscape",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"water",elementType:"geometry",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]}],blueMap:[{stylers:[{hue:"#00ffe6"},{saturation:-20}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]}],retroMap:[{"featureType":"administrative","elementType":"all","stylers":[{"visibility":"on"},{"lightness":33}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#f2e5d4"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#c5dac6"}]},{"featureType":"poi.park","elementType":"labels","stylers":[{"visibility":"on"},{"lightness":20}]},{"featureType":"road","elementType":"all","stylers":[{"lightness":20}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"color":"#c5c6c6"}]},{"featureType":"road.arterial","elementType":"geometry","stylers":[{"color":"#e4d7c6"}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"color":"#fbfaf7"}]},{"featureType":"water","elementType":"all","stylers":[{"visibility":"on"},{"color":"#acbcc9"}]}],flatMap:[{"stylers":[{"visibility":"off"}]},{"featureType":"road","stylers":[{"visibility":"on"},{"color":"#ffffff"}]},{"featureType":"road.arterial","stylers":[{"visibility":"on"},{"color":"#fee379"}]},{"featureType":"road.highway","stylers":[{"visibility":"on"},{"color":"#fee379"}]},{"featureType":"landscape","stylers":[{"visibility":"on"},{"color":"#f3f4f4"}]},{"featureType":"water","stylers":[{"visibility":"on"},{"color":"#7fc8ed"}]},{},{"featureType":"road","elementType":"labels","stylers":[{"visibility":"on"}]},{"featureType":"poi.park","elementType":"geometry.fill","stylers":[{"visibility":"on"},{"color":"#83cead"}]},{"elementType":"labels","stylers":[{"visibility":"on"}]},{"featureType":"landscape.man_made","elementType":"geometry","stylers":[{"weight":0.9},{"visibility":"off"}]}],cobaltMap:[{"featureType":"all","elementType":"all","stylers":[{"invert_lightness":true},{"saturation":10},{"lightness":30},{"gamma":0.5},{"hue":"#435158"}]}],cupertinoMap:[{"featureType":"water","elementType":"geometry","stylers":[{"color":"#a2daf2"}]},{"featureType":"landscape.man_made","elementType":"geometry","stylers":[{"color":"#f7f1df"}]},{"featureType":"landscape.natural","elementType":"geometry","stylers":[{"color":"#d0e3b4"}]},{"featureType":"landscape.natural.terrain","elementType":"geometry","stylers":[{"visibility":"off"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#bde6ab"}]},{"featureType":"poi","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"poi.medical","elementType":"geometry","stylers":[{"color":"#fbd3da"}]},{"featureType":"poi.business","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"geometry.stroke","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#ffe15f"}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#efd151"}]},{"featureType":"road.arterial","elementType":"geometry.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"road.local","elementType":"geometry.fill","stylers":[{"color":"black"}]},{"featureType":"transit.station.airport","elementType":"geometry.fill","stylers":[{"color":"#cfb2db"}]}],carMap:[{"featureType":"administrative","stylers":[{"visibility":"off"}]},{"featureType":"poi","stylers":[{"visibility":"simplified"}]},{"featureType":"road","stylers":[{"visibility":"simplified"}]},{"featureType":"water","stylers":[{"visibility":"simplified"}]},{"featureType":"transit","stylers":[{"visibility":"simplified"}]},{"featureType":"landscape","stylers":[{"visibility":"simplified"}]},{"featureType":"road.highway","stylers":[{"visibility":"off"}]},{"featureType":"road.local","stylers":[{"visibility":"on"}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"visibility":"on"}]},{"featureType":"water","stylers":[{"color":"#84afa3"},{"lightness":52}]},{"stylers":[{"saturation":-77}]},{"featureType":"road"}],bwMap:[{stylers:[{hue:"#00ffe6"},{saturation:-100}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]}],});});;

/* /ubports_snippet_square/static/src/js/frontend.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('ubports_snippet_square.frontend',function(require){var s_animation=require('website.content.snippets.animation');s_animation.registry.snippet_svg=s_animation.Class.extend({selector:'.ubports_snippet_square',start:function(){var res=this._super.apply(this,arguments);this.$el.find('a').each(function(){var $a=$(this);$a.height($a.width());});return res;}});});;

/* /website_form/static/src/js/website_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_form.animation',function(require){'use strict';var core=require('web.core');var time=require('web.time');var ajax=require('web.ajax');var publicWidget=require('web.public.widget');var _t=core._t;var qweb=core.qweb;publicWidget.registry.form_builder_send=publicWidget.Widget.extend({selector:'.s_website_form',willStart:function(){var prom;if(!$.fn.datetimepicker){prom=ajax.loadJS("/web/static/lib/tempusdominus/tempusdominus.js");}
return Promise.all([this._super.apply(this,arguments),prom]);},start:function(editable_mode){if(editable_mode){this.stop();return;}
var self=this;this.templates_loaded=ajax.loadXML('/website_form/static/src/xml/website_form.xml',qweb);this.$target.find('.o_website_form_send').on('click',function(e){self.send(e);});var l10n=_t.database.parameters;var datepickers_options={minDate:moment({y:1900}),maxDate:moment({y:9999,M:11,d:31}),calendarWeeks:true,icons:{time:'fa fa-clock-o',date:'fa fa-calendar',next:'fa fa-chevron-right',previous:'fa fa-chevron-left',up:'fa fa-chevron-up',down:'fa fa-chevron-down',},locale:moment.locale(),format:time.getLangDatetimeFormat(),};this.$target.find('.o_website_form_datetime').datetimepicker(datepickers_options);datepickers_options.format=time.getLangDateFormat();this.$target.find('.o_website_form_date').datetimepicker(datepickers_options);var $values=$('[data-for='+this.$target.attr('id')+']');if($values.length){var values=JSON.parse($values.data('values').replace('False','""').replace('None','""').replace(/'/g,'"'));var fields=_.pluck(this.$target.serializeArray(),'name');_.each(fields,function(field){if(_.has(values,field)){var $field=self.$target.find('input[name="'+field+'"], textarea[name="'+field+'"]');if(!$field.val()){$field.val(values[field]);}}});}
return this._super.apply(this,arguments);},destroy:function(){this._super.apply(this,arguments);this.$target.find('button').off('click');},send:function(e){e.preventDefault();this.$target.find('.o_website_form_send').off().addClass('disabled');var self=this;self.$target.find('#o_website_form_result').empty();if(!self.check_error_fields({})){self.update_status('invalid');return false;}
this.form_fields=this.$target.serializeArray();$.each(this.$target.find('input[type=file]'),function(outer_index,input){$.each($(input).prop('files'),function(index,file){self.form_fields.push({name:input.name+'['+outer_index+']['+index+']',value:file});});});var form_values={};_.each(this.form_fields,function(input){if(input.name in form_values){if(Array.isArray(form_values[input.name])){form_values[input.name].push(input.value);}else{form_values[input.name]=[form_values[input.name],input.value];}}else{if(input.value!==''){form_values[input.name]=input.value;}}});ajax.post(this.$target.attr('action')+(this.$target.data('force_action')||this.$target.data('model_name')),form_values).then(function(result_data){result_data=JSON.parse(result_data);if(!result_data.id){self.update_status('error');if(result_data.error_fields){self.check_error_fields(result_data.error_fields);}}else{var success_page=self.$target.attr('data-success_page');if(success_page){$(window.location).attr('href',success_page);}
else{self.update_status('success');}
self.$target[0].reset();}}).guardedCatch(function(){self.update_status('error');});},check_error_fields:function(error_fields){var self=this;var form_valid=true;this.$target.find('.form-field').each(function(k,field){var $field=$(field);var field_name=$field.find('.col-form-label').attr('for');var inputs=$field.find('.o_website_form_input:not(#editable_select)');var invalid_inputs=inputs.toArray().filter(function(input,k,inputs){if(input.required&&input.type==='checkbox'){var checkboxes=_.filter(inputs,function(input){return input.required&&input.type==='checkbox';});return!_.any(checkboxes,function(checkbox){return checkbox.checked;});}else if($(input).hasClass('o_website_form_date')){if(!self.is_datetime_valid(input.value,'date')){return true;}}else if($(input).hasClass('o_website_form_datetime')){if(!self.is_datetime_valid(input.value,'datetime')){return true;}}
return!input.checkValidity();});$field.removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');if(invalid_inputs.length||error_fields[field_name]){$field.addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid')
if(_.isString(error_fields[field_name])){$field.popover({content:error_fields[field_name],trigger:'hover',container:'body',placement:'top'});$field.data("bs.popover").options.content=error_fields[field_name];$field.popover('show');}
form_valid=false;}});return form_valid;},is_datetime_valid:function(value,type_of_date){if(value===""){return true;}else{try{this.parse_date(value,type_of_date);return true;}catch(e){return false;}}},parse_date:function(value,type_of_date,value_if_empty){var date_pattern=time.getLangDateFormat(),time_pattern=time.getLangTimeFormat();var date_pattern_wo_zero=date_pattern.replace('MM','M').replace('DD','D'),time_pattern_wo_zero=time_pattern.replace('HH','H').replace('mm','m').replace('ss','s');switch(type_of_date){case'datetime':var datetime=moment(value,[date_pattern+' '+time_pattern,date_pattern_wo_zero+' '+time_pattern_wo_zero],true);if(datetime.isValid())
return time.datetime_to_str(datetime.toDate());throw new Error(_.str.sprintf(_t("'%s' is not a correct datetime"),value));case'date':var date=moment(value,[date_pattern,date_pattern_wo_zero],true);if(date.isValid())
return time.date_to_str(date.toDate());throw new Error(_.str.sprintf(_t("'%s' is not a correct date"),value));}
return value;},update_status:function(status){var self=this;if(status!=='success'){this.$target.find('.o_website_form_send').on('click',function(e){self.send(e);}).removeClass('disabled');}
var $result=this.$('#o_website_form_result');this.templates_loaded.then(function(){$result.replaceWith(qweb.render("website_form.status_"+status));});},});});;

/* /website_mail/static/src/js/follow.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_mail.follow',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.follow=publicWidget.Widget.extend({selector:'.js_follow',disabledInEditableMode:false,start:function(){var self=this;this.is_user=false;var always=function(data){self.is_user=data.is_user;self.email=data.email;self.toggle_subscription(data.is_follower,data.email);self.$target.removeClass('d-none');};this._rpc({route:'/website_mail/is_follower',params:{model:this.$target.data('object'),res_id:this.$target.data('id'),},}).then(always).guardedCatch(always);if(!this.editableMode){$('.js_follow > .input-group-append.d-none').removeClass('d-none');this.$target.find('.js_follow_btn, .js_unfollow_btn').on('click',function(event){event.preventDefault();self._onClick();});}
return this._super.apply(this,arguments);},_onClick:function(){var self=this;var $email=this.$target.find(".js_follow_email");if($email.length&&!$email.val().match(/.+@.+/)){this.$target.addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');return false;}
this.$target.removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');var email=$email.length?$email.val():false;if(email||this.is_user){this._rpc({route:'/website_mail/follow',params:{'id':+this.$target.data('id'),'object':this.$target.data('object'),'message_is_follower':this.$target.attr("data-follow")||"off",'email':email,},}).then(function(follow){self.toggle_subscription(follow,email);});}},toggle_subscription:function(follow,email){follow=follow||(!email&&this.$target.attr('data-unsubscribe'));if(follow){this.$target.find(".js_follow_btn").addClass('d-none');this.$target.find(".js_unfollow_btn").removeClass('d-none');}
else{this.$target.find(".js_follow_btn").removeClass('d-none');this.$target.find(".js_unfollow_btn").addClass('d-none');}
this.$target.find('input.js_follow_email').val(email||"").attr("disabled",email&&(follow||this.is_user)?"disabled":false);this.$target.attr("data-follow",follow?'on':'off');},});});;

/* /website_mail/static/src/js/portal_chatter.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_mail.thread',function(require){'use strict';var portalChatter=require('portal.chatter');portalChatter.PortalChatter.include({xmlDependencies:(portalChatter.PortalChatter.prototype.xmlDependencies||[]).concat(['/website_mail/static/src/xml/portal_chatter.xml']),});});;

/* /website_links/static/src/js/website_links.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_links.website_links',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var _t=core._t;var SelectBox=publicWidget.Widget.extend({events:{'change':'_onChange',},init:function(parent,obj,placeholder){this._super.apply(this,arguments);this.obj=obj;this.placeholder=placeholder;},willStart:function(){var self=this;var defs=[this._super.apply(this,arguments)];defs.push(this._rpc({model:this.obj,method:'search_read',params:{fields:['id','name'],},}).then(function(result){self.objects=_.map(result,function(val){return{id:val.id,text:val.name};});}));return Promise.all(defs);},start:function(){var self=this;this.$el.select2({placeholder:self.placeholder,allowClear:true,createSearchChoice:function(term){if(self._objectExists(term)){return null;}
return{id:term,text:_.str.sprintf("Create '%s'",term)};},createSearchChoicePosition:'bottom',multiple:false,data:self.objects,});},_objectExists:function(query){return _.find(this.objects,function(val){return val.text.toLowerCase()===query.toLowerCase();})!==undefined;},_createObject:function(name){var self=this;var args={name:name};if(this.obj==="utm.campaign"){args.is_website=true;}
return this._rpc({model:this.obj,method:'create',args:[args],}).then(function(record){self.$el.attr('value',record);self.objects.push({'id':record,'text':name});});},_onChange:function(ev){if(!ev.added||!_.isString(ev.added.id)){return;}
this._createObject(ev.added.id);},});var RecentLinkBox=publicWidget.Widget.extend({template:'website_links.RecentLink',xmlDependencies:['/website_links/static/src/xml/recent_link.xml'],events:{'click .btn_shorten_url_clipboard':'_toggleCopyButton','click .o_website_links_edit_code':'_editCode','click .o_website_links_ok_edit':'_onLinksOkClick','click .o_website_links_cancel_edit':'_onLinksCancelClick','submit #o_website_links_edit_code_form':'_onSubmitCode',},init:function(parent,obj){this._super.apply(this,arguments);this.link_obj=obj;this.animating_copy=false;},start:function(){new ClipboardJS(this.$('.btn_shorten_url_clipboard').get(0));return this._super.apply(this,arguments);},_toggleCopyButton:function(){if(this.animating_copy){return;}
var self=this;this.animating_copy=true;var top=this.$('.o_website_links_short_url').position().top;this.$('.o_website_links_short_url').clone().css('position','absolute').css('left',15).css('top',top-2).css('z-index',2).removeClass('o_website_links_short_url').addClass('animated-link').insertAfter(this.$('.o_website_links_short_url')).animate({opacity:0,top:'-=20',},500,function(){self.$('.animated-link').remove();self.animating_copy=false;});},_notification:function(message){this.$('.notification').append('<strong>'+message+'</strong>');},_editCode:function(){var initCode=this.$('#o_website_links_code').html();this.$('#o_website_links_code').html('<form style="display:inline;" id="o_website_links_edit_code_form"><input type="hidden" id="init_code" value="'+initCode+'"/><input type="text" id="new_code" value="'+initCode+'"/></form>');this.$('.o_website_links_edit_code').hide();this.$('.copy-to-clipboard').hide();this.$('.o_website_links_edit_tools').show();},_cancelEdit:function(){this.$('.o_website_links_edit_code').show();this.$('.copy-to-clipboard').show();this.$('.o_website_links_edit_tools').hide();this.$('.o_website_links_code_error').hide();var oldCode=this.$('#o_website_links_edit_code_form #init_code').val();this.$('#o_website_links_code').html(oldCode);this.$('#code-error').remove();this.$('#o_website_links_code form').remove();},_submitCode:function(){var self=this;var initCode=this.$('#o_website_links_edit_code_form #init_code').val();var newCode=this.$('#o_website_links_edit_code_form #new_code').val();if(newCode===''){self.$('.o_website_links_code_error').html(_t("The code cannot be left empty"));self.$('.o_website_links_code_error').show();return;}
function showNewCode(newCode){self.$('.o_website_links_code_error').html('');self.$('.o_website_links_code_error').hide();self.$('#o_website_links_code form').remove();var host=self.$('#o_website_links_host').html();self.$('#o_website_links_code').html(newCode);self.$('.btn_shorten_url_clipboard').attr('data-clipboard-text',host+newCode);self.$('.o_website_links_edit_code').show();self.$('.copy-to-clipboard').show();self.$('.o_website_links_edit_tools').hide();}
if(initCode===newCode){showNewCode(newCode);}else{this._rpc({route:'/website_links/add_code',params:{init_code:initCode,new_code:newCode,},}).then(function(result){showNewCode(result[0].code);},function(){self.$('.o_website_links_code_error').show();self.$('.o_website_links_code_error').html(_t("This code is already taken"));});}},_onLinksOkClick:function(ev){ev.preventDefault();this._submitCode();},_onLinksCancelClick:function(ev){ev.preventDefault();this._cancelEdit();},_onSubmitCode:function(ev){ev.preventDefault();this._submitCode();},});var RecentLinks=publicWidget.Widget.extend({getRecentLinks:function(filter){var self=this;return this._rpc({route:'/website_links/recent_links',params:{filter:filter,limit:20,},}).then(function(result){_.each(result.reverse(),function(link){self._addLink(link);});self._updateNotification();},function(){var message=_t("Unable to get recent links");self.$el.append('<div class="alert alert-danger">'+message+'</div>');});},_addLink:function(link){var nbLinks=this.getChildren().length;var recentLinkBox=new RecentLinkBox(this,link);recentLinkBox.prependTo(this.$el);$('.link-tooltip').tooltip();if(nbLinks===0){this._updateNotification();}},removeLinks:function(){_.invoke(this.getChildren(),'destroy');},_updateNotification:function(){if(this.getChildren().length===0){var message=_t("You don't have any recent links.");$('.o_website_links_recent_links_notification').html('<div class="alert alert-info">'+message+'</div>');}else{$('.o_website_links_recent_links_notification').empty();}},});publicWidget.registry.websiteLinks=publicWidget.Widget.extend({selector:'.o_website_links_create_tracked_url',events:{'click #filter-newest-links':'_onFilterNewestLinksClick','click #filter-most-clicked-links':'_onFilterMostClickedLinksClick','click #filter-recently-used-links':'_onFilterRecentlyUsedLinksClick','click #generated_tracked_link a':'_onGeneratedTrackedLinkClick','keyup #url':'_onUrlKeyUp','click #btn_shorten_url':'_onShortenUrlButtonClick','submit #o_website_links_link_tracker_form':'_onFormSubmit',},start:function(){var defs=[this._super.apply(this,arguments)];var campaignSelect=new SelectBox(this,'utm.campaign',_t("e.g. Promotion of June, Winter Newsletter, .."));defs.push(campaignSelect.attachTo($('#campaign-select')));var mediumSelect=new SelectBox(this,'utm.medium',_t("e.g. Newsletter, Social Network, .."));defs.push(mediumSelect.attachTo($('#channel-select')));var sourceSelect=new SelectBox(this,'utm.source',_t("e.g. Search Engine, Website page, .."));defs.push(sourceSelect.attachTo($('#source-select')));this.recentLinks=new RecentLinks(this);defs.push(this.recentLinks.appendTo($('#o_website_links_recent_links')));this.recentLinks.getRecentLinks('newest');new ClipboardJS($('#btn_shorten_url').get(0));this.url_copy_animating=false;$('[data-toggle="tooltip"]').tooltip();return Promise.all(defs);},_onFilterNewestLinksClick:function(){this.recentLinks.removeLinks();this.recentLinks.getRecentLinks('newest');},_onFilterMostClickedLinksClick:function(){this.recentLinks.removeLinks();this.recentLinks.getRecentLinks('most-clicked');},_onFilterRecentlyUsedLinksClick:function(){this.recentLinks.removeLinks();this.recentLinks.getRecentLinks('recently-used');},_onGeneratedTrackedLinkClick:function(){$('#generated_tracked_link a').text(_t("Copied")).removeClass('btn-primary').addClass('btn-success');setTimeout(function(){$('#generated_tracked_link a').text(_t("Copy")).removeClass('btn-success').addClass('btn-primary');},5000);},_onUrlKeyUp:function(ev){if(!$('#btn_shorten_url').hasClass('btn-copy')||ev.which===13){return;}
$('#btn_shorten_url').removeClass('btn-success btn-copy').addClass('btn-primary').html('Get tracked link');$('#generated_tracked_link').css('display','none');$('.o_website_links_utm_forms').show();},_onShortenUrlButtonClick:function(){if(!$('#btn_shorten_url').hasClass('btn-copy')||this.url_copy_animating){return;}
var self=this;this.url_copy_animating=true;$('#generated_tracked_link').clone().css('position','absolute').css('left','78px').css('bottom','8px').css('z-index',2).removeClass('#generated_tracked_link').addClass('url-animated-link').appendTo($('#generated_tracked_link')).animate({opacity:0,bottom:'+=20',},500,function(){$('.url-animated-link').remove();self.url_copy_animating=false;});},_onFormSubmit:function(ev){var self=this;ev.preventDefault();if($('#btn_shorten_url').hasClass('btn-copy')){return;}
ev.stopPropagation();var campaignID=$('#campaign-select').attr('value');var mediumID=$('#channel-select').attr('value');var sourceID=$('#source-select').attr('value');var params={};params.url=$('#url').val();if(campaignID!==''){params.campaign_id=parseInt(campaignID);}
if(mediumID!==''){params.medium_id=parseInt(mediumID);}
if(sourceID!==''){params.source_id=parseInt(sourceID);}
$('#btn_shorten_url').text(_t("Generating link..."));this._rpc({route:'/website_links/new',params:params,}).then(function(result){if('error'in result){if(result.error==='empty_url'){$('.notification').html('<div class="alert alert-danger">The URL is empty.</div>');}else if(result.error==='url_not_found'){$('.notification').html('<div class="alert alert-danger">URL not found (404)</div>');}else{$('.notification').html('<div class="alert alert-danger">An error occur while trying to generate your link. Try again later.</div>');}}else{var link=result[0];$('#btn_shorten_url').removeClass('btn-primary').addClass('btn-success btn-copy').html('Copy');$('#btn_shorten_url').attr('data-clipboard-text',link.short_url);$('.notification').html('');$('#generated_tracked_link').html(link.short_url);$('#generated_tracked_link').css('display','inline');self.recentLinks._addLink(link);$('#campaign-select').select2('val','');$('#channel-select').select2('val','');$('#source-select').select2('val','');$('.o_website_links_utm_forms').hide();}});},});return{SelectBox:SelectBox,RecentLinkBox:RecentLinkBox,RecentLinks:RecentLinks,};});;

/* /website_links/static/src/js/website_links_code_editor.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_links.code_editor',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var _t=core._t;publicWidget.registry.websiteLinksCodeEditor=publicWidget.Widget.extend({selector:'#wrapwrap:has(.o_website_links_edit_code)',events:{'click .o_website_links_edit_code':'_onEditCodeClick','click .o_website_links_cancel_edit':'_onCancelEditClick','submit #edit-code-form':'_onEditCodeFormSubmit','click .o_website_links_ok_edit':'_onEditCodeFormSubmit',},_showNewCode:function(newCode){$('.o_website_links_code_error').html('');$('.o_website_links_code_error').hide();$('#o_website_links_code form').remove();var host=$('#short-url-host').html();$('#o_website_links_code').html(newCode);$('.copy-to-clipboard').attr('data-clipboard-text',host+newCode);$('.o_website_links_edit_code').show();$('.copy-to-clipboard').show();$('.o_website_links_edit_tools').hide();},_submitCode:function(){var initCode=$('#edit-code-form #init_code').val();var newCode=$('#edit-code-form #new_code').val();var self=this;if(newCode===''){self.$('.o_website_links_code_error').html(_t("The code cannot be left empty"));self.$('.o_website_links_code_error').show();return;}
this._showNewCode(newCode);if(initCode===newCode){this._showNewCode(newCode);}else{return this._rpc({route:'/website_links/add_code',params:{init_code:initCode,new_code:newCode,},}).then(function(result){self._showNewCode(result[0].code);},function(){$('.o_website_links_code_error').show();$('.o_website_links_code_error').html(_t("This code is already taken"));});}
return Promise.resolve();},_onEditCodeClick:function(){var initCode=$('#o_website_links_code').html();$('#o_website_links_code').html('<form style="display:inline;" id="edit-code-form"><input type="hidden" id="init_code" value="'+initCode+'"/><input type="text" id="new_code" value="'+initCode+'"/></form>');$('.o_website_links_edit_code').hide();$('.copy-to-clipboard').hide();$('.o_website_links_edit_tools').show();},_onCancelEditClick:function(ev){ev.preventDefault();$('.o_website_links_edit_code').show();$('.copy-to-clipboard').show();$('.o_website_links_edit_tools').hide();$('.o_website_links_code_error').hide();var oldCode=$('#edit-code-form #init_code').val();$('#o_website_links_code').html(oldCode);$('#code-error').remove();$('#o_website_links_code form').remove();},_onEditCodeFormSubmit:function(ev){ev.preventDefault();this._submitCode();},});});;

/* /website_links/static/src/js/website_links_charts.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_links.charts',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var _t=core._t;var BarChart=publicWidget.Widget.extend({jsLibs:['/web/static/lib/Chart/Chart.js',],init:function(parent,beginDate,endDate,dates){this._super.apply(this,arguments);this.beginDate=beginDate;this.endDate=endDate;this.number_of_days=this.endDate.diff(this.beginDate,'days')+2;this.dates=dates;},start:function(){var clicksArray=[];var beginDateCopy=this.beginDate;for(var i=0;i<this.number_of_days;i++){var dateKey=beginDateCopy.format('YYYY-MM-DD');clicksArray.push([dateKey,(dateKey in this.dates)?this.dates[dateKey]:0]);beginDateCopy.add(1,'days');}
var nbClicks=0;var data=[];var labels=[];clicksArray.forEach(function(pt){labels.push(pt[0]);nbClicks+=pt[1];data.push(pt[1]);});this.$('.title').html(nbClicks+_t(' clicks'));var config={type:'line',data:{labels:labels,datasets:[{data:data,fill:'start',label:_t('# of clicks'),backgroundColor:'#ebf2f7',borderColor:'#6aa1ca',}],},};var canvas=this.$('canvas')[0];var context=canvas.getContext('2d');new Chart(context,config);},});var PieChart=publicWidget.Widget.extend({jsLibs:['/web/static/lib/Chart/Chart.js',],init:function(parent,data){this._super.apply(this,arguments);this.data=data;},start:function(){var labels=[];var data=[];for(var i=0;i<this.data.length;i++){var countryName=this.data[i]['country_id']?this.data[i]['country_id'][1]:_t('Undefined');labels.push(countryName+' ('+this.data[i]['country_id_count']+')');data.push(this.data[i]['country_id_count']);}
this.$('.title').html(this.data.length+_t(' countries'));var config={type:'pie',data:{labels:labels,datasets:[{data:data,label:this.data[0].key,}]},};var canvas=this.$('canvas')[0];var context=canvas.getContext('2d');new Chart(context,config);},});publicWidget.registry.websiteLinksCharts=publicWidget.Widget.extend({selector:'.o_website_links_chart',events:{'click .graph-tabs li a':'_onGraphTabClick','click .copy-to-clipboard':'_onCopyToClipboardClick',},start:function(){var self=this;this.charts={};var linkID=parseInt($('#link_id').val());this.links_domain=['link_id','=',linkID];var defs=[];defs.push(this._totalClicks());defs.push(this._clicksByDay());defs.push(this._clicksByCountry());defs.push(this._lastWeekClicksByCountry());defs.push(this._lastMonthClicksByCountry());defs.push(this._super.apply(this,arguments));new ClipboardJS($('.copy-to-clipboard')[0]);this.animating_copy=false;return Promise.all(defs).then(function(results){var _totalClicks=results[0];var _clicksByDay=results[1];var _clicksByCountry=results[2];var _lastWeekClicksByCountry=results[3];var _lastMonthClicksByCountry=results[4];if(!_totalClicks){$('#all_time_charts').prepend(_t("There is no data to show"));$('#last_month_charts').prepend(_t("There is no data to show"));$('#last_week_charts').prepend(_t("There is no data to show"));return;}
var formattedClicksByDay={};var beginDate;for(var i=0;i<_clicksByDay.length;i++){var date=moment(_clicksByDay[i]['create_date:day'],'DD MMMM YYYY');if(i===0){beginDate=date;}
formattedClicksByDay[date.format('YYYY-MM-DD')]=_clicksByDay[i]['create_date_count'];}
var now=moment();self.charts.all_time_bar=new BarChart(self,beginDate,now,formattedClicksByDay);self.charts.all_time_bar.attachTo($('#all_time_clicks_chart'));beginDate=moment().subtract(30,'days');self.charts.last_month_bar=new BarChart(self,beginDate,now,formattedClicksByDay);self.charts.last_month_bar.attachTo($('#last_month_clicks_chart'));beginDate=moment().subtract(7,'days');self.charts.last_week_bar=new BarChart(self,beginDate,now,formattedClicksByDay);self.charts.last_week_bar.attachTo($('#last_week_clicks_chart'));self.charts.all_time_pie=new PieChart(self,_clicksByCountry);self.charts.all_time_pie.attachTo($('#all_time_countries_charts'));self.charts.last_month_pie=new PieChart(self,_lastMonthClicksByCountry);self.charts.last_month_pie.attachTo($('#last_month_countries_charts'));self.charts.last_week_pie=new PieChart(self,_lastWeekClicksByCountry);self.charts.last_week_pie.attachTo($('#last_week_countries_charts'));var rowWidth=$('#all_time_countries_charts').parent().width();var $chartCanvas=$('#all_time_countries_charts,last_month_countries_charts,last_week_countries_charts').find('canvas');$chartCanvas.height(Math.max(_clicksByCountry.length*(rowWidth>750?1:2),20)+'em');});},_totalClicks:function(){return this._rpc({model:'link.tracker.click',method:'search_count',args:[[this.links_domain]],});},_clicksByDay:function(){return this._rpc({model:'link.tracker.click',method:'read_group',args:[[this.links_domain],['create_date']],kwargs:{groupby:'create_date:day'},});},_clicksByCountry:function(){return this._rpc({model:'link.tracker.click',method:'read_group',args:[[this.links_domain],['country_id']],kwargs:{groupby:'country_id'},});},_lastWeekClicksByCountry:function(){var interval=moment().subtract(7,'days').format('YYYY-MM-DD');return this._rpc({model:'link.tracker.click',method:'read_group',args:[[this.links_domain,['create_date','>',interval]],['country_id']],kwargs:{groupby:'country_id'},});},_lastMonthClicksByCountry:function(){var interval=moment().subtract(30,'days').format('YYYY-MM-DD');return this._rpc({model:'link.tracker.click',method:'read_group',args:[[this.links_domain,['create_date','>',interval]],['country_id']],kwargs:{groupby:'country_id'},});},_onGraphTabClick:function(ev){ev.preventDefault();$('.graph-tabs li a').tab('show');},_onCopyToClipboardClick:function(ev){ev.preventDefault();if(this.animating_copy){return;}
this.animating_copy=true;$('.o_website_links_short_url').clone().css('position','absolute').css('left','15px').css('bottom','10px').css('z-index',2).removeClass('.o_website_links_short_url').addClass('animated-link').appendTo($('.o_website_links_short_url')).animate({opacity:0,bottom:'+=20',},500,function(){$('.animated-link').remove();this.animating_copy=false;});},});return{BarChart:BarChart,PieChart:PieChart,};});;

/* /website_mass_mailing/static/src/js/website_mass_mailing.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('mass_mailing.website_integration',function(require){"use strict";var config=require('web.config');var core=require('web.core');var Dialog=require('web.Dialog');var utils=require('web.utils');var publicWidget=require('web.public.widget');var _t=core._t;publicWidget.registry.subscribe=publicWidget.Widget.extend({selector:".js_subscribe",disabledInEditableMode:false,read_events:{'click .js_subscribe_btn':'_onSubscribeClick',},start:function(){var self=this;var def=this._super.apply(this,arguments);this.$popup=this.$target.closest('.o_newsletter_modal');if(this.$popup.length){return def;}
var always=function(data){var isSubscriber=data.is_subscriber;self.$('.js_subscribe_btn').prop('disabled',isSubscriber);self.$('input.js_subscribe_email').val(data.email||"").prop('disabled',isSubscriber);self.$target.removeClass('d-none');self.$('.js_subscribe_btn').toggleClass('d-none',!!isSubscriber);self.$('.js_subscribed_btn').toggleClass('d-none',!isSubscriber);};return Promise.all([def,this._rpc({route:'/website_mass_mailing/is_subscriber',params:{'list_id':this.$target.data('list-id'),},}).then(always).guardedCatch(always)]);},destroy:function(){this.$target.addClass('d-none');this._super.apply(this,arguments);},_onSubscribeClick:function(){var self=this;var $email=this.$(".js_subscribe_email:visible");if($email.length&&!$email.val().match(/.+@.+/)){this.$target.addClass('o_has_error').find('.form-control').addClass('is-invalid');return false;}
this.$target.removeClass('o_has_error').find('.form-control').removeClass('is-invalid');this._rpc({route:'/website_mass_mailing/subscribe',params:{'list_id':this.$target.data('list-id'),'email':$email.length?$email.val():false,},}).then(function(result){self.$(".js_subscribe_btn").addClass('d-none');self.$(".js_subscribed_btn").removeClass('d-none');self.$('input.js_subscribe_email').prop('disabled',!!result);if(self.$popup.length){self.$popup.modal('hide');}
self.displayNotification({type:'success',title:_t("Success"),message:result.toast_content,sticky:true,});});},});publicWidget.registry.newsletter_popup=publicWidget.Widget.extend({selector:".o_newsletter_popup",disabledInEditableMode:false,start:function(){var self=this;var defs=[this._super.apply(this,arguments)];this.websiteID=this._getContext().website_id;this.listID=parseInt(this.$target.attr('data-list-id'));if(!this.listID||(utils.get_cookie(_.str.sprintf("newsletter-popup-%s-%s",this.listID,this.websiteID))&&!self.editableMode)){return Promise.all(defs);}
if(this.$target.data('content')&&this.editableMode){this._dialogInit(this.$target.data('content'));this.$target.removeData('quick-open');this.massMailingPopup.open();}else{defs.push(this._rpc({route:'/website_mass_mailing/get_content',params:{newsletter_id:self.listID,},}).then(function(data){self._dialogInit(data.popup_content,data.email||'');if(!self.editableMode&&!data.is_subscriber){if(config.device.isMobile){setTimeout(function(){self._showBanner();},5000);}else{$(document).on('mouseleave.open_popup_event',self._showBanner.bind(self));}}else{$(document).off('mouseleave.open_popup_event');}
if(self.$target.data('quick-open')){self.massMailingPopup.open();self.$target.removeData('quick-open');}}));}
return Promise.all(defs);},destroy:function(){if(this.massMailingPopup){this.massMailingPopup.close();}
this._super.apply(this,arguments);},_dialogInit:function(content,email){var self=this;this.massMailingPopup=new Dialog(this,{technical:false,$content:$('<div/>').html(content),$parentNode:this.$target,backdrop:!this.editableMode,dialogClass:'p-0'+(this.editableMode?' o_editable oe_structure oe_empty':''),renderFooter:false,size:'medium',});this.massMailingPopup.opened().then(function(){var $modal=self.massMailingPopup.$modal;$modal.find('header button.close').on('mouseup',function(ev){ev.stopPropagation();});$modal.addClass('o_newsletter_modal');$modal.find('.oe_structure').attr('data-editor-message',_t('DRAG BUILDING BLOCKS HERE'));$modal.find('.modal-dialog').addClass('modal-dialog-centered');$modal.find('.js_subscribe').data('list-id',self.listID).find('input.js_subscribe_email').val(email);self.trigger_up('widgets_start_request',{editableMode:self.editableMode,$target:$modal,});});this.massMailingPopup.on('closed',this,function(){var $modal=self.massMailingPopup.$modal;if($modal){self.$el.data('content',$modal.find('.modal-body').html());}});},_showBanner:function(){this.massMailingPopup.open();utils.set_cookie(_.str.sprintf("newsletter-popup-%s-%s",this.listID,this.websiteID),true);$(document).off('mouseleave.open_popup_event');},});});;

/* /website_event/static/src/js/website_geolocation.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event.geolocation',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.visitor=publicWidget.Widget.extend({selector:".oe_country_events, .country_events",disabledInEditableMode:false,start:function(){var defs=[this._super.apply(this,arguments)];var self=this;var $eventList=this.$('.country_events_list');this._originalContent=$eventList[0].outerHTML;defs.push(this._rpc({route:'/event/get_country_event_list'}).then(function(data){if(data){self._$loadedContent=$(data);self._$loadedContent.addClass('o_temp_auto_element');self._$loadedContent.attr('data-temp-auto-element-original-content',self._originalContent);$eventList.replaceWith(self._$loadedContent);}}));return Promise.all(defs);},destroy:function(){this._super.apply(this,arguments);if(this._$loadedContent){this._$loadedContent.replaceWith(this._originalContent);}},});});;

/* /website_event/static/src/js/website_event.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event.website_event',function(require){var ajax=require('web.ajax');var core=require('web.core');var Widget=require('web.Widget');var publicWidget=require('web.public.widget');var _t=core._t;var EventRegistrationForm=Widget.extend({events:{'click .o_wevent_registration_btn':'_onRegistrationBtnClick',},start:function(){var self=this;var res=this._super.apply(this.arguments).then(function(){$('#registration_form .a-submit').off('click').removeClass('a-submit').click(function(ev){self.on_click(ev);});});return res;},on_click:function(ev){ev.preventDefault();ev.stopPropagation();var $form=$(ev.currentTarget).closest('form');var $button=$(ev.currentTarget).closest('[type="submit"]');var post={};$('#registration_form table').siblings('.alert').remove();$('#registration_form select').each(function(){post[$(this).attr('name')]=$(this).val();});var tickets_ordered=_.some(_.map(post,function(value,key){return parseInt(value);}));if(!tickets_ordered){$('<div class="alert alert-info"/>').text(_t('Please select at least one ticket.')).insertAfter('#registration_form table');return new Promise(function(){});}else{$button.attr('disabled',true);return ajax.jsonRpc($form.attr('action'),'call',post).then(function(modal){var $modal=$(modal);$modal.modal({backdrop:'static',keyboard:false});$modal.find('.modal-body > div').removeClass('container');$modal.appendTo('body').modal();$modal.on('click','.js_goto_event',function(){$modal.modal('hide');$button.prop('disabled',false);});$modal.on('click','.close',function(){$button.prop('disabled',false);});});}},_onRegistrationBtnClick:function(ev){var $btn=$(ev.currentTarget);$btn.toggleClass('btn-primary text-left pl-0');$btn.siblings().toggleClass('d-none');},});publicWidget.registry.EventRegistrationFormInstance=publicWidget.Widget.extend({selector:'#registration_form',start:function(){var def=this._super.apply(this,arguments);var instance=new EventRegistrationForm(this);return Promise.all([def,instance.attachTo(this.$el)]);},});return EventRegistrationForm;});;

/* /website_animate/static/src/js/o_animate.frontend.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_animate.o_animate_frontend',function(require){'use strict';var publicWidget=require('web.public.widget');var WebsiteAnimate={win:{},items:{},offsetRatio:0.3,offsetMin:10,start:function(){var self=this;self.items=$(".o_animate");self.items.each(function(){var $el=$(this);self.reset_animation($el);});setTimeout(function(){self.attach_handlers();});},attach_handlers:function(){var self=this;var lastScroll=0;$(window).on("resize.o_animate",function(){self.win.h=$(window).height();$(window).trigger("scroll");}).trigger("resize").on("scroll.o_animate, slid.bs.carousel",(_.throttle(function(){var windowTop=$(window).scrollTop();var windowBottom=windowTop+self.win.h;var direction=(windowTop<lastScroll)?-1:1;lastScroll=windowTop;self.items.each(function(){var $el=$(this);var elHeight=$el.height();var elOffset=direction*Math.max((elHeight*self.offsetRatio),self.offsetMin);var state=$el.css("animation-play-state");var transformMatrix=$el.css('transform').replace(/[^0-9\-.,]/g,'').split(',');var transformOffset=transformMatrix[13]||transformMatrix[5];var elTop=$el.offset().top-transformOffset;var visible=windowBottom>(elTop+elOffset)&&windowTop<(elTop+elHeight-elOffset);if(visible&&(state==="paused")){$el.addClass("o_visible");self.start_animation($el);}else if(!(visible)&&$el.hasClass("o_animate_both_scroll")&&(state==="running")){$el.removeClass("o_visible");self.reset_animation($el);}});},100))).trigger("scroll");},reset_animation:function($el){var anim_name=$el.css("animation-name");$el.css({"animation-name":"dummy-none","animation-play-state":""}).removeClass("o_animated o_animating");setTimeout(function(){$el.css({"animation-name":anim_name,"animation-play-state":"paused"});},0);},start_animation:function($el){if($.browser.safari){$el.toggleClass('d-none').toggleClass('d-none',1);}
setTimeout(function(){$el.css({"animation-play-state":"running"}).addClass("o_animating").one('webkitAnimationEnd oanimationend msAnimationEnd animationend',function(e){$el.addClass("o_animated").removeClass("o_animating");$(window).trigger("resize");});});},};publicWidget.registry.WebsiteAnimate=publicWidget.Widget.extend({selector:'#wrapwrap',disabledInEditableMode:false,start:function(){WebsiteAnimate.start();$(".o_animate").css("visibility","visible");return this._super.apply(this,arguments);},});publicWidget.registry.o_animate=publicWidget.Widget.extend({selector:'.o_animation',destroy:function(){this._super.apply(this,arguments);var old_animation_classes="o_animation o_displayed o_displayed_top o_displayed_middle o_displayed_bottom o_visible o_visible_top o_visible_middle o_visible_bottom";$(".o_fade_in").addClass("o_animate o_anim_fade_in").removeClass("o_fade_in");$(".o_fade_in_down").addClass("o_animate o_anim_fade_in_down").removeClass("o_fade_in_down");$(".o_fade_in_left").addClass("o_animate o_anim_fade_in_left").removeClass("o_fade_in_left");$(".o_fade_in_right").addClass("o_animate o_anim_fade_in_right").removeClass("o_fade_in_right");$(".o_fade_in_up").addClass("o_animate o_anim_fade_in_up").removeClass("o_fade_in_up");this.$target.removeClass(old_animation_classes);},});return WebsiteAnimate;});;

/* /website_event_track/static/src/js/website_event_track.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_track.website_event_track',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.websiteEventTrack=publicWidget.Widget.extend({selector:'.o_wevent_event',events:{'input #event_track_search':'_onEventTrackSearchInput',},_onEventTrackSearchInput:function(ev){ev.preventDefault();var text=$(ev.currentTarget).val();var filter=_.str.sprintf(':containsLike(%s)',text);$('#search_summary').removeClass('invisible');var $tracks=$('.event_track');$('#search_number').text($tracks.filter(filter).length);$tracks.removeClass('invisible').not(filter).addClass('invisible');},});});;

/* /website_form_recaptcha/static/src/js/field_recaptcha.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define("website_form_recaptcha.recaptcha",function(require){"use strict";var ajax=require("web.ajax");var snippet_animation=require("website.content.snippets.animation");require("website_form.animation");var form_builder_send=snippet_animation.registry.form_builder_send;snippet_animation.registry.form_builder_send=form_builder_send.extend({captcha_languages:["ar","af","am","hy","az","eu","bn","bg","ca","zh-HK","zh-CN","zh-TW","hr","cs","da","nl","en-GB","en","et","fil","fi","fr","fr-CA","gl","ka","de","de-AT","de-CH","el","gu","iw","hi","hu","is","id","it","ja","kn","ko","lo","lv","lt","ms","ml","mr","mn","no","fa","pl","pt","pt-BR","pt-PT","ro","ru","sr","si","sk","sl","es","es-419","sw","sv","ta","te","th","tr","uk","ur","vi","zu",],recaptcha_js_url:"https://www.google.com/recaptcha/api.js",start:function(){var self=this;this._super();this.$captchas=self.$(".o_website_form_recaptcha");this.handle_captcha();},handle_captcha:function(){var self=this;return ajax.post("/website/recaptcha/",{}).then(function(result){var data=JSON.parse(result);self.$captchas.append(self._get_captcha_elem(data));if(self.$captchas.length){$.getScript(self._get_captcha_script_url(data));}});},_get_captcha_elem:function(data){return $("<div/>",{class:"g-recaptcha","data-sitekey":data.site_key,});},_get_captcha_script_url:function(){var lang=$("html").attr("lang").replace("_","-");if(this.captcha_languages.includes(lang)){return this.recaptcha_js_url+"?hl="+lang;}
if(this.captcha_languages.includes(lang.slice(0,2))){return this.recaptcha_js_url+"?hl="+lang.slice(0,2);}
return this.recaptcha_js_url;},});});;

/* /ubports_membership_website/static/src/js/frontend.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('ubports_membership_website.frontend',function(require){'use strict';var core=require('web.core');var time=require('web.time');var qweb=core.qweb;var csrf_token=core.csrf_token;var publicWidget=require('web.public.widget');var snippetAnimation=require('website.content.snippets.animation');var ajax=require('web.ajax');var _t=core._t;publicWidget.registry.membershipForm=publicWidget.Widget.extend({selector:'.snippet_membership_form',start:function(){this._super.apply(this,arguments);this.$form=this.$el.find('form');this.$err=this.$el.find('.alert-danger');this.$dateOfBirth=this.$el.find('[name="date_of_birth"]');this.$cv=this.$el.find('[name="cv"]');this.$cvLabel=this.$el.find('.ubports-file-label-upload');this.$dateOfBirth.datetimepicker({format:time.getLangDateFormat()});this.$cv.change(function(){var fileName=this.$cv.val()
if(fileName){var splittedName=fileName.split('\\');this.$cvLabel.html(splittedName[splittedName.length-1]);}else{this.$cvLabel.html(_t('Choose file'));}}.bind(this));this.$form.ajaxForm({success:this._onSuccess.bind(this),error:this._showError.bind(this),beforeSubmit:this._beforeSubmit.bind(this)});},_beforeSubmit:function(data,$form,options){var index=_.findIndex(data,function(input){return input.name==='date_of_birth';});var dateMoment=moment(data[index].value,time.getLangDateFormat());data[index].value=dateMoment.format('YYYY-MM-DD');},_onSuccess:function(err){if(err){return this._showError(err);}
return this._redirectToSuccessPage();},_showError:function(err){if(typeof err==='object'){err='Internal server error occurred.'}
this.$err.html(err);this.$err.removeClass('d-none');},_redirectToSuccessPage:function(){$(window.location).attr('href','/apply-for-membership-success');}});publicWidget.registry.ubportsMailing=publicWidget.Widget.extend({selector:'.snippet_ubports_mailing',xmlDependencies:['/ubports_membership_website/static/src/xml/frontend.xml'],start:function(){var self=this;this._super.apply(this,arguments);this.$form=this.$el.find('form');this.$err=this.$el.find('.alert-danger');this.$success=this.$el.find('.alert-success');this.$btn=this.$el.find('.btn');this.$placeholder=this.$el.find('.snippet_ubports_mailing_placeholder');this.$committees=this.$el.find('.snippet_ubports_mailing_committees');this.$recaptchaContainer=this.$el.find('.snippet_ubports_mailing_recaptcha');this.$recaptcha=this.$recaptchaContainer.find('.g-recaptcha-el');this.$el.find('input[name="csrf_token"]').val(csrf_token);var def=ajax.post('/website/recaptcha').then(function(result){var resultParsed=JSON.parse(result);if(resultParsed.site_key){grecaptcha.ready(function(){grecaptcha.render(self.$recaptcha[0],{'sitekey':resultParsed.site_key});});}else{self.$recaptchaContainer.addClass('d-none');}});this._loadCommittees().then(function(committees){this._renderCommittees(committees);this.$btn.removeAttr('disabled');}.bind(this));this.$form.ajaxForm({success:this._showSuccess.bind(this),error:this._showError.bind(this)});return def;},_loadCommittees:function(){return this._rpc({route:'/list-ubports-mailing'});},_renderCommittees:function(committees){this.$committees.find('.ubports_membership_website_item').remove();this.$placeholder.addClass('d-none');_.each(committees,function(committee){this.$committees.append(qweb.render('ubports_membership_website.Checkbox',{committee:committee}));}.bind(this));},_showSuccess:function(err){if(err){return this._showError(err);}
this.$success.removeClass('d-none');this.$err.addClass('d-none');this.$btn.attr('disabled','disabled');},_showError:function(err){if(typeof err==='object'){err='Internal server error occurred.'}
this.$err.html(err);this.$success.addClass('d-none');this.$err.removeClass('d-none');},});snippetAnimation.registry.snippetSvg=snippetAnimation.Animation.extend({selector:'.snippet_ubports_mailing',disabledInEditableMode:false,destroy:function(){var res=this._super.apply(this,arguments);this.$el.find('.ubports_membership_website_item').remove();this.$el.find('.snippet_ubports_mailing_placeholder').removeClass('d-none');this.$el.find('.btn').attr('disabled','disabled');this.$el.find('.alert-danger').addClass('d-none');this.$el.find('.alert-success').addClass('d-none');this.$el.find('.snippet_ubports_mailing_recaptcha').html('<div class="g-recaptcha-el"></div>')
return res;}});$(document).ready(function(){if($('.snippet_ubports_mailing').length>0){$.getScript('https://www.google.com/recaptcha/api.js?render=explicit');}else if($('.snippet_membership_form').length>0){$.getScript('https://www.google.com/recaptcha/api.js');}});});;

/* /sale/static/src/js/variant_mixin.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('sale.VariantMixin',function(require){'use strict';var concurrency=require('web.concurrency');var core=require('web.core');var utils=require('web.utils');var ajax=require('web.ajax');var _t=core._t;var VariantMixin={events:{'change .css_attribute_color input':'_onChangeColorAttribute','change .main_product:not(.in_cart) input.js_quantity':'onChangeAddQuantity','change [data-attribute_exclusions]':'onChangeVariant'},onChangeVariant:function(ev){var $parent=$(ev.target).closest('.js_product');if(!$parent.data('uniqueId')){$parent.data('uniqueId',_.uniqueId());}
this._throttledGetCombinationInfo($parent.data('uniqueId'))(ev);},_getCombinationInfo:function(ev){var self=this;if($(ev.target).hasClass('variant_custom_value')){return Promise.resolve();}
var $parent=$(ev.target).closest('.js_product');var qty=$parent.find('input[name="add_qty"]').val();var combination=this.getSelectedVariantValues($parent);var parentCombination=$parent.find('ul[data-attribute_exclusions]').data('attribute_exclusions').parent_combination;var productTemplateId=parseInt($parent.find('.product_template_id').val());self._checkExclusions($parent,combination);return ajax.jsonRpc(this._getUri('/sale/get_combination_info'),'call',{'product_template_id':productTemplateId,'product_id':this._getProductId($parent),'combination':combination,'add_qty':parseInt(qty),'pricelist_id':this.pricelistId||false,'parent_combination':parentCombination,}).then(function(combinationData){self._onChangeCombination(ev,$parent,combinationData);});},handleCustomValues:function($target){var $variantContainer;var $customInput=false;if($target.is('input[type=radio]')&&$target.is(':checked')){$variantContainer=$target.closest('ul').closest('li');$customInput=$target;}else if($target.is('select')){$variantContainer=$target.closest('li');$customInput=$target.find('option[value="'+$target.val()+'"]');}
if($variantContainer){if($customInput&&$customInput.data('is_custom')==='True'){var attributeValueId=$customInput.data('value_id');var attributeValueName=$customInput.data('value_name');if($variantContainer.find('.variant_custom_value').length===0||$variantContainer.find('.variant_custom_value').data('custom_product_template_attribute_value_id')!==parseInt(attributeValueId)){$variantContainer.find('.variant_custom_value').remove();var $input=$('<input>',{type:'text','data-custom_product_template_attribute_value_id':attributeValueId,'data-attribute_value_name':attributeValueName,class:'variant_custom_value form-control'});var isRadioInput=$target.is('input[type=radio]')&&$target.closest('label.css_attribute_color').length===0;if(isRadioInput&&$customInput.data('is_single_and_custom')!=='True'){$input.addClass('custom_value_radio');$target.closest('div').after($input);}else{$input.attr('placeholder',attributeValueName);$input.addClass('custom_value_own_line');$variantContainer.append($input);}}}else{$variantContainer.find('.variant_custom_value').remove();}}},onClickAddCartJSON:function(ev){ev.preventDefault();var $link=$(ev.currentTarget);var $input=$link.closest('.input-group').find("input");var min=parseFloat($input.data("min")||0);var max=parseFloat($input.data("max")||Infinity);var previousQty=parseFloat($input.val()||0,10);var quantity=($link.has(".fa-minus").length?-1:1)+previousQty;var newQty=quantity>min?(quantity<max?quantity:max):min;if(newQty!==previousQty){$input.val(newQty).trigger('change');}
return false;},onChangeAddQuantity:function(ev){var $parent;if($(ev.currentTarget).closest('.oe_optional_products_modal').length>0){$parent=$(ev.currentTarget).closest('.oe_optional_products_modal');}else if($(ev.currentTarget).closest('form').length>0){$parent=$(ev.currentTarget).closest('form');}else{$parent=$(ev.currentTarget).closest('.o_product_configurator');}
this.triggerVariantChange($parent);},triggerVariantChange:function($container){var self=this;$container.find('ul[data-attribute_exclusions]').trigger('change');$container.find('input.js_variant_change:checked, select.js_variant_change').each(function(){self.handleCustomValues($(this));});},getCustomVariantValues:function($container){var variantCustomValues=[];$container.find('.variant_custom_value').each(function(){var $variantCustomValueInput=$(this);if($variantCustomValueInput.length!==0){variantCustomValues.push({'custom_product_template_attribute_value_id':$variantCustomValueInput.data('custom_product_template_attribute_value_id'),'attribute_value_name':$variantCustomValueInput.data('attribute_value_name'),'custom_value':$variantCustomValueInput.val(),});}});return variantCustomValues;},getNoVariantAttributeValues:function($container){var noVariantAttributeValues=[];var variantsValuesSelectors=['input.no_variant.js_variant_change:checked','select.no_variant.js_variant_change'];$container.find(variantsValuesSelectors.join(',')).each(function(){var $variantValueInput=$(this);if($variantValueInput.is('select')){$variantValueInput=$variantValueInput.find('option[value='+$variantValueInput.val()+']');}
if($variantValueInput.length!==0){noVariantAttributeValues.push({'custom_product_template_attribute_value_id':$variantValueInput.data('value_id'),'attribute_value_name':$variantValueInput.data('value_name'),'value':$variantValueInput.val(),'attribute_name':$variantValueInput.data('attribute_name'),'is_custom':$variantValueInput.data('is_custom')});}});return noVariantAttributeValues;},getSelectedVariantValues:function($container){var values=[];var unchangedValues=$container.find('div.oe_unchanged_value_ids').data('unchanged_value_ids')||[];var variantsValuesSelectors=['input.js_variant_change:checked','select.js_variant_change'];_.each($container.find(variantsValuesSelectors.join(', ')),function(el){values.push(+$(el).val());});return values.concat(unchangedValues);},selectOrCreateProduct:function($container,productId,productTemplateId,useAjax){var self=this;productId=parseInt(productId);productTemplateId=parseInt(productTemplateId);var productReady=Promise.resolve();if(productId){productReady=Promise.resolve(productId);}else{var params={product_template_id:productTemplateId,product_template_attribute_value_ids:JSON.stringify(self.getSelectedVariantValues($container)),};var route='/sale/create_product_variant';if(useAjax){productReady=ajax.jsonRpc(route,'call',params);}else{productReady=this._rpc({route:route,params:params});}}
return productReady;},_checkExclusions:function($parent,combination){var self=this;var combinationData=$parent.find('ul[data-attribute_exclusions]').data('attribute_exclusions');$parent.find('option, input, label').removeClass('css_not_available').attr('title','').data('excluded-by','');if(combinationData.exclusions){_.each(combination,function(current_ptav){if(combinationData.exclusions.hasOwnProperty(current_ptav)){_.each(combinationData.exclusions[current_ptav],function(excluded_ptav){self._disableInput($parent,excluded_ptav,current_ptav,combinationData.mapped_attribute_names);});}});}
_.each(combinationData.parent_exclusions,function(exclusions,excluded_by){_.each(exclusions,function(ptav){self._disableInput($parent,ptav,excluded_by,combinationData.mapped_attribute_names,combinationData.parent_product_name);});});},_getProductId:function($parent){return parseInt($parent.find('.product_id').val());},_disableInput:function($parent,attributeValueId,excludedBy,attributeNames,productName){var $input=$parent.find('option[value='+attributeValueId+'], input[value='+attributeValueId+']');$input.addClass('css_not_available');$input.closest('label').addClass('css_not_available');if(excludedBy&&attributeNames){var $target=$input.is('option')?$input:$input.closest('label').add($input);var excludedByData=[];if($target.data('excluded-by')){excludedByData=JSON.parse($target.data('excluded-by'));}
var excludedByName=attributeNames[excludedBy];if(productName){excludedByName=productName+' ('+excludedByName+')';}
excludedByData.push(excludedByName);$target.attr('title',_.str.sprintf(_t('Not available with %s'),excludedByData.join(', ')));$target.data('excluded-by',JSON.stringify(excludedByData));}},_onChangeCombination:function(ev,$parent,combination){var self=this;var $price=$parent.find(".oe_price:first .oe_currency_value");var $default_price=$parent.find(".oe_default_price:first .oe_currency_value");var $optional_price=$parent.find(".oe_optional:first .oe_currency_value");$price.text(self._priceToStr(combination.price));$default_price.text(self._priceToStr(combination.list_price));var isCombinationPossible=true;if(!_.isUndefined(combination.is_combination_possible)){isCombinationPossible=combination.is_combination_possible;}
this._toggleDisable($parent,isCombinationPossible);if(combination.has_discounted_price){$default_price.closest('.oe_website_sale').addClass("discount");$optional_price.closest('.oe_optional').removeClass('d-none').css('text-decoration','line-through');$default_price.parent().removeClass('d-none');}else{$default_price.closest('.oe_website_sale').removeClass("discount");$optional_price.closest('.oe_optional').addClass('d-none');$default_price.parent().addClass('d-none');}
var rootComponentSelectors=['tr.js_product','.oe_website_sale','.o_product_configurator'];if(!combination.product_id||!this.last_product_id||combination.product_id!==this.last_product_id){this.last_product_id=combination.product_id;self._updateProductImage($parent.closest(rootComponentSelectors.join(', ')),combination.display_image,combination.product_id,combination.product_template_id,combination.carousel,isCombinationPossible);}
$parent.find('.product_id').first().val(combination.product_id||0).trigger('change');$parent.find('.product_display_name').first().text(combination.display_name);$parent.find('.js_raw_price').first().text(combination.price).trigger('change');this.handleCustomValues($(ev.target));},_priceToStr:function(price){var l10n=_t.database.parameters;var precision=2;if($('.decimal_precision').length){precision=parseInt($('.decimal_precision').last().data('precision'));}
var formatted=_.str.sprintf('%.'+precision+'f',price).split('.');formatted[0]=utils.insert_thousand_seps(formatted[0]);return formatted.join(l10n.decimal_point);},_throttledGetCombinationInfo:_.memoize(function(uniqueId){var dropMisordered=new concurrency.DropMisordered();var _getCombinationInfo=_.throttle(this._getCombinationInfo.bind(this),500);return function(ev,params){return dropMisordered.add(_getCombinationInfo(ev,params));};}),_toggleDisable:function($parent,isCombinationPossible){$parent.toggleClass('css_not_available',!isCombinationPossible);},_updateProductImage:function($productContainer,displayImage,productId,productTemplateId){var model=productId?'product.product':'product.template';var modelId=productId||productTemplateId;var imageUrl='/web/image/{0}/{1}/'+(this._productImageField?this._productImageField:'image_1024');var imageSrc=imageUrl.replace("{0}",model).replace("{1}",modelId);var imagesSelectors=['span[data-oe-model^="product."][data-oe-type="image"] img:first','img.product_detail_img','span.variant_image img','img.variant_image',];var $img=$productContainer.find(imagesSelectors.join(', '));if(displayImage){$img.removeClass('invisible').attr('src',imageSrc);}else{$img.addClass('invisible');}},_onChangeColorAttribute:function(ev){var $parent=$(ev.target).closest('.js_product');$parent.find('.css_attribute_color').removeClass("active").filter(':has(input:checked)').addClass("active");},_getUri:function(uri){return uri;}};return VariantMixin;});;

/* /website_sale/static/src/js/variant_mixin.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.VariantMixin',function(require){'use strict';var VariantMixin=require('sale.VariantMixin');VariantMixin._getUri=function(uri){if(this.isWebsite){return uri+'_website';}else{return uri;}};return VariantMixin;});;

/* /website_sale/static/src/js/website_sale.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.cart',function(require){'use strict';var publicWidget=require('web.public.widget');var core=require('web.core');var _t=core._t;var timeout;publicWidget.registry.websiteSaleCartLink=publicWidget.Widget.extend({selector:'#top_menu a[href$="/shop/cart"]',events:{'mouseenter':'_onMouseEnter','mouseleave':'_onMouseLeave','click':'_onClick',},init:function(){this._super.apply(this,arguments);this._popoverRPC=null;},start:function(){this.$el.popover({trigger:'manual',animation:true,html:true,title:function(){return _t("My Cart");},container:'body',placement:'auto',template:'<div class="popover mycart-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'});return this._super.apply(this,arguments);},_onMouseEnter:function(ev){var self=this;clearTimeout(timeout);$(this.selector).not(ev.currentTarget).popover('hide');timeout=setTimeout(function(){if(!self.$el.is(':hover')||$('.mycart-popover:visible').length){return;}
self._popoverRPC=$.get("/shop/cart",{type:'popover',}).then(function(data){self.$el.data("bs.popover").config.content=data;self.$el.popover("show");$('.popover').on('mouseleave',function(){self.$el.trigger('mouseleave');});});},300);},_onMouseLeave:function(ev){var self=this;setTimeout(function(){if($('.popover:hover').length){return;}
if(!self.$el.is(':hover')){self.$el.popover('hide');}},1000);},_onClick:function(ev){clearTimeout(timeout);if(this._popoverRPC&&this._popoverRPC.state()==='pending'){ev.preventDefault();var href=ev.currentTarget.href;this._popoverRPC.then(function(){window.location.href=href;});}},});});odoo.define('website_sale.website_sale_category',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.websiteSaleCategory=publicWidget.Widget.extend({selector:'#o_shop_collapse_category',events:{'click .fa-chevron-right':'_onOpenClick','click .fa-chevron-down':'_onCloseClick',},_onOpenClick:function(ev){var $fa=$(ev.currentTarget);$fa.parent().siblings().find('.fa-chevron-down:first').click();$fa.parents('li').find('ul:first').show('normal');$fa.toggleClass('fa-chevron-down fa-chevron-right');},_onCloseClick:function(ev){var $fa=$(ev.currentTarget);$fa.parent().find('ul:first').hide('normal');$fa.toggleClass('fa-chevron-down fa-chevron-right');},});});odoo.define('website_sale.website_sale',function(require){'use strict';var core=require('web.core');var config=require('web.config');var concurrency=require('web.concurrency');var publicWidget=require('web.public.widget');var VariantMixin=require('sale.VariantMixin');var wSaleUtils=require('website_sale.utils');require("web.zoomodoo");var qweb=core.qweb;publicWidget.registry.WebsiteSale=publicWidget.Widget.extend(VariantMixin,{selector:'.oe_website_sale',events:_.extend({},VariantMixin.events||{},{'change form .js_product:first input[name="add_qty"]':'_onChangeAddQuantity','mouseup .js_publish':'_onMouseupPublish','touchend .js_publish':'_onMouseupPublish','change .oe_cart input.js_quantity[data-product-id]':'_onChangeCartQuantity','click .oe_cart a.js_add_suggested_products':'_onClickSuggestedProduct','click a.js_add_cart_json':'_onClickAddCartJSON','click .a-submit':'_onClickSubmit','change form.js_attributes input, form.js_attributes select':'_onChangeAttribute','mouseup form.js_add_cart_json label':'_onMouseupAddCartLabel','touchend form.js_add_cart_json label':'_onMouseupAddCartLabel','click .show_coupon':'_onClickShowCoupon','submit .o_wsale_products_searchbar_form':'_onSubmitSaleSearch','change select[name="country_id"]':'_onChangeCountry','change #shipping_use_same':'_onChangeShippingUseSame','click .toggle_summary':'_onToggleSummary','click #add_to_cart, #buy_now, #products_grid .o_wsale_product_btn .a-submit':'async _onClickAdd','click input.js_product_change':'onChangeVariant','change .js_main_product [data-attribute_exclusions]':'onChangeVariant','change oe_optional_products_modal [data-attribute_exclusions]':'onChangeVariant',}),init:function(){this._super.apply(this,arguments);this._changeCartQuantity=_.debounce(this._changeCartQuantity.bind(this),500);this._changeCountry=_.debounce(this._changeCountry.bind(this),500);this.isWebsite=true;delete this.events['change .main_product:not(.in_cart) input.js_quantity'];delete this.events['change [data-attribute_exclusions]'];},start:function(){var self=this;var def=this._super.apply(this,arguments);this._applyHash();_.each(this.$('div.js_product'),function(product){$('input.js_product_change',product).first().trigger('change');});this.triggerVariantChange(this.$el);this.$('select[name="country_id"]').change();core.bus.on('resize',this,function(){if(config.device.size_class===config.device.SIZES.XL){$('.toggle_summary_div').addClass('d-none d-xl-block');}});this._startZoom();window.addEventListener('hashchange',function(e){self._applyHash();self.triggerVariantChange($(self.el));});return def;},getSelectedVariantValues:function($container){var combination=$container.find('input.js_product_change:checked').data('combination');if(combination){return combination;}
return VariantMixin.getSelectedVariantValues.apply(this,arguments);},_applyHash:function(){var hash=window.location.hash.substring(1);if(hash){var params=$.deparam(hash);if(params['attr']){var attributeIds=params['attr'].split(',');var $inputs=this.$('input.js_variant_change, select.js_variant_change option');_.each(attributeIds,function(id){var $toSelect=$inputs.filter('[data-value_id="'+id+'"]');if($toSelect.is('input[type="radio"]')){$toSelect.prop('checked',true);}else if($toSelect.is('option')){$toSelect.prop('selected',true);}});this._changeColorAttribute();}}},_setUrlHash:function($parent){var $attributes=$parent.find('input.js_variant_change:checked, select.js_variant_change option:selected');var attributeIds=_.map($attributes,function(elem){return $(elem).data('value_id');});history.replaceState(undefined,undefined,'#attr='+attributeIds.join(','));},_changeColorAttribute:function(){$('.css_attribute_color').removeClass("active").filter(':has(input:checked)').addClass("active");},_changeCartQuantity:function($input,value,$dom_optional,line_id,productIDs){_.each($dom_optional,function(elem){$(elem).find('.js_quantity').text(value);productIDs.push($(elem).find('span[data-product-id]').data('product-id'));});$input.data('update_change',true);this._rpc({route:"/shop/cart/update_json",params:{line_id:line_id,product_id:parseInt($input.data('product-id'),10),set_qty:value},}).then(function(data){$input.data('update_change',false);var check_value=parseInt($input.val()||0,10);if(isNaN(check_value)){check_value=1;}
if(value!==check_value){$input.trigger('change');return;}
if(!data.cart_quantity){return window.location='/shop/cart';}
wSaleUtils.updateCartNavBar(data);$input.val(data.quantity);$('.js_quantity[data-line-id='+line_id+']').val(data.quantity).html(data.quantity);if(data.warning){var cart_alert=$('.oe_cart').parent().find('#data_warning');if(cart_alert.length===0){$('.oe_cart').prepend('<div class="alert alert-danger alert-dismissable" role="alert" id="data_warning">'+'<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button> '+data.warning+'</div>');}
else{cart_alert.html('<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button> '+data.warning);}
$input.val(data.quantity);}});},_changeCountry:function(){if(!$("#country_id").val()){return;}
this._rpc({route:"/shop/country_infos/"+$("#country_id").val(),params:{mode:'shipping',},}).then(function(data){var selectStates=$("select[name='state_id']");if(selectStates.data('init')===0||selectStates.find('option').length===1){if(data.states.length){selectStates.html('');_.each(data.states,function(x){var opt=$('<option>').text(x[1]).attr('value',x[0]).attr('data-code',x[2]);selectStates.append(opt);});selectStates.parent('div').show();}else{selectStates.val('').parent('div').hide();}
selectStates.data('init',0);}else{selectStates.data('init',0);}
if(data.fields){if($.inArray('zip',data.fields)>$.inArray('city',data.fields)){$(".div_zip").before($(".div_city"));}else{$(".div_zip").after($(".div_city"));}
var all_fields=["street","zip","city","country_name"];_.each(all_fields,function(field){$(".checkout_autoformat .div_"+field.split('_')[0]).toggle($.inArray(field,data.fields)>=0);});}});},_getProductId:function($parent){if($parent.find('input.js_product_change').length!==0){return parseInt($parent.find('input.js_product_change:checked').val());}
else{return VariantMixin._getProductId.apply(this,arguments);}},_startZoom:function(){if(!config.device.isMobile){var autoZoom=$('.ecom-zoomable').data('ecom-zoom-auto')||false,attach='#o-carousel-product';_.each($('.ecom-zoomable img[data-zoom]'),function(el){onImageLoaded(el,function(){var $img=$(el);$img.zoomOdoo({event:autoZoom?'mouseenter':'click',attach:attach});$img.attr('data-zoom',1);});});}
function onImageLoaded(img,callback){$(img).on('load',function(){callback();});if(img.complete){callback();}}},_updateProductImage:function($productContainer,displayImage,productId,productTemplateId,newCarousel,isCombinationPossible){var $carousel=$productContainer.find('#o-carousel-product');if(window.location.search.indexOf('enable_editor')===-1){var $newCarousel=$(newCarousel);$carousel.after($newCarousel);$carousel.remove();$carousel=$newCarousel;$carousel.carousel(0);this._startZoom();this.trigger_up('widgets_start_request',{$target:$carousel});}
$carousel.toggleClass('css_not_available',!isCombinationPossible);},_onClickAdd:function(ev){ev.preventDefault();this.isBuyNow=$(ev.currentTarget).attr('id')==='buy_now';return this._handleAdd($(ev.currentTarget).closest('form'));},_handleAdd:function($form){var self=this;this.$form=$form;var productSelector=['input[type="hidden"][name="product_id"]','input[type="radio"][name="product_id"]:checked'];var productReady=this.selectOrCreateProduct($form,parseInt($form.find(productSelector.join(', ')).first().val(),10),$form.find('.product_template_id').val(),false);return productReady.then(function(productId){$form.find(productSelector.join(', ')).val(productId);self.rootProduct={product_id:productId,quantity:parseFloat($form.find('input[name="add_qty"]').val()||1),product_custom_attribute_values:self.getCustomVariantValues($form.find('.js_product')),variant_values:self.getSelectedVariantValues($form.find('.js_product')),no_variant_attribute_values:self.getNoVariantAttributeValues($form.find('.js_product'))};return self._onProductReady();});},_onProductReady:function(){return this._submitForm();},_submitForm:function(){var $productCustomVariantValues=$('<input>',{name:'product_custom_attribute_values',type:"hidden",value:JSON.stringify(this.rootProduct.product_custom_attribute_values)});this.$form.append($productCustomVariantValues);var $productNoVariantAttributeValues=$('<input>',{name:'no_variant_attribute_values',type:"hidden",value:JSON.stringify(this.rootProduct.no_variant_attribute_values)});this.$form.append($productNoVariantAttributeValues);if(this.isBuyNow){this.$form.append($('<input>',{name:'express',type:"hidden",value:true}));}
this.$form.trigger('submit',[true]);return new Promise(function(){});},_onClickAddCartJSON:function(ev){this.onClickAddCartJSON(ev);},_onChangeAddQuantity:function(ev){this.onChangeAddQuantity(ev);},_onMouseupPublish:function(ev){$(ev.currentTarget).parents('.thumbnail').toggleClass('disabled');},_onChangeCartQuantity:function(ev){var $input=$(ev.currentTarget);if($input.data('update_change')){return;}
var value=parseInt($input.val()||0,10);if(isNaN(value)){value=1;}
var $dom=$input.closest('tr');var $dom_optional=$dom.nextUntil(':not(.optional_product.info)');var line_id=parseInt($input.data('line-id'),10);var productIDs=[parseInt($input.data('product-id'),10)];this._changeCartQuantity($input,value,$dom_optional,line_id,productIDs);},_onClickSuggestedProduct:function(ev){$(ev.currentTarget).prev('input').val(1).trigger('change');},_onClickSubmit:function(ev,forceSubmit){if($(ev.currentTarget).is('#add_to_cart, #products_grid .a-submit')&&!forceSubmit){return;}
var $aSubmit=$(ev.currentTarget);if(!ev.isDefaultPrevented()&&!$aSubmit.is(".disabled")){ev.preventDefault();$aSubmit.closest('form').submit();}
if($aSubmit.hasClass('a-submit-disable')){$aSubmit.addClass("disabled");}
if($aSubmit.hasClass('a-submit-loading')){var loading='<span class="fa fa-cog fa-spin"/>';var fa_span=$aSubmit.find('span[class*="fa"]');if(fa_span.length){fa_span.replaceWith(loading);}else{$aSubmit.append(loading);}}},_onChangeAttribute:function(ev){if(!ev.isDefaultPrevented()){ev.preventDefault();$(ev.currentTarget).closest("form").submit();}},_onMouseupAddCartLabel:function(ev){var $label=$(ev.currentTarget);var $price=$label.parents("form:first").find(".oe_price .oe_currency_value");if(!$price.data("price")){$price.data("price",parseFloat($price.text()));}
var value=$price.data("price")+parseFloat($label.find(".badge span").text()||0);var dec=value%1;$price.html(value+(dec<0.01?".00":(dec<1?"0":"")));},_onClickShowCoupon:function(ev){$(ev.currentTarget).hide();$('.coupon_form').removeClass('d-none');},_onSubmitSaleSearch:function(ev){if(!this.$('.dropdown_sorty_by').length){return;}
var $this=$(ev.currentTarget);if(!ev.isDefaultPrevented()&&!$this.is(".disabled")){ev.preventDefault();var oldurl=$this.attr('action');oldurl+=(oldurl.indexOf("?")===-1)?"?":"";var search=$this.find('input.search-query');window.location=oldurl+'&'+search.attr('name')+'='+encodeURIComponent(search.val());}},_onChangeCountry:function(ev){if(!this.$('.checkout_autoformat').length){return;}
this._changeCountry();},_onChangeShippingUseSame:function(ev){$('.ship_to_other').toggle(!$(ev.currentTarget).prop('checked'));},_toggleDisable:function($parent,isCombinationPossible){VariantMixin._toggleDisable.apply(this,arguments);$parent.find("#add_to_cart").toggleClass('disabled',!isCombinationPossible);$parent.find("#buy_now").toggleClass('disabled',!isCombinationPossible);},onChangeVariant:function(ev){var $component=$(ev.currentTarget).closest('.js_product');$component.find('input').each(function(){var $el=$(this);$el.attr('checked',$el.is(':checked'));});$component.find('select option').each(function(){var $el=$(this);$el.attr('selected',$el.is(':selected'));});this._setUrlHash($component);return VariantMixin.onChangeVariant.apply(this,arguments);},_onToggleSummary:function(){$('.toggle_summary_div').toggleClass('d-none');$('.toggle_summary_div').removeClass('d-xl-block');},});publicWidget.registry.WebsiteSaleLayout=publicWidget.Widget.extend({selector:'.oe_website_sale',disabledInEditableMode:false,events:{'change .o_wsale_apply_layout':'_onApplyShopLayoutChange',},_onApplyShopLayoutChange:function(ev){var switchToList=$(ev.currentTarget).find('.o_wsale_apply_list input').is(':checked');if(!this.editableMode){this._rpc({route:'/shop/save_shop_layout_mode',params:{'layout_mode':switchToList?'list':'grid',},});}
var $grid=this.$('#products_grid');$grid.find('*').css('transition','none');$grid.toggleClass('o_wsale_layout_list',switchToList);void $grid[0].offsetWidth;$grid.find('*').css('transition','');},});publicWidget.registry.websiteSaleCart=publicWidget.Widget.extend({selector:'.oe_website_sale .oe_cart',events:{'click .js_change_shipping':'_onClickChangeShipping','click .js_edit_address':'_onClickEditAddress','click .js_delete_product':'_onClickDeleteProduct',},_onClickChangeShipping:function(ev){var $old=$('.all_shipping').find('.card.border.border-primary');$old.find('.btn-ship').toggle();$old.addClass('js_change_shipping');$old.removeClass('border border-primary');var $new=$(ev.currentTarget).parent('div.one_kanban').find('.card');$new.find('.btn-ship').toggle();$new.removeClass('js_change_shipping');$new.addClass('border border-primary');var $form=$(ev.currentTarget).parent('div.one_kanban').find('form.d-none');$.post($form.attr('action'),$form.serialize()+'&xhr=1');},_onClickEditAddress:function(ev){ev.preventDefault();$(ev.currentTarget).closest('div.one_kanban').find('form.d-none').attr('action','/shop/address').submit();},_onClickDeleteProduct:function(ev){ev.preventDefault();$(ev.currentTarget).closest('tr').find('.js_quantity').val(0).trigger('change');},});publicWidget.registry.productsSearchBar=publicWidget.Widget.extend({selector:'.o_wsale_products_searchbar_form',xmlDependencies:['/website_sale/static/src/xml/website_sale_utils.xml'],events:{'input .search-query':'_onInput','focusout':'_onFocusOut','keydown .search-query':'_onKeydown',},autocompleteMinWidth:300,init:function(){this._super.apply(this,arguments);this._dp=new concurrency.DropPrevious();this._onInput=_.debounce(this._onInput,400);this._onFocusOut=_.debounce(this._onFocusOut,100);},start:function(){this.$input=this.$('.search-query');this.order=this.$('.o_wsale_search_order_by').val();this.limit=parseInt(this.$input.data('limit'));this.displayDescription=!!this.$input.data('displayDescription');this.displayPrice=!!this.$input.data('displayPrice');this.displayImage=!!this.$input.data('displayImage');if(this.limit){this.$input.attr('autocomplete','off');}
return this._super.apply(this,arguments);},_fetch:function(){return this._rpc({route:'/shop/products/autocomplete',params:{'term':this.$input.val(),'options':{'order':this.order,'limit':this.limit,'display_description':this.displayDescription,'display_price':this.displayPrice,'max_nb_chars':Math.round(Math.max(this.autocompleteMinWidth,parseInt(this.$el.width()))*0.22),},},});},_render:function(res){var $prevMenu=this.$menu;this.$el.toggleClass('dropdown show',!!res);if(res){var products=res['products'];this.$menu=$(qweb.render('website_sale.productsSearchBar.autocomplete',{products:products,hasMoreProducts:products.length<res['products_count'],currency:res['currency'],widget:this,}));this.$menu.css('min-width',this.autocompleteMinWidth);this.$el.append(this.$menu);}
if($prevMenu){$prevMenu.remove();}},_onInput:function(){if(!this.limit){return;}
this._dp.add(this._fetch()).then(this._render.bind(this));},_onFocusOut:function(){if(!this.$el.has(document.activeElement).length){this._render();}},_onKeydown:function(ev){switch(ev.which){case $.ui.keyCode.ESCAPE:this._render();break;case $.ui.keyCode.UP:ev.preventDefault();this.$menu.children().last().focus();break;case $.ui.keyCode.DOWN:ev.preventDefault();this.$menu.children().first().focus();break;}},});});;

/* /website_sale/static/src/js/website_sale_utils.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.utils',function(require){'use strict';function getNavBarButton(selector){var $affixedHeaderButton=$('header.affixed '+selector);if($affixedHeaderButton.length){return $affixedHeaderButton;}else{return $('header '+selector).first();}}
function animateClone($cart,$elem,offsetTop,offsetLeft){$cart.find('.o_animate_blink').addClass('o_red_highlight o_shadow_animation').delay(500).queue(function(){$(this).removeClass("o_shadow_animation").dequeue();}).delay(2000).queue(function(){$(this).removeClass("o_red_highlight").dequeue();});return new Promise(function(resolve,reject){var $imgtodrag=$elem.find('img').eq(0);if($imgtodrag.length){var $imgclone=$imgtodrag.clone().offset({top:$imgtodrag.offset().top,left:$imgtodrag.offset().left}).addClass('o_website_sale_animate').appendTo(document.body).animate({top:$cart.offset().top+offsetTop,left:$cart.offset().left+offsetLeft,width:75,height:75,},1000,'easeInOutExpo');$imgclone.animate({width:0,height:0,},function(){resolve();$(this).detach();});}else{resolve();}});}
function updateCartNavBar(data){var $qtyNavBar=$(".my_cart_quantity");_.each($qtyNavBar,function(qty){var $qty=$(qty);$qty.parents('li:first').removeClass('d-none');$qty.html(data.cart_quantity).hide().fadeIn(600);});$(".js_cart_lines").first().before(data['website_sale.cart_lines']).end().remove();$(".js_cart_summary").first().before(data['website_sale.short_cart_summary']).end().remove();}
return{animateClone:animateClone,getNavBarButton:getNavBarButton,updateCartNavBar:updateCartNavBar,};});;

/* /website_sale/static/src/js/website_sale_payment.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.payment',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.WebsiteSalePayment=publicWidget.Widget.extend({selector:'#wrapwrap:has(#checkbox_cgv)',events:{'change #checkbox_cgv':'_onCGVCheckboxClick',},start:function(){this.$checkbox=this.$('#checkbox_cgv');this.$payButton=$('button#o_payment_form_pay');this.$checkbox.trigger('change');return this._super.apply(this,arguments);},_adaptPayButton:function(){var disabledReasons=this.$payButton.data('disabled_reasons')||{};disabledReasons.cgv=!this.$checkbox.prop('checked');this.$payButton.data('disabled_reasons',disabledReasons);this.$payButton.prop('disabled',_.contains(disabledReasons,true));},_onCGVCheckboxClick:function(){this._adaptPayButton();},});});;

/* /website_sale/static/src/js/website_sale_validate.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.validate',function(require){'use strict';var publicWidget=require('web.public.widget');var core=require('web.core');var _t=core._t;publicWidget.registry.websiteSaleValidate=publicWidget.Widget.extend({selector:'div.oe_website_sale_tx_status[data-order-id]',start:function(){var def=this._super.apply(this,arguments);this._poll_nbr=0;this._paymentTransationPollStatus();return def;},_paymentTransationPollStatus:function(){var self=this;this._rpc({route:'/shop/payment/get_status/'+parseInt(this.$el.data('order-id')),}).then(function(result){self._poll_nbr+=1;if(result.recall){if(self._poll_nbr<20){setTimeout(function(){self._paymentTransationPollStatus();},Math.ceil(self._poll_nbr/3)*1000);}else{var $message=$(result.message);var $warning=$("<i class='fa fa-warning' style='margin-right:10px;'>");$warning.attr("title",_t("We are waiting the confirmation of the bank or payment provider"));$message.find('span:first').prepend($warning);result.message=$message.html();}}
self.$el.html(result.message);});},});});;

/* /website_sale/static/src/js/website_sale_recently_viewed.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.recently_viewed',function(require){var concurrency=require('web.concurrency');var config=require('web.config');var core=require('web.core');var publicWidget=require('web.public.widget');var utils=require('web.utils');var wSaleUtils=require('website_sale.utils');var qweb=core.qweb;publicWidget.registry.productsRecentlyViewedSnippet=publicWidget.Widget.extend({selector:'.s_wsale_products_recently_viewed',xmlDependencies:['/website_sale/static/src/xml/website_sale_recently_viewed.xml'],disabledInEditableMode:false,read_events:{'click .js_add_cart':'_onAddToCart','click .js_remove':'_onRemove',},init:function(){this._super.apply(this,arguments);this._dp=new concurrency.DropPrevious();this.uniqueId=_.uniqueId('o_carousel_recently_viewed_products_');this._onResizeChange=_.debounce(this._addCarousel,100);},start:function(){this._dp.add(this._fetch()).then(this._render.bind(this));$(window).resize(()=>{this._onResizeChange();});return this._super.apply(this,arguments);},destroy:function(){this._super(...arguments);this.$el.addClass('d-none');this.$el.find('.slider').html('');},_fetch:function(){return this._rpc({route:'/shop/products/recently_viewed',}).then(res=>{var products=res['products'];if(this.editableMode&&(!products||!products.length)){return{'products':[{id:0,website_url:'#',display_name:'Product 1',price:'$ <span class="oe_currency_value">750.00</span>',},{id:0,website_url:'#',display_name:'Product 2',price:'$ <span class="oe_currency_value">750.00</span>',},{id:0,website_url:'#',display_name:'Product 3',price:'$ <span class="oe_currency_value">750.00</span>',},{id:0,website_url:'#',display_name:'Product 4',price:'$ <span class="oe_currency_value">750.00</span>',}],};}
return res;});},_render:function(res){var products=res['products'];var mobileProducts=[],webProducts=[],productsTemp=[];_.each(products,function(product){if(productsTemp.length===4){webProducts.push(productsTemp);productsTemp=[];}
productsTemp.push(product);mobileProducts.push([product]);});if(productsTemp.length){webProducts.push(productsTemp);}
this.mobileCarousel=$(qweb.render('website_sale.productsRecentlyViewed',{uniqueId:this.uniqueId,productFrame:1,productsGroups:mobileProducts,}));this.webCarousel=$(qweb.render('website_sale.productsRecentlyViewed',{uniqueId:this.uniqueId,productFrame:4,productsGroups:webProducts,}));this._addCarousel();this.$el.toggleClass('d-none',!(products&&products.length));},_addCarousel:function(){var carousel=config.device.size_class<=config.device.SIZES.SM?this.mobileCarousel:this.webCarousel;this.$('.slider').html(carousel).css('display','');},_onAddToCart:function(ev){var self=this;var $card=$(ev.currentTarget).closest('.card');this._rpc({route:"/shop/cart/update_json",params:{product_id:$card.find('input[data-product-id]').data('product-id'),add_qty:1},}).then(function(data){wSaleUtils.updateCartNavBar(data);var $navButton=wSaleUtils.getNavBarButton('.o_wsale_my_cart');var fetch=self._fetch();var animation=wSaleUtils.animateClone($navButton,$(ev.currentTarget).parents('.o_carousel_product_card'),25,40);Promise.all([fetch,animation]).then(function(values){self._render(values[0]);});});},_onRemove:function(ev){var self=this;var $card=$(ev.currentTarget).closest('.card');this._rpc({route:"/shop/products/recently_viewed_delete",params:{product_id:$card.find('input[data-product-id]').data('product-id'),},}).then(function(data){self._render(data);});},});publicWidget.registry.productsRecentlyViewedUpdate=publicWidget.Widget.extend({selector:'#product_detail',events:{'change input.product_id[name="product_id"]':'_onProductChange',},debounceValue:8000,init:function(){this._super.apply(this,arguments);this._onProductChange=_.debounce(this._onProductChange,this.debounceValue);},_updateProductView:function($input){var productId=parseInt($input.val());var cookieName='seen_product_id_'+productId;if(!parseInt(this.el.dataset.viewTrack,10)){return;}
if(utils.get_cookie(cookieName)){return;}
if($(this.el).find('.js_product.css_not_available').length){return;}
this._rpc({route:'/shop/products/recently_viewed_update',params:{product_id:productId,}}).then(function(res){if(res&&res.visitor_uuid){utils.set_cookie('visitor_uuid',res.visitor_uuid);}
utils.set_cookie(cookieName,productId,30*60);});},_onProductChange:function(ev){this._updateProductView($(ev.currentTarget));},});});;

/* /website_sale/static/src/js/website_sale_tracking.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.tracking',function(require){var publicWidget=require('web.public.widget');publicWidget.registry.websiteSaleTracking=publicWidget.Widget.extend({selector:'.oe_website_sale',events:{'click form[action="/shop/cart/update"] a.a-submit':'_onAddProductIntoCart','click a[href="/shop/checkout"]':'_onCheckoutStart','click div.oe_cart a[href^="/web?redirect"][href$="/shop/checkout"]':'_onCustomerSignin','click form[action="/shop/confirm_order"] a.a-submit':'_onOrder','click form[target="_self"] button[type=submit]':'_onOrderPayment',},start:function(){var self=this;if(this.$el.is('#product_detail')){var productID=this.$('input[name="product_id"]').attr('value');this._vpv('/stats/ecom/product_view/'+productID);}
if(this.$('div.oe_website_sale_tx_status').length){this._trackGA('require','ecommerce');var orderID=this.$('div.oe_website_sale_tx_status').data('order-id');this._vpv('/stats/ecom/order_confirmed/'+orderID);this._rpc({route:'/shop/tracking_last_order/',}).then(function(o){self._trackGA('ecommerce:clear');if(o.transaction&&o.lines){self._trackGA('ecommerce:addTransaction',o.transaction);_.forEach(o.lines,function(line){self._trackGA('ecommerce:addItem',line);});}
self._trackGA('ecommerce:send');});}
return this._super.apply(this,arguments);},_trackGA:function(){var websiteGA=window.ga||function(){};websiteGA.apply(this,arguments);},_vpv:function(page){this._trackGA('send','pageview',{'page':page,'title':document.title,});},_onAddProductIntoCart:function(){var productID=this.$('input[name="product_id"]').attr('value');this._vpv('/stats/ecom/product_add_to_cart/'+productID);},_onCheckoutStart:function(){this._vpv('/stats/ecom/customer_checkout');},_onCustomerSignin:function(){this._vpv('/stats/ecom/customer_signin');},_onOrder:function(){if($('#top_menu [href="/web/login"]').length){this._vpv('/stats/ecom/customer_signup');}
this._vpv('/stats/ecom/order_checkout');},_onOrderPayment:function(){var method=$('#payment_method input[name=acquirer]:checked').nextAll('span:first').text();this._vpv('/stats/ecom/order_payment/'+method);},});});;

/* /website_sale_stock/static/src/js/variant_mixin.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale_stock.VariantMixin',function(require){'use strict';var VariantMixin=require('sale.VariantMixin');var publicWidget=require('web.public.widget');var ajax=require('web.ajax');var core=require('web.core');var QWeb=core.qweb;var xml_load=ajax.loadXML('/website_sale_stock/static/src/xml/website_sale_stock_product_availability.xml',QWeb);VariantMixin._onChangeCombinationStock=function(ev,$parent,combination){var product_id=0;if($parent.find('input.product_id:checked').length){product_id=$parent.find('input.product_id:checked').val();}else{product_id=$parent.find('.product_id').val();}
var isMainProduct=combination.product_id&&($parent.is('.js_main_product')||$parent.is('.main_product'))&&combination.product_id===parseInt(product_id);if(!this.isWebsite||!isMainProduct){return;}
var qty=$parent.find('input[name="add_qty"]').val();$parent.find('#add_to_cart').removeClass('out_of_stock');$parent.find('#buy_now').removeClass('out_of_stock');if(combination.product_type==='product'&&_.contains(['always','threshold'],combination.inventory_availability)){combination.virtual_available-=parseInt(combination.cart_qty);if(combination.virtual_available<0){combination.virtual_available=0;}
if(qty>combination.virtual_available){var $input_add_qty=$parent.find('input[name="add_qty"]');qty=combination.virtual_available||1;$input_add_qty.val(qty);}
if(qty>combination.virtual_available||combination.virtual_available<1||qty<1){$parent.find('#add_to_cart').addClass('disabled out_of_stock');$parent.find('#buy_now').addClass('disabled out_of_stock');}}
xml_load.then(function(){$('.oe_website_sale').find('.availability_message_'+combination.product_template).remove();var $message=$(QWeb.render('website_sale_stock.product_availability',combination));$('div.availability_messages').html($message);});};publicWidget.registry.WebsiteSale.include({_onChangeCombination:function(){this._super.apply(this,arguments);VariantMixin._onChangeCombinationStock.apply(this,arguments);}});return VariantMixin;});;

/* /website_video_preview/static/src/js/website_video_preview.frontend.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_video_preview.frontend',function(require){"use strict";var registry=require('website.content.snippets.animation').registry;registry.mediaVideo.include({events:{'click [data-iframe-src]':'_onPreviewClick','click .play_button':'_onPlayButtonClick',},start:function(){var src=this.$target.find('img.video_preview').attr('data-iframe-src');if(!src){return this._super.apply(this,arguments);}
if(this.editableMode){this.stopVideo();}else if(src.indexOf('autoplay=1')!==-1){this.playVideo(this.$target.find('img.video_preview').attr('data-iframe-src'));}},destroy:function(){this._super.apply(this,arguments);this.stopVideo();},_onPlayButtonClick:function(e){var $img=$(e.currentTarget);var src=$img.parent().find('[data-iframe-src]').attr('data-iframe-src');this.playVideo(src);},_onPreviewClick:function(e){var $img=$(e.currentTarget);var src=$img.attr('data-iframe-src');this.playVideo(src);},playVideo:function(src){var $iframe=$("<iframe/>",{"class":"o_video_dialog_iframe","frameborder":0});$iframe.attr('src',src.replace('autoplay=0','autoplay=1'));this.$target.append($iframe);this.$target.find('img.video_preview').addClass('d-none');this.$target.find('img.play_button').addClass('d-none');},stopVideo:function(){this.$target.find('iframe').remove();this.$target.find('img.video_preview').removeClass('d-none');this.$target.find('img.play_button').removeClass('d-none');},});});;

/* /website_sale_delivery/static/src/js/website_sale_delivery.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale_delivery.checkout',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var _t=core._t;var concurrency=require('web.concurrency');var dp=new concurrency.DropPrevious();publicWidget.registry.websiteSaleDelivery=publicWidget.Widget.extend({selector:'.oe_website_sale',events:{'change select[name="shipping_id"]':'_onSetAddress','click #delivery_carrier .o_delivery_carrier_select':'_onCarrierClick',},start:function(){var self=this;var $carriers=$('#delivery_carrier input[name="delivery_type"]');if($carriers.length>0){$carriers.filter(':checked').click();}
_.each($carriers,function(carrierInput,k){self._showLoading($(carrierInput));self._rpc({route:'/shop/carrier_rate_shipment',params:{'carrier_id':carrierInput.value,},}).then(self._handleCarrierUpdateResultBadge.bind(self));});return this._super.apply(this,arguments);},_showLoading:function($carrierInput){$carrierInput.siblings('.o_wsale_delivery_badge_price').html('<span class="fa fa-spinner fa-spin"/>');},_handleCarrierUpdateResult:function(result){this._handleCarrierUpdateResultBadge(result);var $payButton=$('#o_payment_form_pay');var $amountDelivery=$('#order_delivery .monetary_field');var $amountUntaxed=$('#order_total_untaxed .monetary_field');var $amountTax=$('#order_total_taxes .monetary_field');var $amountTotal=$('#order_total .monetary_field');if(result.status===true){$amountDelivery.html(result.new_amount_delivery);$amountUntaxed.html(result.new_amount_untaxed);$amountTax.html(result.new_amount_tax);$amountTotal.html(result.new_amount_total);$payButton.data('disabled_reasons').carrier_selection=false;$payButton.prop('disabled',_.contains($payButton.data('disabled_reasons'),true));}else{$amountDelivery.html(result.new_amount_delivery);$amountUntaxed.html(result.new_amount_untaxed);$amountTax.html(result.new_amount_tax);$amountTotal.html(result.new_amount_total);}},_handleCarrierUpdateResultBadge:function(result){var $carrierBadge=$('#delivery_carrier input[name="delivery_type"][value='+result.carrier_id+'] ~ .o_wsale_delivery_badge_price');if(result.status===true){if(result.is_free_delivery){$carrierBadge.text(_t('Free'));}else{$carrierBadge.html(result.new_amount_delivery);}
$carrierBadge.removeClass('o_wsale_delivery_carrier_error');}else{$carrierBadge.addClass('o_wsale_delivery_carrier_error');$carrierBadge.text(result.error_message);}},_onCarrierClick:function(ev){var $radio=$(ev.currentTarget).find('input[type="radio"]');this._showLoading($radio);$radio.prop("checked",true);var $payButton=$('#o_payment_form_pay');$payButton.prop('disabled',true);$payButton.data('disabled_reasons',$payButton.data('disabled_reasons')||{});$payButton.data('disabled_reasons').carrier_selection=true;dp.add(this._rpc({route:'/shop/update_carrier',params:{carrier_id:$radio.val(),},})).then(this._handleCarrierUpdateResult.bind(this));},_onSetAddress:function(ev){var value=$(ev.currentTarget).val();var $providerFree=$('select[name="country_id"]:not(.o_provider_restricted), select[name="state_id"]:not(.o_provider_restricted)');var $providerRestricted=$('select[name="country_id"].o_provider_restricted, select[name="state_id"].o_provider_restricted');if(value===0){$providerFree.hide().attr('disabled',true);$providerRestricted.show().attr('disabled',false).change();}else{$providerFree.show().attr('disabled',false).change();$providerRestricted.hide().attr('disabled',true);}},});});;

/* /website_sale_coupon_delivery/static/src/js/website_sale_coupon_delivery.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale_coupon_delivery.checkout',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');require('website_sale_delivery.checkout');var _t=core._t;publicWidget.registry.websiteSaleDelivery.include({_handleCarrierUpdateResult:function(result){this._super.apply(this,arguments);if(result.new_amount_order_discounted){$('#order_discounted').html(result.new_amount_order_discounted);}},_handleCarrierUpdateResultBadge:function(result){this._super.apply(this,arguments);if(result.new_amount_order_discounted){$('#delivery_carrier .badge:not(.o_wsale_delivery_carrier_error)').text(_t('Free'));}},});});;

/* /website_rating/static/src/js/portal_chatter.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('rating.portal.chatter',function(require){'use strict';var core=require('web.core');var portalChatter=require('portal.chatter');var utils=require('web.utils');var time=require('web.time');var _t=core._t;var PortalChatter=portalChatter.PortalChatter;var qweb=core.qweb;var STAR_RATING_RATIO=2;PortalChatter.include({events:_.extend({},PortalChatter.prototype.events,{'click .o_website_rating_select':'_onClickStarDomain','click .o_website_rating_select_text':'_onClickStarDomainReset','click .o_wrating_js_publisher_comment_btn':'_onClickPublisherComment','click .o_wrating_js_publisher_comment_edit':'_onClickPublisherComment','click .o_wrating_js_publisher_comment_delete':'_onClickPublisherCommentDelete','click .o_wrating_js_publisher_comment_submit':'_onClickPublisherCommentSubmit','click .o_wrating_js_publisher_comment_cancel':'_onClickPublisherCommentCancel',}),xmlDependencies:(PortalChatter.prototype.xmlDependencies||[]).concat(['/website_rating/static/src/xml/portal_tools.xml','/website_rating/static/src/xml/portal_chatter.xml']),init:function(parent,options){this._super.apply(this,arguments);if(!_.contains(this.options,'display_rating')){this.options=_.defaults(this.options,{'display_rating':false,'rating_default_value':0.0,});}
this.set('rating_card_values',{});this.set('rating_value',false);this.on("change:rating_value",this,this._onChangeRatingDomain);},preprocessMessages:function(messages){var self=this;messages=this._super.apply(this,arguments);if(this.options['display_rating']){_.each(messages,function(m,i){m.rating_value=self.roundToHalf(m['rating_value']/STAR_RATING_RATIO);m.rating=self._preprocessCommentData(m.rating,i);});}
this.messages=messages;return messages;},roundToHalf:function(value){var converted=parseFloat(value);var decimal=(converted-parseInt(converted,10));decimal=Math.round(decimal*10);if(decimal===5){return(parseInt(converted,10)+0.5);}
if((decimal<3)||(decimal>7)){return Math.round(converted);}else{return(parseInt(converted,10)+0.5);}},_chatterInit:function(){var self=this;return this._super.apply(this,arguments).then(function(result){if(!result['rating_stats']){return;}
var ratingData={'avg':Math.round(result['rating_stats']['avg']/STAR_RATING_RATIO*100)/100,'percent':[],};_.each(_.keys(result['rating_stats']['percent']).reverse(),function(rating){if(rating%2===0){ratingData['percent'].push({'num':rating/STAR_RATING_RATIO,'percent':utils.round_precision(result['rating_stats']['percent'][rating],0.01),});}});self.set('rating_card_values',ratingData);});},_messageFetchPrepareParams:function(){var params=this._super.apply(this,arguments);if(this.options['display_rating']){params['rating_include']=true;}
return params;},_newPublisherCommentData:function(messageIndex){return{mes_index:messageIndex,publisher_id:this.options.partner_id,publisher_avatar:_.str.sprintf('/web/image/%s/%s/image_128/50x50','res.partner',this.options.partner_id),publisher_name:_t("Write your comment"),publisher_datetime:'',publisher_comment:'',};},_preprocessCommentData:function(rawRating,messageIndex){var ratingData={id:rawRating.id,mes_index:messageIndex,publisher_datetime:rawRating.publisher_datetime?moment(time.str_to_datetime(rawRating.publisher_datetime)).format('MMMM Do YYYY, h:mm:ss a'):"",publisher_comment:rawRating.publisher_comment?rawRating.publisher_comment:'',};if(rawRating.publisher_id&&rawRating.publisher_id.length>=2){ratingData.publisher_id=rawRating.publisher_id[0];ratingData.publisher_name=rawRating.publisher_id[1];ratingData.publisher_avatar=_.str.sprintf('/web/image/%s/%s/image_128/50x50','res.partner',ratingData.publisher_id);}
var commentData=_.extend(this._newPublisherCommentData(messageIndex),ratingData);return commentData;},_getCommentContainer:function($source){return $source.parents(".o_wrating_publisher_container").first().find(".o_wrating_publisher_comment").first();},_getCommentButton:function($source){return $source.parents(".o_wrating_publisher_container").first().find(".o_wrating_js_publisher_comment_btn").first();},_getCommentTextarea:function($source){return $source.parents(".o_wrating_publisher_container").first().find(".o_portal_rating_comment_input").first();},_focusTextComment:function($source){this._getCommentTextarea($source).focus();},_onClickStarDomain:function(ev){var $tr=this.$(ev.currentTarget);var num=$tr.data('star');if($tr.css('opacity')==='1'){this.set('rating_value',num);this.$('.o_website_rating_select').css({'opacity':0.5,});this.$('.o_website_rating_select_text[data-star="'+num+'"]').css({'visibility':'visible','opacity':1,});this.$('.o_website_rating_select[data-star="'+num+'"]').css({'opacity':1,});}},_onClickStarDomainReset:function(ev){ev.stopPropagation();ev.preventDefault();this.set('rating_value',false);this.$('.o_website_rating_select_text').css('visibility','hidden');this.$('.o_website_rating_select').css({'opacity':1,});},_onClickPublisherComment:function(ev){var $source=this.$(ev.currentTarget);if(this._getCommentTextarea($source).length===1){this._getCommentContainer($source).empty();return;}
var messageIndex=$source.data("mes_index");var data={is_publisher:this.options['is_user_publisher']};data.rating=this._newPublisherCommentData(messageIndex);var oldRating=this.messages[messageIndex].rating;data.rating.publisher_comment=oldRating.publisher_comment?oldRating.publisher_comment:'';this._getCommentContainer($source).html($(qweb.render("website_rating.chatter_rating_publisher_form",data)));this._focusTextComment($source);},_onClickPublisherCommentDelete:function(ev){var self=this;var $source=this.$(ev.currentTarget);var messageIndex=$source.data("mes_index");var ratingId=this.messages[messageIndex].rating.id;this._rpc({route:'/website/rating/comment',params:{"rating_id":ratingId,"publisher_comment":''}}).then(function(res){self.messages[messageIndex].rating=self._preprocessCommentData(res,messageIndex);self._getCommentButton($source).removeClass("d-none");self._getCommentContainer($source).empty();});},_onClickPublisherCommentSubmit:function(ev){var self=this;var $source=this.$(ev.currentTarget);var messageIndex=$source.data("mes_index");var comment=this._getCommentTextarea($source).val();var ratingId=this.messages[messageIndex].rating.id;this._rpc({route:'/website/rating/comment',params:{"rating_id":ratingId,"publisher_comment":comment}}).then(function(res){self.messages[messageIndex].rating=self._preprocessCommentData(res,messageIndex);if(self.messages[messageIndex].rating.publisher_comment!==''){self._getCommentButton($source).addClass('d-none');self._getCommentContainer($source).html($(qweb.render("website_rating.chatter_rating_publisher_comment",{rating:self.messages[messageIndex].rating,is_publisher:self.options.is_user_publisher})));}else{self._getCommentButton($source).removeClass("d-none");self._getCommentContainer($source).empty();}});},_onClickPublisherCommentCancel:function(ev){var $source=this.$(ev.currentTarget);var messageIndex=$source.data("mes_index");var comment=this.messages[messageIndex].rating.publisher_comment;if(comment){var data={rating:this.messages[messageIndex].rating,is_publisher:this.options.is_user_publisher};this._getCommentContainer($source).html($(qweb.render("website_rating.chatter_rating_publisher_comment",data)));}else{this._getCommentContainer($source).empty();}},_onChangeRatingDomain:function(){var domain=[];if(this.get('rating_value')){domain=[['rating_value','=',this.get('rating_value')*STAR_RATING_RATIO]];}
this._changeCurrentPage(1,domain);},});});;

/* /website_rating/static/src/js/portal_composer.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('rating.portal.composer',function(require){'use strict';var core=require('web.core');var portalComposer=require('portal.composer');var _t=core._t;var PortalComposer=portalComposer.PortalComposer;var STAR_RATING_RATIO=2;PortalComposer.include({events:_.extend({},PortalComposer.prototype.events,{'click .stars i':'_onClickStar','mouseleave .stars':'_onMouseleaveStarBlock','mousemove .stars i':'_onMoveStar','mouseleave .stars i':'_onMoveLeaveStar',}),init:function(parent,options){this._super.apply(this,arguments);if(options.default_rating_value){options.default_rating_value=parseFloat(options.default_rating_value)/STAR_RATING_RATIO;}
this.options=_.defaults(this.options,{'default_message':false,'default_message_id':false,'default_rating_value':false,'force_submit_url':false,});this.labels={'0':"",'1':_t("I hate it"),'2':_t("I don't like it"),'3':_t("It's okay"),'4':_t("I like it"),'5':_t("I love it"),};this.user_click=false;this.set("star_value",this.options.default_rating_value);this.on("change:star_value",this,this._onChangeStarValue);},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self.$input=self.$('input[name="rating_value"]');self.$star_list=self.$('.stars').find('i');self.set("star_value",self.options.default_rating_value);self.$input.val(self.options.default_rating_value*STAR_RATING_RATIO);});},_onChangeStarValue:function(){var val=this.get("star_value");var index=Math.floor(val);var decimal=val-index;this.$star_list.removeClass('fa-star fa-star-half-o').addClass('fa-star-o');this.$('.stars').find("i:lt("+index+")").removeClass('fa-star-o fa-star-half-o').addClass('fa-star');if(decimal){this.$('.stars').find("i:eq("+index+")").removeClass('fa-star-o fa-star fa-star-half-o').addClass('fa-star-half-o');}
this.$('.rate_text .badge').text(this.labels[index]);},_onClickStar:function(ev){var index=this.$('.stars i').index(ev.currentTarget);this.set("star_value",index+1);this.user_click=true;this.$input.val(this.get("star_value")*STAR_RATING_RATIO);},_onMouseleaveStarBlock:function(){this.$('.rate_text').hide();},_onMoveStar:function(ev){var index=this.$('.stars i').index(ev.currentTarget);this.$('.rate_text').show();this.set("star_value",index+1);},_onMoveLeaveStar:function(){if(!this.user_click){this.set("star_value",parseInt(this.$input.val()));}
this.user_click=false;},});});;

/* /website_rating/static/src/js/portal_rating_composer.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.rating.composer',function(require){'use strict';var publicWidget=require('web.public.widget');var session=require('web.session');var portalComposer=require('portal.composer');var PortalComposer=portalComposer.PortalComposer;var STAR_RATING_RATIO=2;var RatingPopupComposer=publicWidget.Widget.extend({template:'website_rating.PopupComposer',xmlDependencies:['/portal/static/src/xml/portal_chatter.xml','/website_rating/static/src/xml/portal_tools.xml','/website_rating/static/src/xml/portal_rating_composer.xml',],init:function(parent,options){this._super.apply(this,arguments);this.rating_avg=Math.round(options['ratingAvg']/STAR_RATING_RATIO*100)/100||0.0;this.rating_total=options['ratingTotal']||0.0;this.options=_.defaults({},options,{'token':false,'res_model':false,'res_id':false,'pid':0,'display_composer':options['disable_composer']?false:!session.is_website_user,'display_rating':true,'csrf_token':odoo.csrf_token,'user_id':session.user_id,});},start:function(){var defs=[];defs.push(this._super.apply(this,arguments));this._composer=new PortalComposer(this,this.options);defs.push(this._composer.replace(this.$('.o_portal_chatter_composer')));return Promise.all(defs);},});publicWidget.registry.RatingPopupComposer=publicWidget.Widget.extend({selector:'.o_rating_popup_composer',start:function(){var ratingPopupData=this.$el.data();var ratingPopup=new RatingPopupComposer(this,ratingPopupData);return Promise.all([this._super.apply(this,arguments),ratingPopup.appendTo(this.$el)]);},});});;

/* /web_tour/static/src/js/public/tour_manager.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web_tour.public.TourManager',function(require){'use strict';var TourManager=require('web_tour.TourManager');var lazyloader=require('web.public.lazyloader');TourManager.include({_waitBeforeTourStart:function(){return this._super.apply(this,arguments).then(function(){return lazyloader.allScriptsLoaded;}).then(function(){return new Promise(function(resolve){setTimeout(resolve);});});},});});;

/* /web_unsplash/static/src/js/unsplash_beacon.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web_unsplash.beacon',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.UnsplashBeacon=publicWidget.Widget.extend({selector:'#wrapwrap',start:function(){var unsplashImages=_.map(this.$('img[src*="/unsplash/"]'),function(img){return img.src.split('/unsplash/')[1].split('/')[0];});if(unsplashImages.length){this._rpc({route:'/web_unsplash/get_app_id',}).then(function(appID){if(!appID){return;}
$.get('https://views.unsplash.com/v',{'photo_id':unsplashImages.join(','),'app_id':appID,});});}
return this._super.apply(this,arguments);},});});;

/* /auth_signup/static/src/js/signup.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('auth_signup.signup',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.SignUpForm=publicWidget.Widget.extend({selector:'.oe_signup_form',events:{'submit':'_onSubmit',},_onSubmit:function(){var $btn=this.$('.oe_login_buttons > button[type="submit"]');$btn.attr('disabled','disabled');$btn.prepend('<i class="fa fa-refresh fa-spin"/> ');},});});;

/* /account/static/src/js/account_portal_sidebar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('account.AccountPortalSidebar',function(require){'use strict';var publicWidget=require('web.public.widget');var PortalSidebar=require('portal.PortalSidebar');var utils=require('web.utils');publicWidget.registry.AccountPortalSidebar=PortalSidebar.extend({selector:'.o_portal_invoice_sidebar',events:{'click .o_portal_invoice_print':'_onPrintInvoice',},start:function(){var def=this._super.apply(this,arguments);var $invoiceHtml=this.$el.find('iframe#invoice_html');var updateIframeSize=this._updateIframeSize.bind(this,$invoiceHtml);$(window).on('resize',updateIframeSize);var iframeDoc=$invoiceHtml[0].contentDocument||$invoiceHtml[0].contentWindow.document;if(iframeDoc.readyState==='complete'){updateIframeSize();}else{$invoiceHtml.on('load',updateIframeSize);}
return def;},_updateIframeSize:function($el){var $wrapwrap=$el.contents().find('div#wrapwrap');$el.height(0);$el.height($wrapwrap[0].scrollHeight);if(!utils.isValidAnchor(window.location.hash)){return;}
var $target=$(window.location.hash);if(!$target.length){return;}
$('html, body').scrollTop($target.offset().top);},_onPrintInvoice:function(ev){ev.preventDefault();var href=$(ev.currentTarget).attr('href');this._printIframeContent(href);},});});;

/* /payment/static/lib/jquery.payment/jquery.payment.js defined in bundle 'web.assets_frontend_lazy' */
(function(){var $,cardFromNumber,cardFromType,cards,defaultFormat,formatBackCardNumber,formatBackExpiry,formatCardNumber,formatExpiry,formatForwardExpiry,formatForwardSlashAndSpace,hasTextSelected,luhnCheck,reFormatCVC,reFormatCardNumber,reFormatExpiry,reFormatNumeric,replaceFullWidthChars,restrictCVC,restrictCardNumber,restrictExpiry,restrictNumeric,safeVal,setCardType,__slice=[].slice,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i;}return-1;};$=window.jQuery||window.Zepto||window.$;$.payment={};$.payment.fn={};$.fn.payment=function(){var args,method;method=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return $.payment.fn[method].apply(this,args);};defaultFormat=/(\d{1,4})/g;$.payment.cards=cards=[{type:'maestro',patterns:[5018,502,503,506,56,58,639,6220,67],format:defaultFormat,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:true},{type:'forbrugsforeningen',patterns:[600],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'dankort',patterns:[5019],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'visa',patterns:[4],format:defaultFormat,length:[13,16],cvcLength:[3],luhn:true},{type:'mastercard',patterns:[51,52,53,54,55,22,23,24,25,26,27],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'amex',patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:true},{type:'dinersclub',patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:true},{type:'discover',patterns:[60,64,65,622],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'unionpay',patterns:[62,88],format:defaultFormat,length:[16,17,18,19],cvcLength:[3],luhn:false},{type:'jcb',patterns:[35],format:defaultFormat,length:[16],cvcLength:[3],luhn:true}];cardFromNumber=function(num){var card,p,pattern,_i,_j,_len,_len1,_ref;num=(num+'').replace(/\D/g,'');for(_i=0,_len=cards.length;_i<_len;_i++){card=cards[_i];_ref=card.patterns;for(_j=0,_len1=_ref.length;_j<_len1;_j++){pattern=_ref[_j];p=pattern+'';if(num.substr(0,p.length)===p){return card;}}}};cardFromType=function(type){var card,_i,_len;for(_i=0,_len=cards.length;_i<_len;_i++){card=cards[_i];if(card.type===type){return card;}}};luhnCheck=function(num){var digit,digits,odd,sum,_i,_len;odd=true;sum=0;digits=(num+'').split('').reverse();for(_i=0,_len=digits.length;_i<_len;_i++){digit=digits[_i];digit=parseInt(digit,10);if((odd=!odd)){digit*=2;}
if(digit>9){digit-=9;}
sum+=digit;}
return sum%10===0;};hasTextSelected=function($target){var _ref;if(($target.prop('selectionStart')!=null)&&$target.prop('selectionStart')!==$target.prop('selectionEnd')){return true;}
if((typeof document!=="undefined"&&document!==null?(_ref=document.selection)!=null?_ref.createRange:void 0:void 0)!=null){if(document.selection.createRange().text){return true;}}
return false;};safeVal=function(value,$target){var currPair,cursor,digit,error,last,prevPair;try{cursor=$target.prop('selectionStart');}catch(_error){error=_error;cursor=null;}
last=$target.val();$target.val(value);if(cursor!==null&&$target.is(":focus")){if(cursor===last.length){cursor=value.length;}
if(last!==value){prevPair=last.slice(cursor-1,+cursor+1||9e9);currPair=value.slice(cursor-1,+cursor+1||9e9);digit=value[cursor];if(/\d/.test(digit)&&prevPair===(""+digit+" ")&&currPair===(" "+digit)){cursor=cursor+1;}}
$target.prop('selectionStart',cursor);return $target.prop('selectionEnd',cursor);}};replaceFullWidthChars=function(str){var chars,chr,fullWidth,halfWidth,idx,value,_i,_len;if(str==null){str='';}
fullWidth='\uff10\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19';halfWidth='0123456789';value='';chars=str.split('');for(_i=0,_len=chars.length;_i<_len;_i++){chr=chars[_i];idx=fullWidth.indexOf(chr);if(idx>-1){chr=halfWidth[idx];}
value+=chr;}
return value;};reFormatNumeric=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=value.replace(/\D/g,'');return safeVal(value,$target);});};reFormatCardNumber=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=$.payment.formatCardNumber(value);return safeVal(value,$target);});};formatCardNumber=function(e){var $target,card,digit,length,re,upperLength,value;digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
$target=$(e.currentTarget);value=$target.val();card=cardFromNumber(value+digit);length=(value.replace(/\D/g,'')+digit).length;upperLength=16;if(card){upperLength=card.length[card.length.length-1];}
if(length>=upperLength){return;}
if(($target.prop('selectionStart')!=null)&&$target.prop('selectionStart')!==value.length){return;}
if(card&&card.type==='amex'){re=/^(\d{4}|\d{4}\s\d{6})$/;}else{re=/(?:^|\s)(\d{4})$/;}
if(re.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value+' '+digit);});}else if(re.test(value+digit)){e.preventDefault();return setTimeout(function(){return $target.val(value+digit+' ');});}};formatBackCardNumber=function(e){var $target,value;$target=$(e.currentTarget);value=$target.val();if(e.which!==8){return;}
if(($target.prop('selectionStart')!=null)&&$target.prop('selectionStart')!==value.length){return;}
if(/\d\s$/.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value.replace(/\d\s$/,''));});}else if(/\s\d?$/.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value.replace(/\d$/,''));});}};reFormatExpiry=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=$.payment.formatExpiry(value);return safeVal(value,$target);});};formatExpiry=function(e){var $target,digit,val;digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
$target=$(e.currentTarget);val=$target.val()+digit;if(/^\d$/.test(val)&&(val!=='0'&&val!=='1')){e.preventDefault();return setTimeout(function(){return $target.val("0"+val+" / ");});}else if(/^\d\d$/.test(val)){e.preventDefault();return setTimeout(function(){var m1,m2;m1=parseInt(val[0],10);m2=parseInt(val[1],10);if(m2>2&&m1!==0){return $target.val("0"+m1+" / "+m2);}else{return $target.val(""+val+" / ");}});}};formatForwardExpiry=function(e){var $target,digit,val;digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
$target=$(e.currentTarget);val=$target.val();if(/^\d\d$/.test(val)){return $target.val(""+val+" / ");}};formatForwardSlashAndSpace=function(e){var $target,val,which;which=String.fromCharCode(e.which);if(!(which==='/'||which===' ')){return;}
$target=$(e.currentTarget);val=$target.val();if(/^\d$/.test(val)&&val!=='0'){return $target.val("0"+val+" / ");}};formatBackExpiry=function(e){var $target,value;$target=$(e.currentTarget);value=$target.val();if(e.which!==8){return;}
if(($target.prop('selectionStart')!=null)&&$target.prop('selectionStart')!==value.length){return;}
if(/\d\s\/\s$/.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value.replace(/\d\s\/\s$/,''));});}};reFormatCVC=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=value.replace(/\D/g,'').slice(0,4);return safeVal(value,$target);});};restrictNumeric=function(e){var input;if(e.metaKey||e.ctrlKey){return true;}
if(e.which===32){return false;}
if(e.which===0){return true;}
if(e.which<33){return true;}
input=String.fromCharCode(e.which);return!!/[\d\s]/.test(input);};restrictCardNumber=function(e){var $target,card,digit,value;$target=$(e.currentTarget);digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
if(hasTextSelected($target)){return;}
value=($target.val()+digit).replace(/\D/g,'');card=cardFromNumber(value);if(card){return value.length<=card.length[card.length.length-1];}else{return value.length<=16;}};restrictExpiry=function(e){var $target,digit,value;$target=$(e.currentTarget);digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
if(hasTextSelected($target)){return;}
value=$target.val()+digit;value=value.replace(/\D/g,'');if(value.length>6){return false;}};restrictCVC=function(e){var $target,digit,val;$target=$(e.currentTarget);digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
if(hasTextSelected($target)){return;}
val=$target.val()+digit;return val.length<=4;};setCardType=function(e){var $target,allTypes,card,cardType,val;$target=$(e.currentTarget);val=$target.val();cardType=$.payment.cardType(val)||'unknown';if(!$target.hasClass(cardType)){allTypes=(function(){var _i,_len,_results;_results=[];for(_i=0,_len=cards.length;_i<_len;_i++){card=cards[_i];_results.push(card.type);}
return _results;})();$target.removeClass('unknown');$target.removeClass(allTypes.join(' '));$target.addClass(cardType);$target.toggleClass('identified',cardType!=='unknown');return $target.trigger('payment.cardType',cardType);}};$.payment.fn.formatCardCVC=function(){this.on('keypress',restrictNumeric);this.on('keypress',restrictCVC);this.on('paste',reFormatCVC);this.on('change',reFormatCVC);this.on('input',reFormatCVC);return this;};$.payment.fn.formatCardExpiry=function(){this.on('keypress',restrictNumeric);this.on('keypress',restrictExpiry);this.on('keypress',formatExpiry);this.on('keypress',formatForwardSlashAndSpace);this.on('keypress',formatForwardExpiry);this.on('keydown',formatBackExpiry);this.on('change',reFormatExpiry);this.on('input',reFormatExpiry);return this;};$.payment.fn.formatCardNumber=function(){this.on('keypress',restrictNumeric);this.on('keypress',restrictCardNumber);this.on('keypress',formatCardNumber);this.on('keydown',formatBackCardNumber);this.on('keyup',setCardType);this.on('paste',reFormatCardNumber);this.on('change',reFormatCardNumber);this.on('input',reFormatCardNumber);this.on('input',setCardType);return this;};$.payment.fn.restrictNumeric=function(){this.on('keypress',restrictNumeric);this.on('paste',reFormatNumeric);this.on('change',reFormatNumeric);this.on('input',reFormatNumeric);return this;};$.payment.fn.cardExpiryVal=function(){return $.payment.cardExpiryVal($(this).val());};$.payment.cardExpiryVal=function(value){var month,prefix,year,_ref;_ref=value.split(/[\s\/]+/,2),month=_ref[0],year=_ref[1];if((year!=null?year.length:void 0)===2&&/^\d+$/.test(year)){prefix=(new Date).getFullYear();prefix=prefix.toString().slice(0,2);year=prefix+year;}
month=parseInt(month,10);year=parseInt(year,10);return{month:month,year:year};};$.payment.validateCardNumber=function(num){var card,_ref;num=(num+'').replace(/\s+|-/g,'');if(!/^\d+$/.test(num)){return false;}
card=cardFromNumber(num);if(!card){return false;}
return(_ref=num.length,__indexOf.call(card.length,_ref)>=0)&&(card.luhn===false||luhnCheck(num));};$.payment.validateCardExpiry=function(month,year){var currentTime,expiry,_ref;if(typeof month==='object'&&'month'in month){_ref=month,month=_ref.month,year=_ref.year;}
if(!(month&&year)){return false;}
month=$.trim(month);year=$.trim(year);if(!/^\d+$/.test(month)){return false;}
if(!/^\d+$/.test(year)){return false;}
if(!((1<=month&&month<=12))){return false;}
if(year.length===2){if(year<70){year="20"+year;}else{year="19"+year;}}
if(year.length!==4){return false;}
expiry=new Date(year,month);currentTime=new Date;expiry.setMonth(expiry.getMonth()-1);expiry.setMonth(expiry.getMonth()+1,1);return expiry>currentTime;};$.payment.validateCardCVC=function(cvc,type){var card,_ref;cvc=$.trim(cvc);if(!/^\d+$/.test(cvc)){return false;}
card=cardFromType(type);if(card!=null){return _ref=cvc.length,__indexOf.call(card.cvcLength,_ref)>=0;}else{return cvc.length>=3&&cvc.length<=4;}};$.payment.cardType=function(num){var _ref;if(!num){return null;}
return((_ref=cardFromNumber(num))!=null?_ref.type:void 0)||null;};$.payment.formatCardNumber=function(num){var card,groups,upperLength,_ref;num=num.replace(/\D/g,'');card=cardFromNumber(num);if(!card){return num;}
upperLength=card.length[card.length.length-1];num=num.slice(0,upperLength);if(card.format.global){return(_ref=num.match(card.format))!=null?_ref.join(' '):void 0;}else{groups=card.format.exec(num);if(groups==null){return;}
groups.shift();groups=$.grep(groups,function(n){return n;});return groups.join(' ');}};$.payment.formatExpiry=function(expiry){var mon,parts,sep,year;parts=expiry.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/);if(!parts){return'';}
mon=parts[1]||'';sep=parts[2]||'';year=parts[3]||'';if(year.length>0){sep=' / ';}else if(sep===' /'){mon=mon.substring(0,1);sep='';}else if(mon.length===2||sep.length>0){sep=' / ';}else if(mon.length===1&&(mon!=='0'&&mon!=='1')){mon="0"+mon;sep=' / ';}
return mon+sep+year;};}).call(this);;

/* /payment/static/src/js/payment_portal.js defined in bundle 'web.assets_frontend_lazy' */
$(function(){$('input#cc_number').payment('formatCardNumber');$('input#cc_cvc').payment('formatCardCVC');$('input#cc_expiry').payment('formatCardExpiry')
$('input#cc_number').on('focusout',function(e){var valid_value=$.payment.validateCardNumber(this.value);var card_type=$.payment.cardType(this.value);if(card_type){$(this).parent('.form-group').children('.card_placeholder').removeClass().addClass('card_placeholder '+card_type);$(this).parent('.form-group').children('input[name="cc_brand"]').val(card_type)}
else{$(this).parent('.form-group').children('.card_placeholder').removeClass().addClass('card_placeholder');}
if(valid_value){$(this).parent('.form-group').addClass('o_has_success').find('.form-control, .custom-select').addClass('is-valid');$(this).parent('.form-group').removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');$(this).siblings('.o_invalid_field').remove();}
else{$(this).parent('.form-group').addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');$(this).parent('.form-group').removeClass('o_has_success').find('.form-control, .custom-select').removeClass('is-valid');}});$('input#cc_cvc').on('focusout',function(e){var cc_nbr=$(this).parents('.oe_cc').find('#cc_number').val();var card_type=$.payment.cardType(cc_nbr);var valid_value=$.payment.validateCardCVC(this.value,card_type);if(valid_value){$(this).parent('.form-group').addClass('o_has_success').find('.form-control, .custom-select').addClass('is-valid');$(this).parent('.form-group').removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');$(this).siblings('.o_invalid_field').remove();}
else{$(this).parent('.form-group').addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');$(this).parent('.form-group').removeClass('o_has_success').find('.form-control, .custom-select').removeClass('is-valid');}});$('input#cc_expiry').on('focusout',function(e){var expiry_value=$.payment.cardExpiryVal(this.value);var month=expiry_value.month||'';var year=expiry_value.year||'';var valid_value=$.payment.validateCardExpiry(month,year);if(valid_value){$(this).parent('.form-group').addClass('o_has_success').find('.form-control, .custom-select').addClass('is-valid');$(this).parent('.form-group').removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');$(this).siblings('.o_invalid_field').remove();}
else{$(this).parent('.form-group').addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');$(this).parent('.form-group').removeClass('o_has_success').find('.form-control, .custom-select').removeClass('is-valid');}});$('select[name="pm_acquirer_id"]').on('change',function(){var acquirer_id=$(this).val();$('.acquirer').addClass('d-none');$('.acquirer[data-acquirer-id="'+acquirer_id+'"]').removeClass('d-none');});});;

/* /payment/static/src/js/payment_transaction_portal.js defined in bundle 'web.assets_frontend_lazy' */
;

/* /payment/static/src/js/payment_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('payment.payment_form',function(require){"use strict";var core=require('web.core');var Dialog=require('web.Dialog');var publicWidget=require('web.public.widget');var _t=core._t;publicWidget.registry.PaymentForm=publicWidget.Widget.extend({selector:'.o_payment_form',events:{'submit':'onSubmit','click #o_payment_form_pay':'payEvent','click #o_payment_form_add_pm':'addPmEvent','click button[name="delete_pm"]':'deletePmEvent','click .o_payment_form_pay_icon_more':'onClickMorePaymentIcon','click .o_payment_acquirer_select':'radioClickEvent',},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self.options=_.extend(self.$el.data(),self.options);self.updateNewPaymentDisplayStatus();$('[data-toggle="tooltip"]').tooltip();});},displayError:function(title,message){var $checkedRadio=this.$('input[type="radio"]:checked'),acquirerID=this.getAcquirerIdFromRadio($checkedRadio[0]);var $acquirerForm;if(this.isNewPaymentRadio($checkedRadio[0])){$acquirerForm=this.$('#o_payment_add_token_acq_'+acquirerID);}
else if(this.isFormPaymentRadio($checkedRadio[0])){$acquirerForm=this.$('#o_payment_form_acq_'+acquirerID);}
if($checkedRadio.length===0){return new Dialog(null,{title:_t('Error: ')+_.str.escapeHTML(title),size:'medium',$content:"<p>"+(_.str.escapeHTML(message)||"")+"</p>",buttons:[{text:_t('Ok'),close:true}]}).open();}else{this.$('#payment_error').remove();var messageResult='<div class="alert alert-danger mb4" id="payment_error">';if(title!=''){messageResult=messageResult+'<b>'+_.str.escapeHTML(title)+':</b></br>';}
messageResult=messageResult+_.str.escapeHTML(message)+'</div>';$acquirerForm.append(messageResult);}},hideError:function(){this.$('#payment_error').remove();},getAcquirerIdFromRadio:function(element){return $(element).data('acquirer-id');},getFormData:function($form){var unindexed_array=$form.serializeArray();var indexed_array={};$.map(unindexed_array,function(n,i){indexed_array[n.name]=n.value;});return indexed_array;},isFormPaymentRadio:function(element){return $(element).data('form-payment')==='True';},isNewPaymentRadio:function(element){return $(element).data('s2s-payment')==='True';},updateNewPaymentDisplayStatus:function(){var checked_radio=this.$('input[type="radio"]:checked');this.$('[id*="o_payment_add_token_acq_"]').addClass('d-none');this.$('[id*="o_payment_form_acq_"]').addClass('d-none');if(checked_radio.length!==1){return;}
checked_radio=checked_radio[0];var acquirer_id=this.getAcquirerIdFromRadio(checked_radio);if(this.isNewPaymentRadio(checked_radio)){this.$('#o_payment_add_token_acq_'+acquirer_id).removeClass('d-none');}
else if(this.isFormPaymentRadio(checked_radio)){this.$('#o_payment_form_acq_'+acquirer_id).removeClass('d-none');}},disableButton:function(button){$(button).attr('disabled',true);$(button).children('.fa-lock').removeClass('fa-lock');$(button).prepend('<span class="o_loader"><i class="fa fa-refresh fa-spin"></i>&nbsp;</span>');},enableButton:function(button){$(button).attr('disabled',false);$(button).children('.fa').addClass('fa-lock');$(button).find('span.o_loader').remove();},_parseError:function(e){if(e.message.data.arguments[1]){return e.message.data.arguments[0]+e.message.data.arguments[1];}
return e.message.data.arguments[0];},payEvent:function(ev){ev.preventDefault();var form=this.el;var checked_radio=this.$('input[type="radio"]:checked');var self=this;if(ev.type==='submit'){var button=$(ev.target).find('*[type="submit"]')[0]}else{var button=ev.target;}
if(checked_radio.length===1){checked_radio=checked_radio[0];var acquirer_id=this.getAcquirerIdFromRadio(checked_radio);var acquirer_form=false;if(this.isNewPaymentRadio(checked_radio)){acquirer_form=this.$('#o_payment_add_token_acq_'+acquirer_id);}else{acquirer_form=this.$('#o_payment_form_acq_'+acquirer_id);}
var inputs_form=$('input',acquirer_form);var ds=$('input[name="data_set"]',acquirer_form)[0];if(this.isNewPaymentRadio(checked_radio)){if(this.options.partnerId===undefined){console.warn('payment_form: unset partner_id when adding new token; things could go wrong');}
var form_data=this.getFormData(inputs_form);var wrong_input=false;inputs_form.toArray().forEach(function(element){if($(element).attr('type')=='hidden'){return true;}
$(element).closest('div.form-group').removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');$(element).siblings(".o_invalid_field").remove();$(element).trigger("focusout");if(element.dataset.isRequired&&element.value.length===0){$(element).closest('div.form-group').addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');$(element).closest('div.form-group').append('<div style="color: red" class="o_invalid_field" aria-invalid="true">'+_.str.escapeHTML("The value is invalid.")+'</div>');wrong_input=true;}
else if($(element).closest('div.form-group').hasClass('o_has_error')){wrong_input=true;$(element).closest('div.form-group').append('<div style="color: red" class="o_invalid_field" aria-invalid="true">'+_.str.escapeHTML("The value is invalid.")+'</div>');}});if(wrong_input){return;}
this.disableButton(button);return this._rpc({route:ds.dataset.createRoute,params:form_data,}).then(function(data){if(data.result){if(data['3d_secure']!==false){$("body").html(data['3d_secure']);}
else{checked_radio.value=data.id;form.submit();return new Promise(function(){});}}
else{if(data.error){self.displayError('',data.error);}else{self.displayError(_t('Server Error'),_t('e.g. Your credit card details are wrong. Please verify.'));}}
self.enableButton(button);}).guardedCatch(function(error){error.event.preventDefault();self.enableButton(button);self.displayError(_t('Server Error'),_t("We are not able to add your payment method at the moment.")+
self._parseError(error));});}
else if(this.isFormPaymentRadio(checked_radio)){this.disableButton(button);var $tx_url=this.$el.find('input[name="prepare_tx_url"]');if($tx_url.length===1){var form_save_token=acquirer_form.find('input[name="o_payment_form_save_token"]').prop('checked');return this._rpc({route:$tx_url[0].value,params:{'acquirer_id':parseInt(acquirer_id),'save_token':form_save_token,'access_token':self.options.accessToken,'success_url':self.options.successUrl,'error_url':self.options.errorUrl,'callback_method':self.options.callbackMethod,'order_id':self.options.orderId,},}).then(function(result){if(result){var newForm=document.createElement('form');newForm.setAttribute("method","post");newForm.setAttribute("provider",checked_radio.dataset.provider);newForm.hidden=true;newForm.innerHTML=result;var action_url=$(newForm).find('input[name="data_set"]').data('actionUrl');newForm.setAttribute("action",action_url);$(document.getElementsByTagName('body')[0]).append(newForm);$(newForm).find('input[data-remove-me]').remove();if(action_url){newForm.submit();return new Promise(function(){});}}
else{self.displayError(_t('Server Error'),_t("We are not able to redirect you to the payment form."));self.enableButton(button);}}).guardedCatch(function(error){error.event.preventDefault();self.displayError(_t('Server Error'),_t("We are not able to redirect you to the payment form.")+" "+
self._parseError(error));});}
else{this.displayError(_t("Cannot setup the payment"),_t("We're unable to process your payment."));self.enableButton(button);}}
else{this.disableButton(button);form.submit();return new Promise(function(){});}}
else{this.displayError(_t('No payment method selected'),_t('Please select a payment method.'));this.enableButton(button);}},addPmEvent:function(ev){ev.stopPropagation();ev.preventDefault();var checked_radio=this.$('input[type="radio"]:checked');var self=this;if(ev.type==='submit'){var button=$(ev.target).find('*[type="submit"]')[0]}else{var button=ev.target;}
if(checked_radio.length===1&&this.isNewPaymentRadio(checked_radio[0])){checked_radio=checked_radio[0];var acquirer_id=this.getAcquirerIdFromRadio(checked_radio);var acquirer_form=this.$('#o_payment_add_token_acq_'+acquirer_id);var inputs_form=$('input',acquirer_form);var form_data=this.getFormData(inputs_form);var ds=$('input[name="data_set"]',acquirer_form)[0];var wrong_input=false;inputs_form.toArray().forEach(function(element){if($(element).attr('type')=='hidden'){return true;}
$(element).closest('div.form-group').removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');$(element).siblings(".o_invalid_field").remove();$(element).trigger("focusout");if(element.dataset.isRequired&&element.value.length===0){$(element).closest('div.form-group').addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');var message='<div style="color: red" class="o_invalid_field" aria-invalid="true">'+_.str.escapeHTML("The value is invalid.")+'</div>';$(element).closest('div.form-group').append(message);wrong_input=true;}
else if($(element).closest('div.form-group').hasClass('o_has_error')){wrong_input=true;var message='<div style="color: red" class="o_invalid_field" aria-invalid="true">'+_.str.escapeHTML("The value is invalid.")+'</div>';$(element).closest('div.form-group').append(message);}});if(wrong_input){return;}
$(button).attr('disabled',true);$(button).children('.fa-plus-circle').removeClass('fa-plus-circle');$(button).prepend('<span class="o_loader"><i class="fa fa-refresh fa-spin"></i>&nbsp;</span>');this._rpc({route:ds.dataset.createRoute,params:form_data,}).then(function(data){if(data.result){if(data['3d_secure']!==false){$("body").html(data['3d_secure']);}
else{if(form_data.return_url){window.location=form_data.return_url;}
else{window.location.reload();}}}
else{if(data.error){self.displayError('',data.error);}else{self.displayError(_t('Server Error'),_t('e.g. Your credit card details are wrong. Please verify.'));}}
$(button).attr('disabled',false);$(button).children('.fa').addClass('fa-plus-circle');$(button).find('span.o_loader').remove();}).guardedCatch(function(error){error.event.preventDefault();$(button).attr('disabled',false);$(button).children('.fa').addClass('fa-plus-circle');$(button).find('span.o_loader').remove();self.displayError(_t('Server error'),_t("We are not able to add your payment method at the moment.</p>")+
self._parseError(error));});}
else{this.displayError(_t('No payment method selected'),_t('Please select the option to add a new payment method.'));}},onSubmit:function(ev){ev.stopPropagation();ev.preventDefault();var button=$(ev.target).find('*[type="submit"]')[0]
if(button.id==='o_payment_form_pay'){return this.payEvent(ev);}else if(button.id==='o_payment_form_add_pm'){return this.addPmEvent(ev);}
return;},deletePmEvent:function(ev){ev.stopPropagation();ev.preventDefault();var self=this;var pm_id=parseInt(ev.target.value);var tokenDelete=function(){self._rpc({model:'payment.token',method:'unlink',args:[pm_id],}).then(function(result){if(result===true){ev.target.closest('div').remove();}},function(){self.displayError(_t('Server Error'),_t("We are not able to delete your payment method at the moment."));});};this._rpc({model:'payment.token',method:'get_linked_records',args:[pm_id],}).then(function(result){if(result[pm_id].length>0){var content='';result[pm_id].forEach(function(sub){content+='<p><a href="'+sub.url+'" title="'+sub.description+'">'+sub.name+'</a><p/>';});content=$('<div>').html(_t('<p>This card is currently linked to the following records:<p/>')+content);new Dialog(self,{title:_t('Warning!'),size:'medium',$content:content,buttons:[{text:_t('Confirm Deletion'),classes:'btn-primary',close:true,click:tokenDelete},{text:_t('Cancel'),close:true}]}).open();}
else{tokenDelete();}},function(err,event){self.displayError(_t('Server Error'),_t("We are not able to delete your payment method at the moment.")+err.data.message);});},onClickMorePaymentIcon:function(ev){ev.preventDefault();ev.stopPropagation();var $listItems=$(ev.currentTarget).parents('ul').children('li');var $moreItem=$(ev.currentTarget).parents('li');$listItems.removeClass('d-none');$moreItem.addClass('d-none');},radioClickEvent:function(ev){$(ev.currentTarget).find('input[type="radio"]').prop("checked",true);this.updateNewPaymentDisplayStatus();},});return publicWidget.registry.PaymentForm;});;

/* /payment/static/src/js/payment_processing.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('payment.processing',function(require){'use strict';var publicWidget=require('web.public.widget');var ajax=require('web.ajax');var core=require('web.core');var _t=core._t;$.blockUI.defaults.css.border='0';$.blockUI.defaults.css["background-color"]='';$.blockUI.defaults.overlayCSS["opacity"]='0.9';publicWidget.registry.PaymentProcessing=publicWidget.Widget.extend({selector:'.o_payment_processing',xmlDependencies:['/payment/static/src/xml/payment_processing.xml'],_pollCount:0,start:function(){this.displayLoading();this.poll();return this._super.apply(this,arguments);},startPolling:function(){var timeout=3000;if(this._pollCount>=10&&this._pollCount<20){timeout=10000;}
else if(this._pollCount>=20){timeout=30000;}
setTimeout(this.poll.bind(this),timeout);this._pollCount++;},poll:function(){var self=this;ajax.jsonRpc('/payment/process/poll','call',{}).then(function(data){if(data.success===true){self.processPolledData(data.transactions);}
else{switch(data.error){case"tx_process_retry":break;case"no_tx_found":self.displayContent("payment.no_tx_found",{});break;default:self.displayContent("payment.exception",{exception_msg:data.error});break;}}
self.startPolling();}).guardedCatch(function(){self.displayContent("payment.rpc_error",{});self.startPolling();});},processPolledData:function(transactions){var render_values={'tx_draft':[],'tx_pending':[],'tx_authorized':[],'tx_done':[],'tx_cancel':[],'tx_error':[],};if(transactions.length>0&&['transfer','sepa_direct_debit'].indexOf(transactions[0].acquirer_provider)>=0){window.location=transactions[0].return_url;return;}
transactions.forEach(function(tx){var key='tx_'+tx.state;if(key in render_values){render_values[key].push(tx);}});function countTxInState(states){var nbTx=0;for(var prop in render_values){if(states.indexOf(prop)>-1&&render_values.hasOwnProperty(prop)){nbTx+=render_values[prop].length;}}
return nbTx;}
if(countTxInState(['tx_done','tx_error','tx_pending','tx_authorized'])===1){var tx=render_values['tx_done'][0]||render_values['tx_authorized'][0]||render_values['tx_error'][0];if(tx){window.location=tx.return_url;return;}}
this.displayContent("payment.display_tx_list",render_values);},displayContent:function(xmlid,render_values){var html=core.qweb.render(xmlid,render_values);$.unblockUI();this.$el.find('.o_payment_processing_content').html(html);},displayLoading:function(){var msg=_t("We are processing your payment, please wait ...");$.blockUI({'message':'<h2 class="text-white"><img src="/web/static/src/img/spin.png" class="fa-pulse"/>'+'    <br />'+msg+'</h2>'});},});});;

/* /sale/static/src/js/sale_portal_sidebar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('sale.SalePortalSidebar',function(require){'use strict';var publicWidget=require('web.public.widget');var PortalSidebar=require('portal.PortalSidebar');publicWidget.registry.SalePortalSidebar=PortalSidebar.extend({selector:'.o_portal_sale_sidebar',init:function(parent,options){this._super.apply(this,arguments);this.authorizedTextTag=['em','b','i','u'];this.spyWatched=$('body[data-target=".navspy"]');},start:function(){var def=this._super.apply(this,arguments);var $spyWatcheElement=this.$el.find('[data-id="portal_sidebar"]');this._setElementId($spyWatcheElement);this._generateMenu();if($.bbq.getState('allow_payment')==='yes'&&this.$('#o_sale_portal_paynow').length){this.$('#o_sale_portal_paynow').trigger('click');$.bbq.removeState('allow_payment');}
return def;},_setElementId:function(prefix,$el){var id=_.uniqueId(prefix);this.spyWatched.find($el).attr('id',id);return id;},_generateMenu:function(){var self=this,lastLI=false,lastUL=null,$bsSidenav=this.$el.find('.bs-sidenav');$("#quote_content [id^=quote_header_], #quote_content [id^=quote_]",this.spyWatched).attr("id","");_.each(this.spyWatched.find("#quote_content h2, #quote_content h3"),function(el){var id,text;switch(el.tagName.toLowerCase()){case"h2":id=self._setElementId('quote_header_',el);text=self._extractText($(el));if(!text){break;}
lastLI=$("<li class='nav-item'>").append($('<a class="nav-link" style="max-width: 200px;" href="#'+id+'"/>').text(text)).appendTo($bsSidenav);lastUL=false;break;case"h3":id=self._setElementId('quote_',el);text=self._extractText($(el));if(!text){break;}
if(lastLI){if(!lastUL){lastUL=$("<ul class='nav flex-column'>").appendTo(lastLI);}
$("<li class='nav-item'>").append($('<a class="nav-link" style="max-width: 200px;" href="#'+id+'"/>').text(text)).appendTo(lastUL);}
break;}});},_extractText:function($node){var self=this;var rawText=[];_.each($node.contents(),function(el){var current=$(el);if($.trim(current.text())){var tagName=current.prop("tagName");if(_.isUndefined(tagName)||(!_.isUndefined(tagName)&&_.contains(self.authorizedTextTag,tagName.toLowerCase()))){rawText.push($.trim(current.text()));}}});return rawText.join(' ');},});});;

/* /website_lazy_load_image/static/lib/jquery.lazy.js defined in bundle 'web.assets_frontend_lazy' */
;(function(window,undefined){"use strict";var $=window.jQuery||window.Zepto,lazyInstanceId=0,windowLoaded=false;$.fn.Lazy=$.fn.lazy=function(settings){return new LazyPlugin(this,settings);};$.Lazy=$.lazy=function(names,elements,loader){if($.isFunction(elements)){loader=elements;elements=[];}
if(!$.isFunction(loader)){return;}
names=$.isArray(names)?names:[names];elements=$.isArray(elements)?elements:[elements];var config=LazyPlugin.prototype.config,forced=config._f||(config._f={});for(var i=0,l=names.length;i<l;i++){if(config[names[i]]===undefined||$.isFunction(config[names[i]])){config[names[i]]=loader;}}
for(var c=0,a=elements.length;c<a;c++){forced[elements[c]]=names[0];}};function _executeLazy(instance,config,items,events,namespace){var _awaitingAfterLoad=0,_actualWidth=-1,_actualHeight=-1,_isRetinaDisplay=false,_afterLoad='afterLoad',_load='load',_error='error',_img='img',_src='src',_srcset='srcset',_sizes='sizes',_backgroundImage='background-image';function _initialize(){_isRetinaDisplay=window.devicePixelRatio>1;items=_prepareItems(items);if(config.delay>=0){setTimeout(function(){_lazyLoadItems(true);},config.delay);}
if(config.delay<0||config.combined){events.e=_throttle(config.throttle,function(event){if(event.type==='resize'){_actualWidth=_actualHeight=-1;}
_lazyLoadItems(event.all);});events.a=function(additionalItems){additionalItems=_prepareItems(additionalItems);items.push.apply(items,additionalItems);};events.g=function(){return(items=$(items).filter(function(){return!$(this).data(config.loadedName);}));};events.f=function(forcedItems){for(var i=0;i<forcedItems.length;i++){var item=items.filter(function(){return this===forcedItems[i];});if(item.length){_lazyLoadItems(false,item);}}};_lazyLoadItems();$(config.appendScroll).on('scroll.'+namespace+' resize.'+namespace,events.e);}}
function _prepareItems(items){var defaultImage=config.defaultImage,placeholder=config.placeholder,imageBase=config.imageBase,srcsetAttribute=config.srcsetAttribute,loaderAttribute=config.loaderAttribute,forcedTags=config._f||{};items=$(items).filter(function(){var element=$(this),tag=_getElementTagName(this);return!element.data(config.handledName)&&(element.attr(config.attribute)||element.attr(srcsetAttribute)||element.attr(loaderAttribute)||forcedTags[tag]!==undefined);}).data('plugin_'+config.name,instance);for(var i=0,l=items.length;i<l;i++){var element=$(items[i]),tag=_getElementTagName(items[i]),elementImageBase=element.attr(config.imageBaseAttribute)||imageBase;if(tag===_img&&elementImageBase&&element.attr(srcsetAttribute)){element.attr(srcsetAttribute,_getCorrectedSrcSet(element.attr(srcsetAttribute),elementImageBase));}
if(forcedTags[tag]!==undefined&&!element.attr(loaderAttribute)){element.attr(loaderAttribute,forcedTags[tag]);}
if(tag===_img&&defaultImage&&!element.attr(_src)){element.attr(_src,defaultImage);}
else if(tag!==_img&&placeholder&&(!element.css(_backgroundImage)||element.css(_backgroundImage)==='none')){element.css(_backgroundImage,"url('"+placeholder+"')");}}
return items;}
function _lazyLoadItems(allItems,forced){if(!items.length){if(config.autoDestroy){instance.destroy();}
return;}
var elements=forced||items,loadTriggered=false,imageBase=config.imageBase||'',srcsetAttribute=config.srcsetAttribute,handledName=config.handledName;for(var i=0;i<elements.length;i++){if(allItems||forced||_isInLoadableArea(elements[i])){var element=$(elements[i]),tag=_getElementTagName(elements[i]),attribute=element.attr(config.attribute),elementImageBase=element.attr(config.imageBaseAttribute)||imageBase,customLoader=element.attr(config.loaderAttribute);if(!element.data(handledName)&&(!config.visibleOnly||element.is(':visible'))&&((attribute||element.attr(srcsetAttribute))&&((tag===_img&&(elementImageBase+attribute!==element.attr(_src)||element.attr(srcsetAttribute)!==element.attr(_srcset)))||(tag!==_img&&elementImageBase+attribute!==element.css(_backgroundImage)))||customLoader))
{loadTriggered=true;element.data(handledName,true);_handleItem(element,tag,elementImageBase,customLoader);}}}
if(loadTriggered){items=$(items).filter(function(){return!$(this).data(handledName);});}}
function _handleItem(element,tag,imageBase,customLoader){++_awaitingAfterLoad;var errorCallback=function(){_triggerCallback('onError',element);_reduceAwaiting();errorCallback=$.noop;};_triggerCallback('beforeLoad',element);var srcAttribute=config.attribute,srcsetAttribute=config.srcsetAttribute,sizesAttribute=config.sizesAttribute,retinaAttribute=config.retinaAttribute,removeAttribute=config.removeAttribute,loadedName=config.loadedName,elementRetina=element.attr(retinaAttribute);if(customLoader){var loadCallback=function(){if(removeAttribute){element.removeAttr(config.loaderAttribute);}
element.data(loadedName,true);_triggerCallback(_afterLoad,element);setTimeout(_reduceAwaiting,1);loadCallback=$.noop;};element.off(_error).one(_error,errorCallback).one(_load,loadCallback);if(!_triggerCallback(customLoader,element,function(response){if(response){element.off(_load);loadCallback();}
else{element.off(_error);errorCallback();}})){element.trigger(_error);}}
else{var imageObj=$(new Image());imageObj.one(_error,errorCallback).one(_load,function(){element.hide();if(tag===_img){element.attr(_sizes,imageObj.attr(_sizes)).attr(_srcset,imageObj.attr(_srcset)).attr(_src,imageObj.attr(_src));}
else{element.css(_backgroundImage,"url('"+imageObj.attr(_src)+"')");}
element[config.effect](config.effectTime);if(removeAttribute){element.removeAttr(srcAttribute+' '+srcsetAttribute+' '+retinaAttribute+' '+config.imageBaseAttribute);if(sizesAttribute!==_sizes){element.removeAttr(sizesAttribute);}}
element.data(loadedName,true);_triggerCallback(_afterLoad,element);imageObj.remove();_reduceAwaiting();});var imageSrc=(_isRetinaDisplay&&elementRetina?elementRetina:element.attr(srcAttribute))||'';imageObj.attr(_sizes,element.attr(sizesAttribute)).attr(_srcset,element.attr(srcsetAttribute)).attr(_src,imageSrc?imageBase+imageSrc:null);imageObj.complete&&imageObj.trigger(_load);}}
function _isInLoadableArea(element){var elementBound=element.getBoundingClientRect(),direction=config.scrollDirection,threshold=config.threshold,vertical=((_getActualHeight()+threshold)>elementBound.top)&&(-threshold<elementBound.bottom),horizontal=((_getActualWidth()+threshold)>elementBound.left)&&(-threshold<elementBound.right);if(direction==='vertical'){return vertical;}
else if(direction==='horizontal'){return horizontal;}
return vertical&&horizontal;}
function _getActualWidth(){return _actualWidth>=0?_actualWidth:(_actualWidth=$(window).width());}
function _getActualHeight(){return _actualHeight>=0?_actualHeight:(_actualHeight=$(window).height());}
function _getElementTagName(element){return element.tagName.toLowerCase();}
function _getCorrectedSrcSet(srcset,imageBase){if(imageBase){var entries=srcset.split(',');srcset='';for(var i=0,l=entries.length;i<l;i++){srcset+=imageBase+entries[i].trim()+(i!==l-1?',':'');}}
return srcset;}
function _throttle(delay,callback){var timeout,lastExecute=0;return function(event,ignoreThrottle){var elapsed=+new Date()-lastExecute;function run(){lastExecute=+new Date();callback.call(instance,event);}
timeout&&clearTimeout(timeout);if(elapsed>delay||!config.enableThrottle||ignoreThrottle){run();}
else{timeout=setTimeout(run,delay-elapsed);}};}
function _reduceAwaiting(){--_awaitingAfterLoad;if(!items.length&&!_awaitingAfterLoad){_triggerCallback('onFinishedAll');}}
function _triggerCallback(callback,element,args){if((callback=config[callback])){callback.apply(instance,[].slice.call(arguments,1));return true;}
return false;}
if(config.bind==='event'||windowLoaded){_initialize();}
else{$(window).on(_load+'.'+namespace,_initialize);}}
function LazyPlugin(elements,settings){var _instance=this,_config=$.extend({},_instance.config,settings),_events={},_namespace=_config.name+'-'+(++lazyInstanceId);_instance.config=function(entryName,value){if(value===undefined){return _config[entryName];}
_config[entryName]=value;return _instance;};_instance.addItems=function(items){_events.a&&_events.a($.type(items)==='string'?$(items):items);return _instance;};_instance.getItems=function(){return _events.g?_events.g():{};};_instance.update=function(useThrottle){_events.e&&_events.e({},!useThrottle);return _instance;};_instance.force=function(items){_events.f&&_events.f($.type(items)==='string'?$(items):items);return _instance;};_instance.loadAll=function(){_events.e&&_events.e({all:true},true);return _instance;};_instance.destroy=function(){$(_config.appendScroll).off('.'+_namespace,_events.e);$(window).off('.'+_namespace);_events={};return undefined;};_executeLazy(_instance,_config,elements,_events,_namespace);return _config.chainable?elements:_instance;}
LazyPlugin.prototype.config={name:'lazy',chainable:true,autoDestroy:true,bind:'load',threshold:500,visibleOnly:false,appendScroll:window,scrollDirection:'both',imageBase:null,defaultImage:'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==',placeholder:null,delay:-1,combined:false,attribute:'data-src',srcsetAttribute:'data-srcset',sizesAttribute:'data-sizes',retinaAttribute:'data-retina',loaderAttribute:'data-loader',imageBaseAttribute:'data-imagebase',removeAttribute:true,handledName:'handled',loadedName:'loaded',effect:'show',effectTime:0,enableThrottle:true,throttle:250,beforeLoad:undefined,afterLoad:undefined,onError:undefined,onFinishedAll:undefined};$(window).on('load',function(){windowLoaded=true;});})(window);;

/* /website_lazy_load_image/static/src/js/frontend.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define("website_lazy_load_image.lazy_image_loader",function(require){"use strict";var Class=require("web.Class");var mixins=require("web.mixins");var LazyImageLoader=Class.extend(mixins.EventDispatcherMixin,{plugin:null,allFinished:null,init:function(selector){mixins.EventDispatcherMixin.init.call(this);this.allFinished=$.Deferred();this.plugin=$(selector).data("loaded",false).lazy(this._getPluginConfiguration());},_getPluginConfiguration:function(){return{afterLoad:this._afterLoad.bind(this),beforeLoad:this._beforeLoad.bind(this),onError:this._onError.bind(this),onFinishedAll:this._onFinishedAll.bind(this),chainable:false,bind:"event",};},_beforeLoad:function(el){this.trigger("beforeLoad",el);},_afterLoad:function(el){this.trigger("afterLoad",el);},_onError:function(el){this.trigger("onError",el);},_onFinishedAll:function(){this.allFinished.resolve();this.trigger("onFinishedAll");},});require("web.dom_ready");var lazy_image_loader=new LazyImageLoader("#wrapwrap > main img:not(.lazyload-disable), "+"#wrapwrap > footer img:not(.lazyload-disable), "+"#wrapwrap > main .lazyload-bg:not(.lazyload-disable)");return{lazy_image_loader:lazy_image_loader,LazyImageLoader:LazyImageLoader,};});;

/* /sale_management/static/src/js/sale_management.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('sale_management.sale_management',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.SaleUpdateLineButton=publicWidget.Widget.extend({selector:'.o_portal_sale_sidebar a.js_update_line_json',events:{'click':'_onClick',},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self.elems=self._getUpdatableElements();self.elems.$lineQuantity.change(function(ev){var quantity=parseInt(this.value);self._onChangeQuantity(quantity);});});},_onChangeQuantity:function(quantity){var href=this.$el.attr("href");var orderID=href.match(/my\/orders\/([0-9]+)/);var lineID=href.match(/update_line\/([0-9]+)/);var params={'line_id':parseInt(lineID[1]),'remove':this.$el.is('[href*="remove"]'),'unlink':this.$el.is('[href*="unlink"]'),'input_quantity':quantity>=0?quantity:false,};var token=href.match(/token=([\w\d-]*)/)[1];if(token){params['access_token']=token;}
orderID=parseInt(orderID[1]);this._callUpdateLineRoute(orderID,params).then(this._updateOrderValues.bind(this));},_onClick:function(ev){ev.preventDefault();return this._onChangeQuantity();},_callUpdateLineRoute:function(order_id,params){var url="/my/orders/"+order_id+"/update_line_dict";return this._rpc({route:url,params:params,});},_updateOrderValues:function(data){if(!data){window.location.reload();}
var orderAmountTotal=data.order_amount_total;var orderAmountUntaxed=data.order_amount_untaxed;var orderAmountTax=data.order_amount_tax;var orderAmountUndiscounted=data.order_amount_undiscounted;var orderTotalsTable=$(data.order_totals_table);var lineProductUomQty=data.order_line_product_uom_qty;var linePriceTotal=data.order_line_price_total;var linePriceSubTotal=data.order_line_price_subtotal;this.elems.$lineQuantity.val(lineProductUomQty);if(this.elems.$linePriceTotal.length&&linePriceTotal!==undefined){this.elems.$linePriceTotal.text(linePriceTotal);}
if(this.elems.$linePriceSubTotal.length&&linePriceSubTotal!==undefined){this.elems.$linePriceSubTotal.text(linePriceSubTotal);}
if(orderAmountUntaxed!==undefined){this.elems.$orderAmountUntaxed.text(orderAmountUntaxed);}
if(orderAmountTotal!==undefined){this.elems.$orderAmountTotal.text(orderAmountTotal);}
if(orderAmountUndiscounted!==undefined){this.elems.$orderAmountUndiscounted.text(orderAmountUndiscounted);}
if(orderTotalsTable){this.elems.$orderTotalsTable.find('table').replaceWith(orderTotalsTable);}},_getUpdatableElements:function(){var $parentTr=this.$el.parents('tr:first');var $linePriceTotal=$parentTr.find('.oe_order_line_price_total .oe_currency_value');var $linePriceSubTotal=$parentTr.find('.oe_order_line_price_subtotal .oe_currency_value');if(!$linePriceTotal.length&&!$linePriceSubTotal.length){$linePriceTotal=$linePriceSubTotal=$parentTr.find('.oe_currency_value').last();}
var $orderAmountUntaxed=$('[data-id="total_untaxed"]').find('span, b');var $orderAmountTotal=$('[data-id="total_amount"]').find('span, b');var $orderAmountUndiscounted=$('[data-id="amount_undiscounted"]').find('span, b');if(!$orderAmountUntaxed.length){$orderAmountUntaxed=$orderAmountTotal.eq(1);$orderAmountTotal=$orderAmountTotal.eq(0).add($orderAmountTotal.eq(2));}
return{$lineQuantity:this.$el.closest('.input-group').find('.js_quantity'),$linePriceSubTotal:$linePriceSubTotal,$linePriceTotal:$linePriceTotal,$orderAmountUntaxed:$orderAmountUntaxed,$orderAmountTotal:$orderAmountTotal,$orderTotalsTable:$('#total'),$orderAmountUndiscounted:$orderAmountUndiscounted,};}});});;

/* /payment_mollie_official/static/src/js/payment_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('mollie.payment.form',function(require){"use strict";var payement_form=require('payment.payment_form')
var core=require('web.core');var Dialog=require('web.Dialog');var publicWidget=require('web.public.widget');var ajax=require('web.ajax');var _t=core._t;publicWidget.registry.PaymentForm.include({events:_.extend({'click .o_issuer':'_clickIssuer',},publicWidget.registry.PaymentForm.prototype.events),init:function(){this.mollie_loaded=false;this.mollieJSURL="https://js.mollie.com/v1/mollie.js";return this._super.apply(this,arguments);},willStart:function(){var self=this;self.libPromise=ajax.loadJS(self.mollieJSURL);return this._super.apply(this,arguments).then(function(){return self.libPromise;});},updateNewPaymentDisplayStatus:function(){var self=this;var $checkedRadio=this.$('input[type="radio"]:checked');if($checkedRadio.length!==1){return;}
var response=this._super.apply(this,arguments);var provider=$checkedRadio.data('provider');var methodName=$checkedRadio.data('methodname');if(provider==='mollie'&&(methodName==='creditcard'||methodName==='ideal')){this.$('[id*="o_payment_add_token_acq_"]').addClass('d-none');this.$('[id*="o_payment_form_acq_"]').addClass('d-none');this.$('#o_payment_form_acq_'+methodName).removeClass('d-none');if(!this.mollie_loaded&&methodName==='creditcard'){this.mollie_loaded=true;self.libPromise.then(function(){self._loadMollieComponent();});}}
return response;},payEvent:function(ev){ev.preventDefault();var form=this.el;var self=this;if(ev.type==='submit'){var button=$(ev.target).find('*[type="submit"]')[0]}else{var button=ev.target;}
var $checkedRadio=this.$('input[type="radio"]:checked');if($checkedRadio.length===1&&$checkedRadio.data('provider')==='mollie'){this.disableButton(button);var methodName=$checkedRadio.data('methodname');if(methodName==='creditcard'){return this._getMollieToken(button).then(this._createMollieTransaction.bind(this,methodName,button));}else{return this._createMollieTransaction(methodName,button);}}else{return this._super.apply(this,arguments);}},_loadMollieComponent:function(){var mollieProfileId=this.$('#o_mollie_component').data('profile_id');var mollieTestMode=this.$('#o_mollie_component').data('mode')==='test';this.mollieComponent=Mollie(mollieProfileId,{locale:'en_US',testmode:mollieTestMode});this._bindMollieInputs();},_getMollieToken:function(button){var self=this;return this.mollieComponent.createToken().then(function(result){if(result.error){self.displayNotification({type:'danger',title:_t("Error"),message:result.error.message,sticky:false,});self.enableButton(button);}
return result.token||false;});},_createMollieTransaction:function(paymentmethod,button,token){if(!token&&paymentmethod==='creditcard'){return;}
var self=this;var issuer=false;var checked_radio=this.$('input[type="radio"]:checked')[0];var acquirer_id=this.getAcquirerIdFromRadio(checked_radio);var $tx_url=this.$el.find('input[name="prepare_tx_url"]');if(paymentmethod==='ideal'){issuer=this.$('#o_payment_form_acq_ideal .o_issuer.active').data('methodname');}
if($tx_url.length===1){return this._rpc({route:$tx_url[0].value,params:{'acquirer_id':parseInt(acquirer_id),'save_token':false,'access_token':this.options.accessToken,'success_url':this.options.successUrl,'error_url':this.options.errorUrl,'callback_method':this.options.callbackMethod,'order_id':this.options.orderId,'mollie_payment_token':token,'paymentmethod':paymentmethod,'mollie_issuer':issuer},}).then(function(result){if(result){var newForm=document.createElement('form');newForm.setAttribute("method","post");newForm.setAttribute("provider",checked_radio.dataset.provider);newForm.hidden=true;newForm.innerHTML=result;var action_url=$(newForm).find('input[name="data_set"]').data('actionUrl');newForm.setAttribute("action",action_url);$(document.getElementsByTagName('body')[0]).append(newForm);$(newForm).find('input[data-remove-me]').remove();var errorInput=$(newForm).find("input[name='error_msg']");if(errorInput&&errorInput.val()){var msg=_t('Payment method is not supported. Try another payment method or contact us');var errorMsg=(errorInput.val()||"");new Dialog(null,{title:_t('Info'),size:'medium',$content:_.str.sprintf('<p><b><b> %s </b> <br/> <span class="small text-muted"> Error Message: %s </span> </p>',msg,errorMsg),buttons:[{text:_t('Ok'),close:true}]}).open();self.enableButton(button);return new Promise(function(){});}
if(action_url){newForm.submit();return new Promise(function(){});}}
else{self.displayError(_t('Server Error'),_t("We are not able to redirect you to the payment form."));self.enableButton(button);}}).guardedCatch(function(error){error.event.preventDefault();self.displayError(_t('Server Error'),_t("We are not able to redirect you to the payment form.")+" "+
self._parseError(error));});}
else{this.displayError(_t("Cannot setup the payment"),_t("We're unable to process your payment."));self.enableButton(button);}},_bindMollieInputs:function(){var cardHolder=this.mollieComponent.createComponent('cardHolder');cardHolder.mount('#mollie-card-holder');var cardNumber=this.mollieComponent.createComponent('cardNumber');cardNumber.mount('#mollie-card-number');var expiryDate=this.mollieComponent.createComponent('expiryDate');expiryDate.mount('#mollie-expiry-date');var verificationCode=this.mollieComponent.createComponent('verificationCode');verificationCode.mount('#mollie-verification-code');var cardHolderError=this.$('#mollie-card-holder-error')[0];cardHolder.addEventListener('change',function(ev){if(ev.error&&ev.touched){cardHolderError.textContent=ev.error;}else{cardHolderError.textContent='';}});var cardNumberError=this.$('#mollie-card-number-error')[0];cardNumber.addEventListener('change',function(ev){if(ev.error&&ev.touched){cardNumberError.textContent=ev.error;}else{cardNumberError.textContent='';}});var expiryDateError=this.$('#mollie-expiry-date-error')[0];expiryDate.addEventListener('change',function(ev){if(ev.error&&ev.touched){expiryDateError.textContent=ev.error;}else{expiryDateError.textContent='';}});var verificationCodeError=this.$('#mollie-verification-code-error')[0];verificationCode.addEventListener('change',function(ev){if(ev.error&&ev.touched){verificationCodeError.textContent=ev.error;}else{verificationCodeError.textContent='';}});},_clickIssuer:function(ev){var $container=$(ev.currentTarget).closest('.o_issuer_container');$container.find('.o_issuer').removeClass('active');$(ev.currentTarget).addClass('active');}});});